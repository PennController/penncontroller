{"code":"/*!\n * PennController for IBEX\n * This software is licensed under a BSD license; see the LICENSE file for details.\n * \n *  - Version 1.9\n *  - Last Update:  2020, December 12\n *  - Major changes in version 1.9:\n *    * Fixed buffer-event detection in audio & video resources\n *    * Labels of Scale element no longer systematically show up with radio display\n *    * Revised CSS (now mostly flex based)\n *    * Partial revision of MediaRecorder.stop\n *    * The commands .left, .center and .right no longer align the text itself, but the whole element instead\n *    * The command canvas.color now changes the background color of the Canvas element\n *    * Made the fullscreen commands compatible across browsers\n *    * Fixed VBox(-based) controllers\n *    * audio.stop now validates audio.wait\n *    * Made InitiateRecorder and UploadRecordings usable as in-trial commands\n *    * Fixed a few problems with .print\n *    * Selectors now report the order of elements in the results file\n *    * Fixed audio file automatically replaying at the end of trials if not stopped first\n *    * Fixed tooltip.print(x,y,canvas)\n *    + Passing an element reference as the single argument of .print now inserts the element as inline inside the referenced one\n *    + Added self keyword referring to current element\n *    + Added commands timer.pause, timer.resume and timer.set\n *    + Added standard command .scaling that scales elements using a zoom index/to a given size/container\n *    + Added scale.checkbox\n *    + Added mousetracker.callback(\"click\", ...) and mousetracker.log(\"click\")\n *    + Added mousetracker.test.over\n *    + selector.keys now accepts special keycodes (Enter, Escape, ArrowLeft, LeftShift, etc.)\n *    + It is now possible to split results-sending across multiple chunks (use with caution)\n *    + It is now possible to send the results to a custom URL by using SendResults as an in-trial command\n * \n */\n/*! $AC$ PennController.newVoiceRecorder(name,file) Creates a new VoiceRecorder element $AC$$AC$ PennController.getVoiceRecorder(name) Retrieves an existing Video element $AC$$AC$ global.PennController.InitiateRecorder(url,warning,consent) Sets the URL where to upload the recordings and creates a trial inviting the user to activate their microphone $AC$$AC$ global.PennController.UploadVoiceRecordings(label,noblock) Creates a trial that sends the voice recordings to the server $AC$$AC$ VoiceRecorder PElement.play() Starts playing back the recording $AC$$AC$ VoiceRecorder PElement.record() Starts recording $AC$$AC$ VoiceRecorder PElement.stop() Stops playback or recording $AC$$AC$ VoiceRecorder PElement.wait() Waits until recording stops before proceeding $AC$$AC$ VoiceRecorder PElement.once() Will disable the recording interface after the first recording is complete $AC$$AC$ VoiceRecorder PElement.log() Will log events in the results file $AC$$AC$ VoiceRecorder PElement.test.hasPlayed() Checks that the recording was fully played back before $AC$$AC$ VoiceRecorder PElement.test.playing() Checks that the recording is currently being played back $AC$$AC$ VoiceRecorder PElement.test.recorded() Checks that recording has happened $AC$$AC$ global.PennController.DownloadVoiceButton(text) Returns an HTML string representing a button to download an archive of the recordings $AC$ */\n/*! $AC$ PennController.newYoutube(name,url) Creates a new Youtube element with the specified URL $AC$$AC$ PennController.getYoutube(name) Retrieves an existing Youtube element $AC$$AC$ Youtube PElement.play() Starts playing the video (visible only if print was called) $AC$$AC$ Youtube PElement.pause() Pauses the video $AC$$AC$ Youtube PElement.print() Shows Youtube's video player $AC$$AC$ Youtube PElement.remove() Removes Youtube's video player $AC$$AC$ Youtube PElement.stop() Stops the video and goes back to the beginning $AC$$AC$ Youtube PElement.wait() Wait until the video reaches the end before proceeding $AC$$AC$ Youtube PElement.disable() Disables the Youtube video player $AC$$AC$ Youtube PElement.enable() Enables the Youtube video player (again) $AC$$AC$ Youtube PElement.once() Will disable the Youtube video player after the video has played once $AC$$AC$ Youtube PElement.log() Will log play and/or stop events in the results file $AC$$AC$ Youtube PElement.test.hasPlayed() Checks that the video has ever played through before $AC$$AC$ Youtube PElement.test.playing() Checks that the video is currently playing $AC$ */\n/*! $AC$ PennController.newVideo(name,file) Creates a new Video element using the specified file $AC$$AC$ PennController.getVideo(name) Retrieves an existing Video element $AC$$AC$ Video PElement.play() Starts playing the video (visible only if print was called) $AC$$AC$ Video PElement.pause() Pauses the video $AC$$AC$ Video PElement.print() Shows a video player $AC$$AC$ Video PElement.stop() Stops playing the video $AC$$AC$ Video PElement.wait() Waits untils the video reaches the end before proceeding $AC$$AC$ Video PElement.disable(opacity) Disable controls on the Video element $AC$$AC$ Video PElement.once() Will disable the video player after the video has played through once $AC$$AC$ Video PElement.log() Will log play and/or stop events in the results file $AC$$AC$ Video PElement.test.hasPlayed() Checks that the video has played through at least once before $AC$$AC$ Video PElement.test.playing() Checks that the video is currently playing $AC$ */\n/*! $AC$ PennController.newVar(name,value) Creates a new Var element $AC$$AC$ PennController.getVar(name) Retrieves an existing Var element $AC$$AC$ Var PElement.set(value) Sets the value (can be a function, e.g. v=>v+1 will increment the value) $AC$$AC$ Var PElement.local() Ensures that the value of this Var element only affects the current trial $AC$$AC$ Var PElement.global() Shares the value with all Var elements with the same name across trials $AC$$AC$ Var PElement.test.is(value) Checks the value of the Var element (can be a function, e.g. v=>v<10) $AC$$AC$ all PElements.setVar(var) Sets the value of the specified Var element with the current value of the element $AC$ */\n/*! $AC$ PennController.newTooltip(name,text) Creates a new Tooltip element $AC$$AC$ PennController.getTooltip(name) Retrieves an existing Tooltip element $AC$$AC$ Tooltip PElement.print(element) Prints the tooltip attached to the specified element $AC$$AC$ Tooltip PElement.wait() Waits until the tooltip gets validated before proceeding $AC$$AC$ Tooltip PElement.css(css) Applies the specified CSS to the frame around the target element $AC$$AC$ Tooltip PElement.key(key) Will validate (and remove) the tooltip whenever the specified key is pressed $AC$$AC$ Tooltip PElement.label(text) Defines the text used for the validation label $AC$$AC$ Tooltip PElement.log() Will log when the tooltip is validated in the results file $AC$$AC$ Tooltip PElement.position(position) Will show the tooltip at the top, at the bottom, to the left or to the right of the element it attaches to $AC$$AC$ Tooltip PElement.text(value) Redefines the text of the tooltip $AC$ */\n/*! $AC$ PennController.newTimer(name,duration) Creates a new Timer element $AC$$AC$ PennController.getTimer(name) Retrieves an existing Timer element $AC$$AC$ Timer PElement.start() Starts the timer $AC$$AC$ Timer PElement.stop() Stops the timer $AC$$AC$ Timer PElement.wait() Waits until the timer elapses before proceeding $AC$$AC$ Timer PElement.callback(commands) Will execute the specified command(s) whenever the timer elapses $AC$$AC$ Timer PElement.log() Will log when the timer starts and ends in the results file $AC$$AC$ Timer PElement.test.ended() Checks that the timer has ever elapsed before $AC$$AC$ Timer PElement.test.running() Checks that the timer is currently running $AC$ */\n/*! $AC$ PennController.newTextInput(name,text) Creates a new TextInput element $AC$$AC$ PennController.getTextInput(name) Retrieves an existing TextInput element $AC$$AC$ TextInput PElement.wait() Waits until Enter is pressed in the input box before proceeding $AC$$AC$ TextInput PElement.length(number) Limits the maximum number of characters in the input box to the specified number $AC$$AC$ TextInput PElement.lines(number) Limits the maximum number of lines in the input box to the specified number $AC$$AC$ TextInput PElement.log() Will log the text from the input box in the results file $AC$$AC$ TextInput PElement.once() Will disable the input box after the first keypress on Enter/Return $AC$$AC$ TextInput PElement.text(value) Replaces whatever is in the input box with the specified value $AC$$AC$ TextInput PElement.test.text(value) Checks that the content of the input box corresponds to the specified value $AC$ */\n/*! $AC$ PennController.newText(name,text) Creates a new Text element $AC$$AC$ PennController.getText(name) Retrieves an existing Text element $AC$$AC$ Text PElement.unfold(duration) Unfolds the text in duration milliseconds $AC$$AC$ Text PElement.text(text) Redefines the text of the element $AC$$AC$ Text PElement.test.text(value) Checks that the text of the element corresponds to the specified value $AC$ */\n/*! $AC$ PennController.newSelector(name) Creates a new Selector element $AC$$AC$ PennController.getSelector(name) Retrieves an existing Selector element $AC$$AC$ Selector PElement.select(element) Selects the specified element $AC$$AC$ Selector PElement.shuffle() Shuffles the positions on the page of the selector's elements $AC$$AC$ Selector PElement.unselect() Unselects the element that is currently selected $AC$$AC$ Selector PElement.wait() Waits until a selection happens before proceeding $AC$$AC$ Selector PElement.add(elements) Adds one or more elements to the selector $AC$$AC$ Selector PElement.callback(commands) Will execute the specified command(s) whenever selection happens $AC$$AC$ Selector PElement.disableClicks() Disables selection by click $AC$$AC$ Selector PElement.enableClicks() Enables selection by click (again) $AC$$AC$ Selector PElement.frame(css) Attributes the CSS style to the selection frame $AC$$AC$ Selector PElement.keys(keys) Associates the elements in the selector (in the order they were added) with the specified keys $AC$$AC$ Selector PElement.log() Will log any selection to the results file $AC$$AC$ Selector PElement.once() Will disable the selector after the first selection $AC$$AC$ Selector PElement.test.selected(element) Checks that the specified element, or any element if non specified, is selected $AC$$AC$ Selector PElement.test.index(element,index) Checks that the specified element is at the specified index position in the selector $AC$$AC$ all PElements.selector(selector) Adds the element to the specified selector $AC$ */\n/*! $AC$ PennController.newScale(name,numberOrValues) Creates a new Scale element $AC$$AC$ PennController.getScale(name) Retrieves an existing Scale element $AC$$AC$ Scale PElement.select(option) Selects the specified option on the scale $AC$$AC$ Scale PElement.wait() Waits until a selection happens before proceeding $AC$$AC$ Scale PElement.button() Transforms the scale options into buttons $AC$$AC$ Scale PElement.callback(commands) Will execute the specified command(s) whenever selection happens $AC$$AC$ Scale PElement.default(value) Sets the specified value to be selected by default $AC$$AC$ Scale PElement.horizontal() Aligns the scale's options horizontally (again) $AC$$AC$ Scale PElement.keys(keys) Associates the scale's options with the specified keys for selection $AC$$AC$ Scale PElement.label(index,label) Gives the specified label to the option at the specified index on the scale $AC$$AC$ Scale PElement.labelsPosition(position) Will show the labels on top, at the bottom, to the left or to the right of the options $AC$$AC$ Scale PElement.log() Will log the selected option in the results file $AC$$AC$ Scale PElement.once() Will disable the scale after the first selection $AC$$AC$ Scale PElement.radio() Will show the scale's options as radio buttons $AC$$AC$ Scale PElement.slider() Will show the scale as a slider $AC$$AC$ Scale PElement.horizontal() Aligns the scale's options vertically $AC$$AC$ Scale PElement.test.selected(option) Checks that the option, or any option if none specified, is selected $AC$ */\n/*! $AC$ PennController.newPalette(name) Creates a new Palette element $AC$$AC$ PennController.getPalette(name) Retrieves an existing Palette element $AC$$AC$ Palette PElement.brush(element,color) Colors the specified element with the specified color $AC$$AC$ Palette PElement.clear() Makes all the elements of the palette transparent $AC$$AC$ Palette PElement.unselect() Unselects the color from the palette that was currently selected $AC$$AC$ Palette PElement.wait() Waits until an element is clicked and colored before proceeding $AC$$AC$ Palette PElement.addColor(color,element) Adds the specified color to the palette, to be selected by clicking on the specified element $AC$$AC$ Palette PElement.addElement(elements) Adds the specified element(s) as targets for coloration $AC$$AC$ Palette PElement.callback(commands) Will execute the specified command(s) whenever an element is colored $AC$$AC$ Palette PElement.enable() Enables the palette $AC$$AC$ Palette PElement.disable() Disables the palette $AC$$AC$ Palette PElement.log() Will log any coloration to the results file $AC$$AC$ Palette PElement.once() Will disable the palette after the first coloration $AC$$AC$ Palette PElement.remove(color) Removes the specified color from the palette (leaving any associated element on the page) $AC$$AC$ Palette PElement.test.color(element,color) Checks that the specified element has been colored with the specified color $AC$ */\n/*! $AC$ PennController.newMouseTracker(name) Creates a new MouseTracker element $AC$$AC$ PennController.getMouseTracker(name) Retrieves an existing MouseTracker element $AC$$AC$ Mouse PElement.start() Starts listening to mouse movements $AC$$AC$ Mouse PElement.stop() Stops listening to mouse movements $AC$$AC$ Mouse PElement.callback( commands ) Runs the specified command(s) when the mouse moves $AC$$AC$ Mouse PElement.log() Logs the X and Y positions of the mouse $AC$ */\n/*! $AC$ PennController.newMediaRecorder(name,type) Creates a new MediaRecorder element of type \"audio\" or \"video\" $AC$$AC$ PennController.getMediaRecorder(name) Retrieves an existing MediaRecorder element $AC$$AC$ global.PennController.InitiateRecorder(url,warning,consent) Sets the URL where to upload the recordings and creates a trial inviting the user to activate their microphone $AC$$AC$ global.PennController.UploadRecordings(label,noblock) Creates a trial that sends the recordings to the server $AC$$AC$ MediaRecorder PElement.play() Starts playing back the recording $AC$$AC$ MediaRecorder PElement.record() Starts recording $AC$$AC$ MediaRecorder PElement.stop() Stops playback or recording $AC$$AC$ MediaRecorder PElement.wait() Waits until recording stops before proceeding $AC$$AC$ MediaRecorder PElement.once() Will disable the recording interface after the first recording is complete $AC$$AC$ MediaRecorder PElement.log() Will log events in the results file $AC$$AC$ MediaRecorder PElement.test.hasPlayed() Checks that the recording was fully played back before $AC$$AC$ MediaRecorder PElement.test.playing() Checks that the recording is currently being played back $AC$$AC$ MediaRecorder PElement.test.recorded() Checks that recording has happened $AC$$AC$ global.PennController.DownloadRecordingButton(text) Returns an HTML string representing a button to download an archive of the recordings $AC$ */\n/*! $AC$ PennController.newKey(name,key) Creates a new Key element $AC$$AC$ PennController.getKey(name) Retrieves an existing Key element $AC$$AC$ Key PElement.wait() Waits until the key, or one of the keys, is pressed before proceeding $AC$$AC$ Key PElement.callback(commands) Will run the specified command(s) whenever a valid keypress happens $AC$$AC$ Key PElement.disable() Stops listening to keypresses $AC$$AC$ Key PElement.enable() Starts listening to keypresses (again) $AC$$AC$ Key PElement.log() Will log any valid keypress in the results file $AC$$AC$ Key PElement.test.pressed(key) Checks that the key, or any key if none specified, has been pressed before $AC$ */\n/*! $AC$ PennController.newImage(name,file) Creates a new Image element $AC$$AC$ PennController.getImage(name) Retrieves an existing Image element $AC$ */\n/*! $AC$ PennController.newHtml(name,file) Creates a new Html element $AC$$AC$ PennController.getHtml(name) Retrieves an existing Html element $AC$$AC$ Html PElement.warn() Displays warning messages if some obligatory fields were not filled $AC$$AC$ Html PElement.checkboxWarning(message) Defines the warning message displayed when an obligatory checkbox group is not checked $AC$$AC$ Html PElement.inputWarning(message) Defines the warning message displayed when an obligatory input is not filled $AC$$AC$ Html PElement.log() Logs the values of the fields from the Html in the results file $AC$$AC$ Html PElement.radioWarning(message) Defines the warning message displayed when an radio button group input is not selected $AC$$AC$ Html PElement.test.complete() Checks that all the obligatory fields have been filled $AC$ */\n/*! $AC$ PennController.newGroup(name,elements) Creates a new Group element $AC$$AC$ PennController.getGroup(name) Retrieves an existing Group element $AC$$AC$ Group PElement.shuffle() Shuffles the positions of the elements on the page $AC$$AC$ Group PElement.add(elements) Adds one or more elements to the group $AC$$AC$ Group PElement.remove(elements) Removes one or more elements from the group $AC$$AC$ Group PElement.test.index(element,index) Checks the index of the specified element in the group $AC$$AC$ all PElements.group(name) Adds the element to the Group element with the specified name $AC$ */\n/*! $AC$ PennController.newFunction(name,function) Creates a new Function element $AC$$AC$ PennController.getFunction(name) Retrieves an existing Function element $AC$$AC$ Function PElement.call() Executes the function $AC$$AC$ Function PElement.test.is(value) Checks that the function returns the specified value $AC$ */\n/*! $AC$ PennController.newEyeTracker(name) Creates a new EyeTracker element $AC$$AC$ PennController.getEyeTracker(name) Retrieves an existing EyeTracker element $AC$$AC$ PennController.EyeTrackerURL(url) Will send eye-tracking data to specified URL $AC$$AC$ EyeTracker PElement.calibrate(threshold,attempts) Starts a sequence of calibration $AC$$AC$ EyeTracker PElement.hideFeedback() Hides the red dot estimating the position of the eyes on the page $AC$$AC$ EyeTracker PElement.start() Starts parsing eye movements $AC$$AC$ EyeTracker PElement.stop() Stops parsing eye movements $AC$$AC$ EyeTracker PElement.stopTraining() Stop training the model whenever the mouse moves or clicks $AC$$AC$ EyeTracker PElement.showFeedback() Shows the red dot estimating the position of the eyes on the page $AC$$AC$ EyeTracker PElement.train() Starts training the model on every click and mouse movement (default) $AC$$AC$ EyeTracker PElement.add(elements) Adds one or more elements of interest to the EyeTracker $AC$$AC$ EyeTracker PElement.callback(function) Runs the specified javascript function whenever the eyes look at an element of interest $AC$$AC$ EyeTracker PElement.log() Logs the X and Y positions of the eyes every N milliseconds (see documentation) $AC$$AC$ EyeTracker PElement.trainOnMouseMove(true) Tells the model whether to use mouse movements to improve its estimations $AC$ */\n/*! $AC$ PennController.newDropDown(name,text) Creates a new DropDown element $AC$$AC$ PennController.getDropDown(name) Retrieves an existing DropDown element $AC$$AC$ DropDown PElement.shuffle() Shuffles the options currently in the drop-down $AC$$AC$ DropDown PElement.select(option) Selects the specified option $AC$$AC$ DropDown PElement.wait() Wait until an option is selectd before proceeding $AC$$AC$ DropDown PElement.add(options) Adds one or more options to the drop-down $AC$$AC$ DropDown PElement.remove(option) Removes the specified option from the drop-down $AC$$AC$ DropDown PElement.test.selected(option) Checks that the specified option, or any if none specified, is selected $AC$ */\n/*! $AC$ PennController.newController(name,controller,options) Creates a new Controller element $AC$$AC$ PennController.getController(name) Retrieves an existing Controller element $AC$$AC$ Controller PElement.wait() Waits until the controller has been completed before proceeding $AC$ */\n/*! $AC$ PennController.newCanvas(name,width,height) Creates a new Canvas element $AC$$AC$ PennController.getCanvas(name) Retrieves an existing Canvas element $AC$$AC$ Canvas PElement.add(x,y,element) Places an element at (X,Y) on the canvas $AC$ */\n/*! $AC$ PennController.newButton(name,text) Creates a new Button element $AC$$AC$ PennController.getButton(name) Retrieves an existing Button element $AC$$AC$ Button PElement.click() Simulates a click on the button $AC$$AC$ Button PElement.wait() Waits until the button is clicked before proceeding $AC$$AC$ Button PElement.callback(commands) Tell the button to run a (series of) command(s) whenever it is clicked $AC$$AC$ Button PElement.log() Logs clicks on the button in the results file $AC$$AC$ Button PElement.once() Will disable the button after the first click $AC$$AC$ Button PElement.test.clicked() Checks that the button has been clicked before $AC$ */\n/*! $AC$ PennController.newAudio(name,file) Creates a new Audio element $AC$$AC$ PennController.getAudio(name) Retrieves an existing Audio element $AC$$AC$ Audio PElement.play() Starts the audio playback $AC$$AC$ Audio PElement.pause() Pauses the audio playback $AC$$AC$ Audio PElement.print() Prints an interface to control the audio playback $AC$$AC$ Audio PElement.stop() Stops the audio playback $AC$$AC$ Audio PElement.wait() Waits until the audio playback has ended $AC$$AC$ Audio PElement.disable(opacity) Disables the interface $AC$$AC$ Audio PElement.enable() Enables the interface $AC$$AC$ Audio PElement.once() The interface will be disabled after the first playback $AC$$AC$ Audio PElement.log() Logs playback events $AC$$AC$ Audio PElement.test.hasPlayed() Checks whether the audio has ever been played fully $AC$$AC$ Audio PElement.test.playing() Checks whether the audio is currently playing $AC$ */\n/*! $AC$ PennController().label(label) Assigns a label to the generated PennController trial $AC$$AC$ PennController().log(name,value) Adds value to each line of this trial in the results file $AC$$AC$ PennController().noHeader() Will not run commands from the header at the beginning of this trial $AC$$AC$ PennController().noFooter() Will not run commands from the footer at the end of this trial $AC$$AC$ PennController().setOption(option,value) Sets options for the controller (see Ibex manual) $AC$$AC$ global.PennController.Debug() Enables the debug mode for testing your experiment $AC$$AC$ global.PennController.DebugOff() Disables the debug mode; use before making public $AC$$AC$ global.PennController.Sequence(sequence) Defines the running order of your trials, based on their labels (see documentation) $AC$$AC$ global.PennController.GetURLParameter(parameter) Returns the value of the parameter from the URL $AC$$AC$ global.PennController.AddHost(url) Will look resources at the specified URL $AC$$AC$ global.PennController.CheckPreloaded() Creates a trial that is validated when the resources are preloaded $AC$$AC$ global.PennController.SendResults(label) Creates a trial that sends the results to the server $AC$$AC$ global.PennController.SetCounter(value) Set Ibex's internal counter to a specified value (see Ibex manual) $AC$$AC$ global.PennController.Header(commands) Will run the commands at the beginning of every PennController trial $AC$$AC$ global.PennController.Footer(commands) Will run the commands at the end of every PennController trial $AC$$AC$ all PElements.print() Prints the element $AC$$AC$ all PElements.refresh() Reprints the element where it is $AC$$AC$ all PElements.remove() Removes the element from the page $AC$$AC$ all PElement.wait() Waits until the element has been validated before proceeding $AC$$AC$ all PElements.after(element) Prints an element to the right of the current element $AC$$AC$ all PElements.before(element) Prints an element to the left of the current element $AC$$AC$ all PElements.bold() Prints the text, if any, as boldfaced $AC$$AC$ all PElements.center() Centers the element on the page $AC$$AC$ all PElements.color(color) Prints the text, if any, in the color specified $AC$$AC$ all PElements.cssContainer(option,value) Applies the CSS to the container of the element $AC$$AC$ all PElements.css(option,value) Applies the CSS to the element $AC$$AC$ all PElements.disable() Disables the element $AC$$AC$ all PElements.enable() Enables the element $AC$$AC$ all PElements.hidden() Hides the element (will still leave a blank space) $AC$$AC$ all PElements.italic() Prints the text, if any, as italicized $AC$$AC$ all PElements.left() Aligns the element with the left edge of the printing area $AC$$AC$ all PElements.right() Aligns the element with the right edge of the printing area $AC$$AC$ all PElements.size(width,height) Gives the element a specific width and/or height $AC$$AC$ all PElements.visible() Makes the element visible (again) $AC$$AC$ all PElements.test.printed() Checks that the element is printed on the page $AC$$AC$ Special Command.fullscreen() Makes the page fullscreen $AC$$AC$ Special Command.exitFullscreen() Goes back to non-fullscreen $AC$$AC$ Special Command.clear() Removes all the PElements currently on the page $AC$$AC$ Special Command.end() Ends the trial immediately $AC$$AC$ global.PennController.ResetPrefix(prefix) Resets the prefix for the new* and get* commands; pass null to make them global $AC$$AC$ global.PennController.Template(table,penncontroller) Generates trials from a table $AC$$AC$ global.PennController.PreloadZip() Silently downloads a ZIP file containing resources $AC$ */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=46)}([function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(1);let i=[],s={keypress:[]};class o{constructor(e,t){this.name=e,this.value=e,this.creator=t,this.controllers=[],this.object=null,this.status=\"void\"}create(){this.status=\"pending\",this.creator.apply(this,[()=>this.resolve()])}resolve(){this.status=\"ready\",a.debug.log(\"<div style='color: purple;'>Successfully preloaded resource \"+this.name+\"</div>\")}}var a={resources:{list:[],fetch:function(e,t,n){n=null==n|1==n;var r=a.resources.list.filter(t=>t.name==e&&t.controllers.indexOf(a.controllers.underConstruction.id)<0);if((r=r.length?r[0]:new o(e,t)).controllers.push(a.controllers.underConstruction.id),a.controllers.underConstruction.resources.push(r),\"void\"!=r.status)return r;if(r.creator=t,r.create(),n)for(let t in a.URLs)r.create.apply($.extend({},r,{value:a.URLs[t]+e,resolve:function(){\"ready\"!=r.status&&(r.object=this.object,r.resolve())}}));return a.resources.list.push(r),r}},controllers:{list:[],running:null,underConstruction:null},elements:{list:[]},events:{keypress:e=>{let t=[e,a.controllers.running||a.controllers.underConstruction];if(s.keypress.push(t),a.controllers.running){let e=a.controllers._endTrial;a.controllers.running._endTrial=async function(){await e.apply(a.controllers.running),t[0]=()=>{}}}else{let e=a.controllers.underConstruction.sequence;a.controllers.underConstruction.sequence=Object(r.d)([e,e=>{t[0]=()=>{},e()}])}}},URLs:[],utils:{guidGenerator:r.b,parseCoordinates:r.h,printAndRefreshUntil:r.j,levensthein:r.e,upload:r.k,overToScale:r.g},tmpItems:[],tables:{},Prerun:function(e){i.push(e)}};let l=window.ibex_controller_set_properties;window.ibex_controller_set_properties=function(e,t){if(l(e,t),\"__SendResults__\"==e){document.addEventListener(\"keydown\",e=>{if(!e.repeat&&a.controllers.running)for(let t=0;t<s.keypress.length;t++)a.controllers.running!=s.keypress[t][1]&&a.controllers.running.id!=s.keypress[t][1]||s.keypress[t][0].apply(this,[e])});for(let e in i)i[e]instanceof Function&&i[e].call()}}},function(e,t,n){\"use strict\";function r(e){return()=>new Promise((async function(t){for(let t in e)if(e[t]instanceof Function)var n=await e[t]();t(n)}))}function i(e){const t=new Uint8Array(e);let n=[];return t.forEach(e=>{n.push(e.toString(16))}),n.join(\"\").toUpperCase()}n.d(t,\"d\",(function(){return r})),n.d(t,\"c\",(function(){return i})),n.d(t,\"g\",(function(){return o})),n.d(t,\"k\",(function(){return a})),n.d(t,\"a\",(function(){return l})),n.d(t,\"f\",(function(){return u})),n.d(t,\"b\",(function(){return c})),n.d(t,\"i\",(function(){return h})),n.d(t,\"h\",(function(){return d})),n.d(t,\"j\",(function(){return p})),n.d(t,\"e\",(function(){return m}));const s=function(e){const t=this.css(\"transform\").match(/matrix\\(\\s*(-?\\d+(.\\d+)?),[^,]+,[^,]+,\\s*(-?\\d+(.\\d+)?),/);return t&&(e.x=e.x*Number(t[1]),e.y=e.y*Number(t[3])),e};function o(e,t){let n=this,r={x:1,y:1};for(;n;)s.call(n,r),n=n.parent(),n[0]===document&&(n=void 0);let i=this.offset(),o=this.width(),a=this.height(),l=o*r.x,u=a*r.y;return i.left<=e&&i.top<=t&&i.left+l>=e&&i.top+u>=t}async function a(e,t,n,r){const i=await new Promise(n=>{const i=new XMLHttpRequest,s=e.match(/\\?/)?\"?\":\"&\";i.open(\"GET\",e+s+\"filename=\"+t+\"&mimetype=\"+r,!0),i.setRequestHeader(\"Content-Type\",\"application/json\"),i.send(),i.onload=function(){\"json\"==this.responseType?n(JSON.parse(this.responseText)):\"\"!=this.responseType&&\"text\"!=this.responseType||n(this.responseText)}}),s=new FormData;return void 0===i||\"text\"==typeof i?(s.append(\"fileName\",t),s.append(\"file\",n),s.append(\"mimeType\",r)):(Object.keys(i).forEach(e=>s.append(e,i[e])),s.append(\"file\",n),e=i.url,i.key&&(t=i.key)),new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(\"POST\",e,!0),i.send(s),i.onload=function(){204===this.status?n(t):r(this.responseText)}})}function l(e,t){if(e.match(/^00000[12]00/i))return\"image/x-icon\";if(e.match(/424D/i))return\"image/bmp\";if(e.match(/^89504E470?D0?A1A0?A/i))return\"image/png\";if(e.match(/^474946383[79]61/i))return\"image/gif\";if(e.match(/^52494646........574542505650/i))return\"image/webp\";if(e.match(/^FFD8FF/i))return\"image/jpeg\";if(e.match(/^2E736E64/i))return\"audio/basic\";if(e.match(/^464F524D........41494646/i))return\"audio/aiff\";if(e.match(/^(fff[b3a2]|494433)/i))return\"audio/mpeg\";if(e.match(/^4F67675300/i))return\"application/ogg\";if(e.match(/^4D546864......06/i))return\"audio/midi\";if(e.match(/^52494646........41564920/i))return\"video/avi\";if(e.match(/^52494646.{4,8}57415645/i))return\"audio/wave\";if(e.match(/^1A45DFA3/i))return\"video/webm\";if(e.match(/^25504446/i))return\"application/pdf\";if(e.match(/^504B0304/i))return\"application/zip\";{let e=t.match(/\\.([^.]+)$/);if(!e)return\"\";switch(e[1].toLowerCase()){case\"bmp\":return\"image/bmp\";case\"png\":return\"image/png\";case\"gif\":return\"image/gif\";case\"webp\":return\"image/webp\";case\"jpg\":case\"jpeg\":return\"image/jpeg\";case\"mp3\":return\"audio/mpeg\";case\"ogg\":case\"oga\":return\"audio/ogg\";case\"midi\":case\"mid\":return\"audio/midi\";case\"wav\":return\"audio/wave\";case\"webm\":return\"video/webm\";case\"avi\":return\"video/avi\";case\"mp4\":return\"video/mp4\";case\"ogv\":return\"video/ogg\";case\"mov\":return\"video/quicktime\";default:return\"\"}}}function u(e){let t=e/1e3%60,n=Math.trunc(e/6e4);return(n>0?n+\"min\":\"\")+(t>0?t+\"s\":\"\")}function c(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+\"-\"+e()+\"-\"+e()+\"-\"+e()+\"-\"+e()+e()+e()}function h(e){return e.map(e=>e instanceof Object&&e.hasOwnProperty(\"_promises\")?e.type+\":\"+e._element.id:e)}function d(e,t){const n=this.css(\"transform\").match(/matrix\\(\\s*(-?\\d+(.\\d+)?),[^,]+,[^,]+,\\s*(-?\\d+(.\\d+)?),/),r=this.width(),i=this.height();let s=r,o=i;n&&(s=Math.abs(s*n[1]),o=Math.abs(o*n[3]));let a=String(e).match(/^(.+)\\s+at\\s+(.+)$/i),l=String(t).match(/^(.+)\\s+at\\s+(.+)$/i);if(a&&a[2].match(/^-?\\d+(\\.\\d+)?$/)&&(e=String(a[2])+\"px\"),l&&l[2].match(/^-?\\d+(\\.\\d+)?$/)&&(t=String(l[2])+\"px\"),a){if(e=a[2],a[1].match(/top|bottom/i))throw\"Passed Y coordinate in place of X\";e=a[1].match(/center|middle/i)?`calc(${e} - ${r/2}px)`:a[1].match(/right/i)?`calc(${e} - ${s-(s-r)/2}px)`:`calc(${e} + ${(s-r)/2}px)`}else e=`calc(${e}px + ${(s-r)/2}px)`;if(l){if(t=l[2],l[1].match(/left|right/i))throw\"Passed X coordinate in place of Y\";t=l[1].match(/center|middle/i)?`calc(${t} - ${i/2}px)`:l[1].match(/bottom/i)?`calc(${t} - ${o-(o-i)/2}px)`:`calc(${t} + ${(o-i)/2}px)`}else t=`calc(${t}px + ${(o-i)/2}px)`;return{x:e,y:t}}function f(e,t,n,r){if(r instanceof Function&&r())return;const i=d.call(this,e,t);this.css({position:\"absolute\",left:i.x,top:i.y}),window.requestAnimationFrame(()=>f.call(this,e,t,n,r))}function p(e,t,n,r){n=n||$(\"body\");const i=this.parent()[0];void 0!==i&&i==n[0]||this.appendTo(n).css(\"display\",\"inline-block\"),f.call(this,e,t,n,r)}function m(e,t){let n=[];n[0]=(\"a\"+t).split(\"\").map((e,t)=>t);for(let r=1;r<e.length+1;r++)n[r]=[r,...t.split(\"\").map(()=>0)];for(let r=1;r<t.length+1;r++)for(let i=1;i<e.length+1;i++){let s=e.charAt(i)!=t.charAt(r),o=n[i-1][r]+1,a=n[i][r-1]+1,l=n[i-1][r-1]+s;n[i][r]=o<a&&o<l?o:a<o&&a<l?a:l}return n[e.length][t.length]}let g=[\"Unidentified\",\"Alt\",\"AltGraph\",\"CapsLock\",\"Control\",\"Fn\",\"FnLock\",\"Meta\",\"NumLock\",\"ScrollLock\",\"Shift\",\"Symbol\",\"SymbolLock\",\"Hyper\",\"Super\",\"Enter\",\"Tab\",\"ArrowDown\",\"ArrowLeft\",\"ArrowRight\",\"ArrowUp\",\"End\",\"Home\",\"PageDown\",\"PageUp\",\"Backspace\",\"Clear\",\"Copy\",\"CrSel\",\"Cut\",\"Delete\",\"EraseEof\",\"ExSel\",\"Insert\",\"Paste\",\"Redo\",\"Undo\",\"Accept\",\"Again\",\"Attn\",\"Cancel\",\"ContextMenu\",\"Escape\",\"Execute\",\"Find\",\"Help\",\"Pause\",\"Play\",\"Props\",\"Select\",\"ZoomIn\",\"ZoomOut\",\"BrightnessDown\",\"BrightnessUp\",\"Eject\",\"LogOff\",\"Power\",\"PowerOff\",\"PrintScreen\",\"Hibernate\",\"Standby\",\"WakeUp\",\"AllCandidates\",\"Alphanumeric\",\"CodeInput\",\"Compose\",\"Convert\",\"Dead\",\"FinalMode\",\"GroupFirst\",\"GroupLast\",\"GroupNext\",\"GroupPrevious\",\"ModeChange\",\"NextCandidate\",\"NonConvert\",\"PreviousCandidate\",\"Process\",\"SingleCandidate\",\"HangulMode\",\"HanjaMode\",\"JunjaMode\",\"Eisu\",\"Hankaku\",\"Hiragana\",\"HiraganaKatakana\",\"KanaMode\",\"KanjiMode\",\"Katakana\",\"Romaji\",\"Zenkaku\",\"ZenkakuHankaku\",\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\",\"F8\",\"F9\",\"F10\",\"F11\",\"F12\",\"Soft1\",\"Soft2\",\"Soft3\",\"Soft4\",\"ChannelDown\",\"ChannelUp\",\"Close\",\"MailForward\",\"MailReply\",\"MailSend\",\"MediaClose\",\"MediaFastForward\",\"MediaPause\",\"MediaPlay\",\"MediaPlayPause\",\"MediaRecord\",\"MediaRewind\",\"MediaStop\",\"MediaTrackNext\",\"MediaTrackPrevious\",\"New\",\"Open\",\"Print\",\"Save\",\"SpellCheck\",\"Key11\",\"Key12\",\"AudioBalanceLeft\",\"AudioBalanceRight\",\"AudioBassBoostDown\",\"AudioBassBoostToggle\",\"AudioBassBoostUp\",\"AudioFaderFront\",\"AudioFaderRear\",\"AudioSurroundModeNext\",\"AudioTrebleDown\",\"AudioTrebleUp\",\"AudioVolumeDown\",\"AudioVolumeUp\",\"AudioVolumeMute\",\"MicrophoneToggle\",\"MicrophoneVolumeDown\",\"MicrophoneVolumeUp\",\"MicrophoneVolumeMute\",\"SpeechCorrectionList\",\"SpeechInputToggle\",\"LaunchApplication1\",\"LaunchApplication2\",\"LaunchCalendar\",\"LaunchContacts\",\"LaunchMail\",\"LaunchMediaPlayer\",\"LaunchMusicPlayer\",\"LaunchPhone\",\"LaunchScreenSaver\",\"LaunchSpreadsheet\",\"LaunchWebBrowser\",\"LaunchWebCam\",\"LaunchWordProcessor\",\"BrowserBack\",\"BrowserFavorites\",\"BrowserForward\",\"BrowserHome\",\"BrowserRefresh\",\"BrowserSearch\",\"BrowserStop\",\"AppSwitch\",\"Call\",\"Camera\",\"CameraFocus\",\"EndCall\",\"GoBack\",\"GoHome\",\"HeadsetHook\",\"LastNumberRedial\",\"Notification\",\"MannerMode\",\"VoiceDial\",\"TV\",\"TV3DMode\",\"TVAntennaCable\",\"TVAudioDescription\",\"TVAudioDescriptionMixDown\",\"TVAudioDescriptionMixUp\",\"TVContentsMenu\",\"TVDataService\",\"TVInput\",\"TVInputComponent1\",\"TVInputComponent2\",\"TVInputComposite1\",\"TVInputComposite2\",\"TVInputHDMI1\",\"TVInputHDMI2\",\"TVInputHDMI3\",\"TVInputHDMI4\",\"TVInputVGA1\",\"TVMediaContext\",\"TVNetwork\",\"TVNumberEntry\",\"TVPower\",\"TVRadioService\",\"TVSatellite\",\"TVSatelliteBS\",\"TVSatelliteCS\",\"TVSatelliteToggle\",\"TVTerrestrialAnalog\",\"TVTerrestrialDigital\",\"TVTimer\",\"AVRInput\",\"AVRPower\",\"ColorF0Red\",\"ColorF1Green\",\"ColorF2Yellow\",\"ColorF3Blue\",\"ColorF4Grey\",\"ColorF5Brown\",\"ClosedCaptionToggle\",\"Dimmer\",\"DisplaySwap\",\"DVR\",\"Exit\",\"FavoriteClear0\",\"FavoriteClear1\",\"FavoriteClear2\",\"FavoriteClear3\",\"FavoriteRecall0\",\"FavoriteRecall1\",\"FavoriteRecall2\",\"FavoriteRecall3\",\"FavoriteStore0\",\"FavoriteStore1\",\"FavoriteStore2\",\"FavoriteStore3\",\"Guide\",\"GuideNextDay\",\"GuidePreviousDay\",\"Info\",\"InstantReplay\",\"Link\",\"ListProgram\",\"LiveContent\",\"Lock\",\"MediaApps\",\"MediaAudioTrack\",\"MediaLast\",\"MediaSkipBackward\",\"MediaSkipForward\",\"MediaStepBackward\",\"MediaStepForward\",\"MediaTopMenu\",\"NavigateIn\",\"NavigateNext\",\"NavigateOut\",\"NavigatePrevious\",\"NextFavoriteChannel\",\"NextUserProfile\",\"OnDemand\",\"Pairing\",\"PinPDown\",\"PinPMove\",\"PinPToggle\",\"PinPUp\",\"PlaySpeedDown\",\"PlaySpeedReset\",\"PlaySpeedUp\",\"RandomToggle\",\"RcLowBattery\",\"RecordSpeedNext\",\"RfBypass\",\"ScanChannelsToggle\",\"ScreenModeNext\",\"Settings\",\"SplitScreenToggle\",\"STBInput\",\"STBPower\",\"Subtitle\",\"Teletext\",\"VideoModeNext\",\"Wink\",\"ZoomToggle\",\"AudioVolumeDown\",\"AudioVolumeUp\",\"AudioVolumeMute\",\"BrowserBack\",\"BrowserForward\",\"ChannelDown\",\"ChannelUp\",\"ContextMenu\",\"Eject\",\"End\",\"Enter\",\"Home\",\"MediaFastForward\",\"MediaPlay\",\"MediaPlayPause\",\"MediaRecord\",\"MediaRewind\",\"MediaStop\",\"MediaNextTrack\",\"MediaPause\",\"MediaPreviousTrack\",\"Power\"],y=g.map(e=>e.toUpperCase());String.prototype.isSpecialKey=function(e){return e?g.indexOf(this)>-1:y.indexOf(this.toUpperCase())>-1},jQuery.fn.printed=function(){let e=this.parent();for(;e.length;){if(e[0]==document.body)return!0;e=e.parent()}return!1}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l})),n.d(t,\"b\",(function(){return c}));var r=n(0),i=n(1);let s=null,o=null,a=[];class l{constructor(){if(this.id=r.a.controllers.list.length,this.useLabel=!1,this.addToItems=!0,this.appendResultLine=[],this.linesToSave=[],this.resources=[],this.elements={},this.preloadDelay=6e4,r.a.controllers.list.push(this),this.defaultCommands={},this.headerDefaultCommands={},s&&s.defaultCommands)for(let e in s.defaultCommands)this.defaultCommands[e]=[].concat(s.defaultCommands[e])}_addElement(e){if(!e.hasOwnProperty(\"type\")||!e.hasOwnProperty(\"id\"))return r.a.debug.error(\"Attempted to create an invalid element\");this.elements.hasOwnProperty(e.type)||(this.elements[e.type]={}),this.elements[e.type].hasOwnProperty(e.id)&&r.a.debug.error(\"Overwrting another \"+e.type+\" element with the same name (\"+e.id+\")\"),this.elements[e.type][e.id]=e}_getElement(e,t){if(\"string\"!=typeof e||e.length<1||\"string\"!=typeof t||t.length<1)return r.a.debug.error(\"Attempted to get an invalid element\",e,t);if(!this.elements.hasOwnProperty(t))return r.a.debug.error(\"Attempted to get an element of an invalid type (\"+t+\")\",e);if(!this.elements[t].hasOwnProperty(e)){let n=[];for(let t in this.elements)this.elements[t].hasOwnProperty(e)&&n.push(t);return r.a.debug.error(\"No \"+t+\" element named &quot;\"+e+\"&quot; found\",n.length?\"Found &quot;\"+e+\"&quot; of type \"+n.join(\",\"):null)}return this.elements[t][e]}label(e){return this.useLabel=e,this}logAppend(e,t,n){return this.linesToSave.push([\"PennController\",this.id,e,t,Date.now(),n]),this}log(e,t){return null==t&&(t=e),this.appendResultLine.push([csv_url_encode(e),t]),this}noHeader(){return this.runHeader=!1,this}noFooter(){return this.runFooter=!1,this}setOption(e,t){return this[e]=t,this}}r.a.controllers.underConstruction=new l,r.a.controllers.new=()=>new l;const u=[];var c=function(...e){let t=r.a.controllers.underConstruction;if(window.items)for(let e in window.items)r.a.tmpItems.indexOf(window.items[e])<0&&r.a.tmpItems.push(window.items[e]);r.a.tmpItems.push(t),e.length&&\"string\"==typeof e[0]&&(t.useLabel=e[0]);let n=[];return function e(...t){for(let n in t)u.filter(e=>e instanceof Function&&e.call(null,t[n])),t[n]&&t[n]._promises?this.push(Object(i.d)(t[n]._promises)):t[n]&&t[n]instanceof Array&&e.apply(this,t[n])}.apply(n,e),t.sequence=Object(i.d)(n),r.a.controllers.underConstruction=new l,t};r.a.NewTrialArgumentCallback=e=>u.push(e),c.newTrial=c,c.Debug=function(e){r.a.debug.on=null==e||e},c.DebugOff=()=>c.Debug(!1),c.Sequence=function(...e){for(let t=0;t<e.length;t++)if(e[t]._item&&e[t]._item instanceof Array&&e[t]._item.length>1&&\"__SendResults__\"==e[t]._item[1]){let n=\"sendResults-\"+Object(i.b)();e[t].label(n),e[t]=n}window.shuffleSequence=window.seq(...e)};let h={};c.GetURLParameter=function(e){if(!Object.keys(h).length){let e=window.location.search.replace(\"?\",\"\").split(\"&\");for(let t in e)h[e[t].split(\"=\")[0]]=e[t].split(\"=\")[1]}if(h.hasOwnProperty(e))return h[e]},c.AddHost=function(...e){for(let t in e)\"string\"==typeof e[t]&&e[t].match(/^https?:\\/\\//i)?r.a.URLs.push(e[t]):r.a.debug.error(\"URL #\"+t+\" is not a valid URL (PennController.AddHost).\",e[t])},c.CheckPreloaded=function(...e){let t=new l;t.id=\"Preloader-\"+a.length,t.runHeader=!1,t.runFooter=!1,a.push(t),r.a.controllers.list.pop(),t.sequence=()=>new Promise(e=>e()),t.ignoreWhenCheckingPreload=!0,r.a.tmpItems.push(t),e.length&&Number(e[e.length-1])>0&&(t.preloadDelay=Number(e[e.length-1]),e.pop());let n=[];if(e.length)for(let t in e){let r=e[t];\"string\"==typeof r&&(r=n=>n==e[t]),r instanceof Function&&n.push(r)}else n=[e=>!0];return r.a.Prerun(()=>{let e=window.conf_modifyRunningOrder;window.conf_modifyRunningOrder=function(r){e instanceof Function&&(r=e.call(this,r));for(let e=0;e<r.length;e++){let i=r[e].filter(e=>{let t=!1;for(let r=0;r<n.length;r++)t=t||n[r](e.type);return t=t&&\"PennController\"==e.controller,t=t&&!e.options.ignoreWhenCheckingPreload,t});for(let e=0;e<i.length;e++)t.resources=t.resources.concat(i[e].options.resources.filter(e=>t.resources.indexOf(e)<0))}return r}}),t};const d=window.JSON.stringify;window.JSON.stringify=function(...e){const t=d.apply(this,e);if(1==e.length&&e[0]instanceof Array&&6==e[0].length&&!1===e[0][0]&&e[0][1]==window.__counter_value_from_server__&&e[0][4]==(()=>{for(var e=(new Date).getTimezoneOffset()+\":\",t=[\"Java\",\"QuickTime\",\"DevalVR\",\"Shockwave\",\"Flash\",\"Windows Media Player\",\"Silverlight\",\"VLC Player\"],n=0;n<t.length;++n){var r=PluginDetect.getVersion(t[n]);r&&(e+=t[n]+\":\"+r)}return createCookie(\"TEST\",\"TEST\",.01),\"TEST\"==readCookie(\"TEST\")&&(e+=\"C\"),e+=(screen.width?screen.width:1)+\":\"+(screen.height?screen.height:1)+\":\"+(screen.colorDepth?screen.colorDepth:1),b64_md5(e)})())for(;e[0][3].length;)e[0][3].pop();return t};const f=window.alert;window.alert=function(e,...t){return\"WARNING: Results have already been sent once. Did you forget to set the 'manualSendResults' config option?\"!=e&&f.call(this,e,...t)},c.SendResults=function(e,t){null==window.items&&(window.items=[]),null!=window.manualSendResults&&0==window.manualSendResults||(window.manualSendResults=!0),\"string\"==typeof e&&e.match(/^http/i)&&(t=e,e=void 0);let n={},i=[e||\"sendResults\",\"__SendResults__\",n],s=()=>new Promise(e=>{const n=window.__server_py_script_name__;let i={_finishedCallback:()=>{window.__server_py_script_name__=n,e()},_cssPrefix:\"\",_utils:r.a.controllers.running.utils},s=window.$(\"<p>\").addClass(\"PennController-SendResults\");r.a.controllers.running.element.append(s),addSafeBindMethodPair(\"__SendResults__\"),\"string\"==typeof t&&(window.__server_py_script_name__=t),s.__SendResults__(i)}),o={label:e=>(i[0]=e,o),setOption:(e,t)=>(n[e]=t,o)};o._item=i,o.type=\"__SendResults__\",o._element={id:\"SendResults\"};const a=e=>{if(e==o){let e=window.items&&window.items.indexOf(i);e>=0&&window.items.splice(e,1),r.a.tmpItems=r.a.tmpItems.filter(e=>e!=i)}};return r.a.ArgumentCallback(a),r.a.NewTrialArgumentCallback(a),o._promises=[s],o._runPromises=s,window.items.push(i),o},c.SetCounter=function(...e){null==window.items&&(window.items=[]);let t=\"setCounter\",n={};e.length&&(isNaN(Number(e[0]))?1==e.length?isNaN(Number(e[0]))?t=e[0]:n.set=Number(e[0]):2!=e.length||isNaN(Number(e[1]))?e.length>2&&!isNaN(Number(e[2]))?(t=e[0],e[1].match(/\\s*inc\\s*$/i)?n.inc=e[2]:n.set=e[2]):t=e[0]:e[0].match(/\\s*inc\\s*$/i)?n.inc=e[1]:(n.set=e[1],e[0].match(/\\s*set\\s*$/i)||(t=e[0])):n.set=Number(e[0]));let r=[t,\"__SetCounter__\",n];return n.label=e=>(r[0]=e,n),n.setOption=(e,t)=>(n[e]=t,n),window.items.push(r),n},c.Header=function(...e){let t=r.a.controllers.underConstruction;t.id=\"Header\",t.addToItems=!1,r.a.controllers.list.pop(),t.sequence=Object(i.d)(e.map(e=>Object(i.d)(e._promises)));for(let e in t.defaultCommands)for(let n in t.defaultCommands[e])t.defaultCommands[e][n].push(\"header\");return s?(s.resources=s.resources.concat(t.resources),$.extend(!0,s.elements,t.elements),s.headerDefaultCommands=t.headerDefaultCommands,s.sequence=Object(i.d)([s.sequence,t.sequence])):s=t,r.a.controllers.underConstruction=new l,s},c.Footer=function(...e){let t=r.a.controllers.underConstruction;return t.id=\"Footer\",t.addToItems=!1,r.a.controllers.list.pop(),t.sequence=Object(i.d)(e.map(e=>Object(i.d)(e._promises))),o?(o.resources=o.resources.concat(t.resources),$.extend(!0,o.elements,t.elements),o.headerDefaultCommands=t.headerDefaultCommands,o.sequence=Object(i.d)([o.sequence,t.sequence])):o=t,r.a.controllers.underConstruction=new l,o},define_ibex_controller({name:\"PennController\",jqueryWidget:{_init:function(){var e=this;r.a.controllers.running=e,e.cssPrefix=e.options._cssPrefix,e.utils=e.options._utils,e.finishedCallback=e.options._finishedCallback,e.id=e.options.id,\"string\"==typeof e.id&&e.id.match(/^Preloader-/)?e.controller=a[Number(e.id.replace(/Preloader-/,\"\"))]:\"Header\"==e.id?e.controller=s:\"Footer\"==e.id?e.controller=o:Number(e.id)>=0&&Number(e.id)<r.a.controllers.list.length?e.controller=r.a.controllers.list[e.id]:e.controller=e.options,e.runHeader=null==e.controller.runHeader||e.controller.runHeader,e.runFooter=null==e.controller.runFooter||e.controller.runFooter,void 0===e.controller.appendResultLine&&(e.controller.appendResultLine=[]);let t=e.controller.preloadDelay;if(e.runHeader&&s instanceof l&&!e.controller.inheritedHeader){e.controller.resources=e.controller.resources.concat(s.resources.filter(t=>e.controller.resources.indexOf(t)<0)),$.extend(!0,e.controller.elements,s.elements);for(let t=0;t<s.appendResultLine.length;t++)e.controller.appendResultLine.unshift(s.appendResultLine[t]);e.controller.inheritedHeader=!0}if(e.runFooter&&o instanceof l&&!e.controller.inheritedFooter){e.controller.resources=e.controller.resources.concat(o.resources.filter(t=>e.controller.resources.indexOf(t)<0)),$.extend(!0,e.controller.elements,o.elements);for(let t=0;t<o.appendResultLine.length;t++)e.controller.appendResultLine.push(o.appendResultLine[t]);e.controller.inheritedFooter=!0}let n=[];e.save=function(t,r,i,s,o,...a){a.length||(a=[\"NULL\"]);let l=[[\"PennElementType\",t],[\"PennElementName\",r],[\"Parameter\",i],[\"Value\",s],[\"EventTime\",o]];for(let t=0;t<e.controller.appendResultLine.length;t++){let n=[e.controller.appendResultLine[t][0],e.controller.appendResultLine[t][1]];n instanceof Array&&2==n.length&&l.push(n)}l.push([\"Comments\",a.join(\",\")]),n.push(l)};for(let t in e.controller.linesToSave)e.save(e.controller.linesToSave[t]);let u=!1,c=async function(){if(!u){u=!0,e.runFooter&&o instanceof l&&(e.save(\"PennController\",e.id,\"_Footer_\",\"Start\",Date.now(),\"NULL\"),o._getElement=(t,n)=>e.controller._getElement(t,n),await o.sequence(),e.save(\"PennController\",e.id,\"_Footer_\",\"End\",Date.now(),\"NULL\"));for(let t in e.controller.elements)for(let n in e.controller.elements[t])await e.controller.elements[t][n].end();e.save(\"PennController\",e.id,\"_Trial_\",\"End\",Date.now(),\"NULL\"),n.sort((e,t)=>e[4][1]>t[4][1]),n.map(e=>{for(let t in e){e[t][1]instanceof Function&&(e[t][1]=e[t][1]());let n=[];for(;e[t][1].value&&e[t][1].value._element;)n.indexOf(e[t][1]._element)<0?(n.push(e[t][1]._element),e[t][1]=e[t][1].value):e[t][1]=e[t][1]._element.id;e[t][1]._element&&e[t][1]._element.id&&(e[t][1]=e[t][1]._element.value),e[t][1]=csv_url_encode(\"\"+e[t][1])}}),e.finishedCallback(n)}};e.endTrial=c;let h=!1,d=async function(t){if(!h){if(e.element.css({display:\"flex\",\"flex-direction\":\"column\",position:\"absolute\",left:0,width:\"100vw\"}),h=!0,t)for(let t in e.controller.resources.filter(e=>\"ready\"!=e.status))e.save(\"PennController\",e.id,\"_PreloadFailed_\",csv_url_encode(e.controller.resources[t].name),Date.now(),\"NULL\");f.remove(),e.save(\"PennController\",e.id,\"_Trial_\",\"Start\",Date.now(),\"NULL\"),e.runHeader&&s instanceof l&&(e.save(\"PennController\",e.id,\"_Header_\",\"Start\",Date.now(),\"NULL\"),await s.sequence(),e.save(\"PennController\",e.id,\"_Header_\",\"End\",Date.now(),\"NULL\")),e.controller.sequence().then(c)}},f=$(\"<div><p>Please wait while the resources are preloading</p><p>This may take up to \"+Object(i.f)(t)+\".</p></div>\");e.element.append(f);for(let t in e.controller.resources){let n=e.controller.resources[t],r=n.resolve;\"ready\"!=n.status&&(n.resolve=function(){r.apply(n),0==e.controller.resources.filter(e=>\"ready\"!=e.status).length&&d()})}0==e.controller.resources.filter(e=>\"ready\"!=e.status).length?d():setTimeout((function(){d(!0)}),t)}},properties:{obligatory:[],countsForProgressBar:!0,htmlDescription:null}}),window.PennController=new Proxy(c,{get:(e,t)=>{if(t in e)return e[t];r.a.debug.error(\"Unknown global PennController command: &lsquo;\"+t+\"&rsquo;\")}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";var r={};function i(){try{return new window.XMLHttpRequest}catch(e){}}r._getBinaryFromXHR=function(e){return e.response||e.responseText};var s=window.ActiveXObject?function(){return i()||function(){try{return new window.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}}()}:i;r.getBinaryContent=function(e,t){try{var n=s();n.open(\"GET\",e,!0),\"responseType\"in n&&(n.responseType=\"arraybuffer\"),n.overrideMimeType&&n.overrideMimeType(\"text/plain; charset=x-user-defined\"),n.onreadystatechange=function(i){var s,o;if(4===n.readyState)if(200===n.status||0===n.status){s=null,o=null;try{s=r._getBinaryFromXHR(n)}catch(e){o=new Error(e)}t(o,s)}else t(new Error(\"Ajax error for \"+e+\" : \"+this.status+\" \"+this.statusText),null)},n.send()}catch(e){t(new Error(e),null)}},e.exports=r},function(e,t,n){(function(n){var r,i,s;i=[],void 0===(s=\"function\"==typeof(r=function(){\"use strict\";function t(e,t,n){var r=new XMLHttpRequest;r.open(\"GET\",e),r.responseType=\"blob\",r.onload=function(){o(r.response,t,n)},r.onerror=function(){console.error(\"could not download file\")},r.send()}function r(e){var t=new XMLHttpRequest;return t.open(\"HEAD\",e,!1),t.send(),200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent(\"click\"))}catch(n){var t=document.createEvent(\"MouseEvents\");t.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof n&&n.global===n?n:void 0,o=s.saveAs||\"object\"!=typeof window||window!==s?function(){}:\"download\"in HTMLAnchorElement.prototype?function(e,n,o){var a=s.URL||s.webkitURL,l=document.createElement(\"a\");n=n||e.name||\"download\",l.download=n,l.rel=\"noopener\",\"string\"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?t(e,n,o):i(l,l.target=\"_blank\")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:\"msSaveOrOpenBlob\"in navigator?function(e,n,s){if(n=n||e.name||\"download\",\"string\"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:\"object\"!=typeof t&&(console.warn(\"Depricated: Expected third argument to be a object\"),t={autoBom:!t}),t.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)?new Blob([\"\\ufeff\",e],{type:e.type}):e}(e,s),n);else if(r(e))t(e,n,s);else{var o=document.createElement(\"a\");o.href=e,o.target=\"_blank\",setTimeout((function(){i(o)}))}}:function(e,n,r,i){if((i=i||open(\"\",\"_blank\"))&&(i.document.title=i.document.body.innerText=\"downloading...\"),\"string\"==typeof e)return t(e,n,r);var o=\"application/octet-stream\"===e.type,a=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((l||o&&a)&&\"object\"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,\"data:attachment/file;\"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var c=s.URL||s.webkitURL,h=c.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){c.revokeObjectURL(h)}),4e4)}};s.saveAs=o.saveAs=o,e.exports=o})?r.apply(t,i):r)||(e.exports=s)}).call(this,n(3))},function(e,t,n){\"use strict\";var r=n(0),i=n(1);$.prototype.left=function(){return Number(this.css(\"left\").replace(/px/,\"\"))},$.prototype.top=function(){return Number(this.css(\"top\").replace(/px/,\"\"))};class s{constructor(e,t,n,r,i){let s=this;this.title=e,this.width=t,this.height=n,this.x=r,this.y=i,this.tabs=[],this.container=$(\"<div>\").css({width:t,height:\"3em\",overflow:\"hidden\",position:\"fixed\",\"border-radius\":\"5px\",\"background-color\":\"floralwhite\",\"min-height\":\"3em\",\"min-width\":\"3em\",\"z-index\":9999}),this.titleBar=$(\"<div>\").css({width:\"100%\",height:\"1.5em\",margin:0,padding:0,\"background-color\":\"gray\",cursor:\"move\",color:\"white\",\"border-radius\":\"5px 5px 0px 0px\"}),this.titleExpand=$(\"<span>&#9656;</span>\").css({display:\"inline-block\",\"line-height\":\"1.3em\",padding:\"2px\",\"margin-right\":\"0.25em\",cursor:\"pointer\"}).click(()=>{9656==this.titleExpand.html().charCodeAt(0)?(this.titleExpand.html(\"&#9662;\"),this.container.css({height:this.height,overflow:\"unset\"})):(this.titleExpand.html(\"&#9656;\"),this.container.css({height:\"3em\",overflow:\"hidden\"}))}),this.titleSpan=$(\"<span>\"+e+\"</span>\").css({display:\"inline-block\",padding:\"2px\",\"line-height\":\"1.3em\",overflow:\"hidden\"}),this.titleBar.append(this.titleSpan.prepend(this.titleExpand)).append($(\"<span>X</span>\").css({width:\"1.3em\",height:\"1.3em\",margin:\"0.1em\",\"line-height\":\"1.3em\",\"border-radius\":\"2px\",\"text-align\":\"center\",position:\"absolute\",right:0,cursor:\"pointer\",overflow:\"hidden\"}).click((function(){s.popOut()})).mouseenter((function(){$(this).css({border:\"solid 1px lightgray\",\"border-radius\":\"2px\"})})).mouseleave((function(){$(this).css({border:\"none\"})}))).mousedown((function(e){s.updatePosition={x:e.clientX,y:e.clientY,left:s.container.left(),top:s.container.top()},e.preventDefault()})),this.tabBar=$(\"<div>\").css({width:\"calc(100% - 10px)\",height:\"1.5em\",\"margin-bottom\":\"0px\",overflow:\"hidden\",display:\"flex\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"}),this.tabBar.append($(\"<div>\").css({width:\"100%\",\"border-bottom\":\"solid 1px lightgray\"})),this.newTab=(e,t)=>{e instanceof jQuery||(e=$(\"<span>\").append(e)),t instanceof jQuery||(t=$(\"<div>\").append(t));let n={title:e,content:t,jQuery:$(\"<div>\").append(e).css({border:\"solid 1px lightgray\",\"border-top-right-radius\":\"5px\",\"border-top-left-radius\":\"5px\",\"padding-left\":\"5px\",\"padding-right\":\"5px\",cursor:\"pointer\"}).click(()=>{this.content.children().detach(),this.content.append(n.content),this.tabBar.children().css({background:\"linen\",color:\"darkgray\",\"border-bottom\":\"solid 1px lightgray\"}),n.jQuery.css({color:\"black\",background:\"inherit\",\"border-bottom\":\"none\"})}),remove:()=>this.jQuery.remove()};return this.tabs.push(n),this.tabBar.prepend(n.jQuery),n.jQuery.click(),n},this.container.append($(\"<div>\").css({display:\"inline-block\",width:\"1.3em\",height:\"1.3em\",position:\"absolute\",bottom:0,right:0,cursor:\"se-resize\",background:\"repeating-linear-gradient(135deg,rgba(255,255,255,.5),rgba(255,255,255,.5) 2px,#777 2px,#777 4px)\",\"clip-path\":\"polygon(90% 0,90% 90%,0 90%)\",opacity:\"0.5\"}).mousedown((function(e){s.updateSize=!0,s.offsetRight=e.clientX-(s.container.left()+s.container.width()),s.offsetBottom=e.clientY-(s.container.top()+s.container.height()),e.preventDefault()}))),this.content=$(\"<div>\").css({border:\"solid 1px lightgray\",\"font-family\":\"monospace\",\"font-size\":\"0.9em\",margin:\"0px 5px 5px 5px\",padding:\"2px\",height:\"calc(100% - 4.5em - 30px)\",overflow:\"auto\",\"border-top\":\"none\"}),this.container.append(this.titleBar),this.container.append($(\"<div>Use <tt>DebugOff()</tt> before publishing.</div>\").css({height:\"1.5em\",\"overflow-x\":\"hidden\"})),this.container.append(this.tabBar),this.container.append(this.content),this.container.css({left:r,top:i}),$(document).mousemove((function(e){s.updatePosition&&(s.x=s.updatePosition.left+(e.clientX-s.updatePosition.x),s.y=s.updatePosition.top+(e.clientY-s.updatePosition.y),s.container.css({left:s.x,top:s.y})),s.updateSize&&(s.width=e.clientX-s.container.left()-s.offsetRight,s.height=e.clientY-s.container.top()-s.offsetBottom,s.container.css({width:s.width,height:s.height}))})).mouseup((function(){s.updatePosition=void 0,s.updateSize=!1}))}popIn(){$(document.body).append(this.container)}popOut(){this.container.detach()}}let o=!1,a={popin:{},tablePopin:{},infoTab:null,runningOrder:null,runningIndex:-1,runningElement:-1,currentController:null,currentTable:null};r.a.debug={on:!0,currentPromise:null,forceResolve:()=>{r.a.debug.currentPromise instanceof Function&&r.a.debug.currentPromise()},addToTab:(e,...t)=>{if(!r.a.debug.on)return;let n;n=r.a.controllers.running?r.a.controllers.list[r.a.controllers.running.id]:r.a.controllers.underConstruction,null==n&&(n={id:\"NA\"});let i=new Date;e.prepend($(\"<div>[\"+[i.getHours(),i.getMinutes(),i.getSeconds()].join(\":\")+\"] \"+t.join(\";\")+\" (PennController: \"+n.id+\")</div>\").css({\"border-bottom\":\"dotted 1px gray\",\"margin-bottom\":\"1px\",\"padding-bottom\":\"1px\"}))},log:(...e)=>r.a.debug.addToTab(a.logTab.log,...e),error:(...e)=>{r.a.debug.on&&(r.a.debug.addToTab(a.errorsTab.content,...e),a.errorsTab.title.css(\"color\",\"red\"),a.errorsTab.content.find(\".PennController-debug-noerrors\").css(\"display\",\"none\"),9656==a.popin.titleExpand.html().charCodeAt(0)&&a.popin.titleExpand.click(),a.errorsTab.jQuery.click())}},a.popin=new s(\"Debug (PennController 2.0.alpha)\",440,240,window.innerWidth-450,10),a.logTab=a.popin.newTab(\"Log\"),a.logTab.controls=$(\"<div>\").append($(\"<button>Next screen</button>\").click(()=>{\"PennController-\"==a.currentController._cssPrefix?r.a.controllers.running.endTrial():a.currentController._finishedCallback()})).append($(\"<button>Next command</button>\").click(()=>r.a.debug.forceResolve())).css({background:\"lightgray\",\"border-bottom\":\"dotted 1px black\"}).appendTo(a.logTab.content),a.logTab.log=$(\"<div>\").appendTo(a.logTab.content),a.errorsTab=a.popin.newTab(\"Errors\"),a.errorsTab.content.prepend($(\"<div>No errors found</div>\").css({\"font-style\":\"italic\",\"text-align\":\"center\",margin:\"5px\"}).addClass(\"PennController-debug-noerrors\"));let l=()=>{a.currentTable&&a.currentTable.debug&&(a.currentTable.debug.content.find(\"tr\").css(\"background-color\",\"transparent\"),$(a.currentTable.debug.content.find(\"tr\")[a.currentRow+1]).css(\"background-color\",\"pink\"),a.tablePopin.titleSpan.after(u),a.currentTable.hasOwnProperty(\"group\")&&a.currentTable.table[0].hasOwnProperty(a.currentTable.group)&&u.after(h))},u=$(\"<a title='Jump to current row'>&#9755;</a>\").click((function(){a.currentTable.debug.jQuery.click();let e=$(a.currentTable.debug.content.find(\"tr\")[a.currentRow+1]).position().top;a.currentTable.debug.content.children()[2].scrollTop+=e})).css({display:\"inline-block\",padding:\"2px 5px\",\"line-height\":\"1.3em\",overflow:\"hidden\"}),c=!1,h=$(\"<a title='Show/Hide rows from other groups'>&#128065;</a>\").click((function(){if(c)a.currentTable.debug.content.find(\"tr\").css(\"display\",\"table-row\");else{let e=a.currentTable.table[a.currentRow][a.currentTable.group],t=a.currentTable.debug.content.find(\"tr\");for(let n=0;n<a.currentTable.table.length;n++)a.currentTable.table[n][a.currentTable.group]!=e&&$(t[n+1]).css(\"display\",\"none\")}c=!c})).css({display:\"inline-block\",padding:\"4px 5px 0px 5px\",\"line-height\":\"1.3em\",overflow:\"hidden\"}),d=e=>{let t=Object.keys(e.table[0]),n=$(\"<table>\").css({display:\"table\",\"table-layout\":\"fixed\",height:\"100%\",width:70*(t.length+1)}),r=$(\"<table>\").css({display:\"table\",\"table-layout\":\"fixed\",height:\"100%\",width:70*(t.length+1)}),i=$(\"<tr>\");i.append($(\"<th>\").html(\"<em>#</em>\").css({width:70,overflow:\"hidden\"}));for(let e=0;e<t.length;e++)i.append($(\"<th>\").html(t[e]).css({width:70,overflow:\"hidden\"}));r.append(i);for(let r=0;r<e.table.length;r++){let i=$(\"<tr>\");i.append($(\"<td>\").html(\"<em>\"+Number(r+1)+\".</em>\").css({width:70,overflow:\"hidden\"}));for(let n=0;n<t.length;n++)i.append($(\"<td>\").html(e.table[r][t[n]]).css({width:70,overflow:\"hidden\"}));n.append(i)}let s=$(\"<div>\").css({height:\"calc(100% - 1.5em)\",overflow:\"auto\"}).append(n),o=$(\"<div>\").css({height:\"1.5em\",width:\"100%\"}),a=$(\"<div>\").css({width:\"100%\",position:\"absolute\",left:0,top:0}).append(r);return s.scroll(()=>a.css(\"margin-left\",-1*s[0].scrollLeft)),$(\"<div>\").css({width:\"100%\",height:\"100%\",\"white-space\":\"nowrap\",position:\"relative\",overflow:\"hidden\"}).append(a).append(o).append(s)},f=e=>{if(a.tablePopin.hasOwnProperty(\"container\"))a.tablePopin.container.parent().length>0?a.tablePopin.tabs[e].jQuery.click():$(document.body).append(a.tablePopin.container);else{a.tablePopin=new s(\"Tables\",window.innerWidth-320,190,10,window.innerHeight-200);let t=Object.keys(r.a.tables);for(let e=0;e<t.length;e++)r.a.tables[t[e]].debug=a.tablePopin.newTab(t[e],d(r.a.tables[t[e]]));a.tablePopin.content.css(\"overflow\",\"hidden\"),a.tablePopin.tabs[e].jQuery.click()}l()},p=()=>{if(a.runningIndex<0)a.runningIndex=0;else if(r.a.debug.on){let e=$(a.sequenceTab.content.find(\"li\")[a.runningIndex]);e.css(\"color\",\"gray\"),e.find(\"button\").attr(\"disabled\",!0)}if(a.runningElement<0?a.runningElement=0:(a.runningElement++,a.runningElement>=a.runningOrder[a.runningIndex].length&&(a.runningElement=0,a.runningIndex++)),\"__SendResults__\"==a.runningOrder[a.runningIndex][a.runningElement].controller&&(o=!0),!r.a.debug.on)return void(window.items=void 0);if(u.detach(),h.detach(),a.currentTable=null,a.currentTableName=\"<em>NA</em>\",a.currentRow=-1,a.currentController=a.runningOrder[a.runningIndex][a.runningElement].options,a.currentController.hasOwnProperty(\"_PennController\")){a.currentTable=a.currentController._PennController.table;for(let e in r.a.tables)r.a.tables[e]==a.currentTable&&(a.currentTableName=e);a.currentRow=Number(a.currentController._PennController.row),l()}let e=a.runningOrder[a.runningIndex][a.runningElement];a.infoTab.content.empty(),a.infoTab.content.append($(\"<div><strong>Trial in sequence</strong> \"+Number(a.runningIndex+1)+\" / \"+a.runningOrder.length+\"</div>\")).append($(\"<div><strong>Element in trial</strong> \"+Number(a.runningElement+1)+\" / \"+a.runningOrder[a.runningIndex].length+\"</div>\")).append($(\"<div><strong>Trial's label:</strong> \"+e.type+\"</div>\")).append($(\"<div><strong>Trial's type (controller):</strong> \"+e.controller+\"</div>\")).append($(\"<div><strong>Trial's index:</strong> \"+e.itemNumber+\" / \"+window.items.length+\"</div>\")).append($(\"<div><strong>From table:</strong> \"+a.currentTableName+\"</div>\")),a.sequenceTab.content.find(\"li\").css(\"background-color\",\"transparent\"),$(a.sequenceTab.content.find(\"li\")[a.runningIndex]).css(\"background-color\",\"pink\"),\"PennController\"==e.controller?$(a.logTab.controls.children()[1]).css(\"display\",\"inline-block\"):$(a.logTab.controls.children()[1]).css(\"display\",\"none\")},m=window.dget;window.dget=(...e)=>{let t=m(...e);return e[1]&&\"displayMode\"==e[1]&&e[2]&&\"overwrite\"==e[2]&&p(),t};let g=window.$.ajax;window.$.ajax=(...e)=>(r.a.debug.on&&e[0]&&e[0].url&&e[0].url.match(/\\?allchunks=1$/)&&a.popin.popIn(),g(...e)),r.a.Prerun(()=>{window.onbeforeunload=function(){if(!o)return\"Your results have not been sent yet. Do you really want to leave the page?\"};let e=!1;PennController.version=\"2.0.alpha\";let t=window.assert;window.assert=function(...n){if(e||\"There must be some items in the running order!\"!=n[1])return t.apply(this,n);e=!0;let i=window.conf_modifyRunningOrder;return window.conf_modifyRunningOrder=function(e){return a.runningOrder=i instanceof Function?i.call(this,e):e,r.a.debug.on&&(()=>{let e=Object.keys(r.a.tables);if(e.length>0){let t=$(\"<ul>\");for(let n=0;n<e.length;n++)t.append($(\"<li>\").html(e[n]).click(()=>f(n)).css(\"cursor\",\"pointer\"));a.popin.newTab(\"Tables\",t)}a.sequenceTab=a.popin.newTab(\"Sequence\"),a.infoTab=a.popin.newTab(\"Info\");let t=e=>{a.runningIndex<e&&(\"PennController-\"==a.currentController._cssPrefix?r.a.controllers.running.endTrial():a.currentController._finishedCallback(),setTimeout(()=>t(e),1))},n=$(\"<ol>\");for(let e=0;e<a.runningOrder.length;e++){let r=a.runningOrder[e],i=[];for(let e=0;e<r.length;e++)i.push(r[e].controller);let s=[];r[0].options.hasOwnProperty(\"_PennController\")&&(s=[\":\",r[0].options._PennController.table.id,r[0].options._PennController.row+1]);let o=r[0].type+\" (\"+i.join(\",\")+s.join(\":\")+\")\";n.append($(\"<li>\").append(o).append($(\"<button>Reach</button>\").click(()=>t(e))))}a.sequenceTab.content.append(n),a.errorsTab.jQuery.click(),$(window.document).bind(\"keyup keydown\",(function(e){if(e.ctrlKey&&68==e.keyCode){let e=window.innerWidth-450,t=window.innerHeight-250;$(window.document.body).append(a.popin.container),a.popin.x=e,a.popin.y=t,a.popin.container.css({top:t,left:e})}}))})(),p(),a.runningOrder},t.apply(this,n)}}),window.onerror=function(e,t,n){if(!t.match(/include=data$/))return;let s=e.match(/ReferenceError: (.+) is not defined/);if(s)if(s[1].match(/^(new|get|default)/)&&PennController.Elements[s[1]])r.a.debug.error(\"Tried to use &lsquo;\"+s[1]+\"&rsquo; without a prefix on line \"+n+\"; did you forget to use PennController.ResetPrefix?\");else{let e={score:1,command:\"\"},t=Object.getOwnPropertyNames(PennController.Elements);for(let n=0;n<t.length;n++){let r=Object(i.e)(s[1],t[n])/s[1].length;r<e.score&&(e.score=r,e.command=t[n])}e.score<.5?r.a.debug.error(\"Wrong command &lsquo;\"+s[1]+\"&rsquo; on line \"+n+\". Did you mean to type &lsquo;<strong>\"+e.command+\"</strong>&rsquo;?\"):r.a.debug.error(\"Unrecognized expression &lsquo;\"+s[1]+\"&rsquo; (line \"+n+\")\")}else r.a.debug.error(e)};let y=window.ibex_controller_get_property;window.ibex_controller_get_property=(e,t)=>{let n=Object.getOwnPropertyNames($.ui);if(n.indexOf(e)>-1)return y(e,t);let s={score:1,controllerName:\"\"};for(let t=0;t<n.length;t++){let r=Object(i.e)(e,n[t])/e.length;r<s.score&&(s.score=r,s.controllerName=n[t])}s.score<.5?r.a.debug.error(\"Invalid controller reference: &lsquo;\"+e+\"&rsquo;---Did you mean to type <strong>\"+s.controllerName+\"</strong>?\"):r.a.debug.error(\"Invalid controller reference: &lsquo;\"+e+\"&rsquo;\")}},function(e,t,n){\"use strict\";var r=n(1),i=n(2),s=n(0);n(8);i.b.Elements={};class o{constructor(){this._commands=[],this._currentType=\"action.\"}}Object.defineProperty(i.b.Elements,\"self\",{get:()=>{const e=new o,t=new Proxy(e,{get:(n,r)=>{if(\"_commands\"==r||\"_currentType\"==r||\"hasOwnProperty\"==r)return e[r];if(console.log(\"Getting self's proxy, with\",r),\"settings\"==r)e._currentType=\"settings.\";else if(\"test\"==r)e._currentType=\"test.\";else{if(\"testNot\"!=r){console.log(\"Action on self\");let n={name:e._currentType.replace(\"action.\",\"\")+r};e._commands.push(n);const i=(...e)=>(n.args=e,console.log(\"Added args\",e,\"to\",n),t);return e._currentType=\"action.\",i}e._currentType=\"testNot.\"}return t}});return t}});const a=[];s.a.ArgumentCallback=e=>a.push(e);const l=function(e){for(let t=0;t<e.length;t++)if(a.map(n=>n instanceof Function&&n.call(null,e[t])),e[t]instanceof f&&\"Var\"==e[t].type&&!e[t]._promises.length)e[t]._runPromises(),e[t]=e[t]._element.evaluate();else if(e[t]instanceof o){let n=new f(this,m[this.type]),r=n._proxy;const i=e[t]._commands;for(let e=0;e<i.length;e++){const t=i[e];console.log(\"About to call\",t.name,\"with\",t.args,\"on\",r),r=t.name.match(/^settings\\./)?r.settings[t.name.replace(/^settings\\./,\"\")](...t.args):t.name.match(/^test\\./)?r.test[t.name.replace(/^test\\./,\"\")](...t.args):t.name.match(/^testNot\\./)?r.testNot[t.name.replace(/^test\\./,\"\")](...t.args):r[t.name](...t.args)}e[t]=n,console.log(\"Replaced self with\",e[t])}return e};s.a.utils.evaluateArguments=l;let u=function(e){return function(...t){let n=this;return new Promise((function(r){let i=s.a.controllers.running;s.a.debug.currentPromise=r;l.call(n,t),e.apply(n,[(...e)=>s.a.controllers.running!=i||r(...e)].concat(t))}))}},c=function(e){let t=[],n=()=>new Promise(e=>e()),i=()=>new Promise(e=>e()),o=function(...r){let o=this;return new Promise((async function(a){let u=s.a.controllers.running;s.a.debug.currentPromise=a;let c=(...e)=>s.a.controllers.running!=u||a(...e);l.call(o,r);let h=e.apply(o,r),d=\"and\";for(let e=0;e<t.length;e++){let n=t[e];\"and\"==n?d=\"and\":\"or\"==n?d=\"or\":n&&n._runPromises&&n.success&&(n=\"success\"==await n._runPromises(),\"and\"==d?h=h&&n:\"or\"==d&&(h=h||n))}h?(await n(),c(\"success\")):(await i(),c(\"failure\"))}))};return o.and=e=>{t.push(\"and\"),t.push(e)},o.or=e=>{t.push(\"or\"),t.push(e)},o.success=(...e)=>n=Object(r.d)(e.map(e=>()=>e._runPromises())),o.failure=(...e)=>i=Object(r.d)(e.map(e=>()=>e._runPromises())),o};class h{constructor(e,t,n){let r=$(\"<PennElement>\"),i=r.css,o=[];r.css=(...e)=>{o.push(e),i.apply(r,e)};let a=!1;Object.defineProperty(this,\"jQueryElement\",{set:function(t){if(!(t instanceof jQuery))return s.a.debug.error(\"Tried to assign a non jQuery element to PennElement named \"+e);if(a)return r=t;let n=r.data(\"events\");n&&$.each(n,(function(){$.each(this,(function(){t.bind(this.type,this.handler)}))}));for(let e in o)t.css(...o[e]);r=t,a=!0},get:function(){return r}}),this.jQueryContainer=$(\"<div>\"),this.id=e,this.type=t,this.validate=()=>this.hasValidated=!0,this._printCallback=[],n.hasOwnProperty(\"end\")&&(this.end=function(){n.end.apply(this)})}}let d=(e,t,n,i)=>{let o=\"\",a=e.replace(/^\\.(settings|testNot|test)\\./,\"\");Object(r.e)(a,\"settings\")/\"settings\".length<.5&&(o=\" Did you mean to type &lsquo;<strong>settings</strong>&rsquo;?\"),Object(r.e)(a,\"test\")/\"test\".length<.5&&(o=\" Did you mean to type &lsquo;<strong>test</strong>&rsquo;?\"),Object(r.e)(a,\"testNot\")/\"testNot\".length<.5&&(o=\" Did you mean to type &lsquo;<strong>testNot</strong>&rsquo;?\");let l={score:1,command:\"\"};for(let e=0;e<i.length;e++){let t=Object(r.e)(a,i[e])/a.length;t<l.score&&(l.score=t,l.command=i[e])}l.score<.5&&(o=\" Did you mean to type <strong>\"+e.replace(a,l.command)+\"</strong>?\"),s.a.debug.error(\"Command &lsquo;\"+e+\"&rsquo; unknown on \"+t+\" element &lsquo;\"+n+\"&rsquo;.\"+o)};class f{constructor(e,t){let n=new Proxy(this,{get:(e,r)=>{if(r in this)return e[r];{if(\"_runPromises\"==r)return()=>this._runPromises.call(this);let e;try{e=this[r]}catch(e){return d(r,this.type,this._element.id,Object.getOwnPropertyNames(t.actions)),n}return void 0===e&&\"string\"==typeof r&&\"nodeType\"!=r&&d(r,this.type,this._element.id,Object.getOwnPropertyNames(t.actions)),e}}});if(this._proxy=n,e instanceof h)n._element=e;else if(\"string\"==typeof e){let r;r=s.a.controllers.running?s.a.controllers.list[s.a.controllers.running.id]:s.a.controllers.underConstruction,Object.defineProperty(n,\"_element\",{get:()=>r._getElement(e,t.name)})}n.type=t.name,n._promises=[];for(let e in t.actions)n[e]=function(...i){let o=u((function(...i){s.a.debug.on&&s.a.debug.log(\"<div style='color: lightsalmon'>\"+n._element.id+\" (\"+t.name+\") Action command '\"+e+\"' running, params: \"+JSON.stringify(Object(r.i)(i))+\"</div>\"),t.actions[e].apply(this,i)}));return n._promises.push(()=>o.apply(n._element,i)),n};n.settings=new Proxy({},{get:(e,n)=>{if(n in e)return e[n];d(\".settings.\"+n,this.type,this._element.id,Object.getOwnPropertyNames(t.settings))}});for(let e in t.settings)n.settings[e]=function(...i){let o=u((function(...i){s.a.debug.on&&s.a.debug.log(\"<div style='color: salmon'>\"+n._element.id+\" (\"+t.name+\") Settings command '\"+e+\"' running, params: \"+JSON.stringify(Object(r.i)(i))+\"</div>\"),t.settings[e].apply(this,i)}));return n._promises.push(()=>o.apply(n._element,i)),n};n.test=new Proxy({},{get:(e,n)=>{if(n in e)return e[n];d(\".test.\"+n,this.type,this._element.id,Object.getOwnPropertyNames(t.test))}}),n.testNot=new Proxy({},{get:(e,n)=>{if(n in e)return e[n];d(\".testNot.\"+n,this.type,this._element.id,Object.getOwnPropertyNames(t.test))}});for(let e in t.test)n.test[e]=function(...i){let o=c((function(...i){return s.a.debug.on&&s.a.debug.log(\"<div style='color: darksalmon'>\"+n._element.id+\" (\"+t.name+\") Test command '\"+e+\"' running, params: \"+JSON.stringify(Object(r.i)(i))+\"</div>\"),t.test[e].apply(this,i)}));return n._promises.push(()=>o.apply(n._element,i)),n.success=(...e)=>(o.success.apply(n._element,l.call(n._element,e)),n),n.failure=(...e)=>(o.failure.apply(n._element,l.call(n._element,e)),n),n.and=e=>(o.and.call(n._element,e),n),n.or=e=>(o.or.call(n._element,e),n),n},n.testNot[e]=function(...i){let o=c((function(...n){return s.a.debug.on&&s.a.debug.log(t.name+\" testNot command \"+e+\" running, params: \"+JSON.stringify(Object(r.i)(n))),!t.test[e].apply(this,n)}));return n._promises.push(()=>o.apply(n._element,i)),n.success=(...e)=>(o.success.apply(n._element,l.call(n._element,e)),n),n.failure=(...e)=>(o.failure.apply(n._element,l.call(n._element,e)),n),n.and=e=>(o.and.call(n._element,e),n),n.or=e=>(o.or.call(n._element,e),n),n};t.value&&Object.defineProperty(n,\"value\",{get:()=>t.value.apply(n._element)})}_runPromises(){return Object(r.d)(this._promises)()}}let p={actions:{scaling:function(e,t,n){let r=this.jQueryElement,i=0,o=0,a=0,l=0;const u=s.a.controllers.running,c=(e,t)=>{let n=0;if(!isNaN(Number(e)))return Number(e);if(e.match(/(\\d+(.\\d+)?)px/))n=Number(e.replace(/^[^\\d]*(\\d+(.\\d+)?)px.*$/,\"$1\"));else{const t=$(\"<div>\").css(\"width\",e);n=t.appendTo(r.parent()).width(),t.remove()}return n/t},h=()=>{if(u!=s.a.controllers.running)return;this.jQueryContainer&&this.jQueryContainer instanceof jQuery&&this.jQueryContainer.parent().length&&(r=this.jQueryContainer);const e=r.width(),d=r.height(),f=$(window).width(),p=$(window).height();window.requestAnimationFrame(h),i=e,o=d,a=f,l=p;let m=\"\";if(t.match(/page|screen/i)){m=a/l<i/o?`scale(${c(\"100vw\",i)})`:`scale(${c(\"100vh\",o)})`}else m=void 0===n||n.match(/auto/i)?`scale(${c(t,i)})`:t.match(/auto/i)?`scale(${c(n,o)})`:`scale(${c(t,i)},${c(n,o)})`;let g=r.css(\"transform\");g=g.replace(/^none$|matrix\\([^)]+\\)/,m),r.css(\"transform\",g)};h(),e()},print:async function(e,t,n,o){const a=[t,n,o];if(console.log(this.id,\"lastprint\",this._lastPrint,\"newlastprint\",a),this._lastPrint=a,o&&\"string\"==typeof o&&(o=i.b.Elements.getCanvas(o)),o&&o instanceof f&&\"Canvas\"==o.type)return o.settings.add(t,n,i.b.Elements[\"get\"+this.type](this.id))._runPromises().then(()=>e());if(this.jQueryElement&&this.jQueryElement instanceof jQuery){this.jQueryContainer.detach(),this.jQueryContainer.empty(),this.jQueryElement.addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")),this.jQueryElement.addClass(\"PennController-\"+this.id.replace(/[\\s_]/g,\"\"));let e=this.jQueryContainer;if(e.css(\"display\",\"inherit\"),\"string\"==typeof this.jQueryAlignment&&(this.jQueryAlignment.match(/left/i)?e.css(\"align-self\",\"start\"):this.jQueryAlignment.match(/center/i)?e.css(\"align-self\",\"center\"):this.jQueryAlignment.match(/right/i)&&e.css(\"align-self\",\"end\")),e.addClass(\"PennController-elementContainer\").addClass(\"PennController-\"+this.type.replace(/[\\s_]+/g,\"\")+\"-container\").addClass(\"PennController-\"+this.id.replace(/[\\s_]+/g,\"\")+\"-container\").append(this.jQueryElement),t instanceof jQuery)t.append(e);else if(t instanceof f&&t._element.jQueryElement instanceof jQuery)t._element.jQueryElement.append(e);else if(void 0!==n){const i=s.a.controllers.running;r.j.call(e,t,n,$(\"body\"),()=>i!=s.a.controllers.running||this.lastPrint!=a)}else s.a.controllers.running.element.append(e);if(this.cssContainer instanceof Array&&this.cssContainer.length)for(let t=0;t<this.cssContainer.length;t++)e.css.apply(e,this.cssContainer[t]);let i=$(\"<div>\").css(\"display\",\"inline-block\").addClass(\"PennController-before\"),o=$(\"<div>\").css(\"display\",\"inline-block\").addClass(\"PennController-after\");this.jQueryElement.before(i),this.jQueryElement.after(o);for(let e in this.jQueryBefore)this.jQueryBefore[e]&&this.jQueryBefore[e]._element&&await new Promise(t=>p.actions.print.call(this.jQueryBefore[e]._element,t,i));for(let e in this.jQueryAfter)this.jQueryAfter[e]&&this.jQueryAfter[e]._element&&await new Promise(t=>p.actions.print.call(this.jQueryAfter[e]._element,t,o))}else s.a.debug.error(\"No jQuery instance to print for element \"+this.id);this.printTime=Date.now();for(let e=0;e<this._printCallback.length;e++)this._printCallback[e]instanceof Function&&await this._printCallback[e].call(this);e()},refresh:function(e){let t=this.jQueryElement.parent();if(!(t instanceof jQuery&&t.parent().length))return e();let n=$(\"<span>\");t.before(n),i.b.Elements[\"get\"+this.type](this.id).print(n)._runPromises().then(()=>{n.before(this.jQueryElement.parent()),n.remove(),e()})},remove:function(e){if(this.jQueryContainer instanceof jQuery&&this.jQueryContainer.detach(),this.jQueryElement instanceof jQuery?this.jQueryElement.detach():s.a.debug.error(\"No jQuery instance to remove for element \"+this.id),this.jQueryBefore&&this.jQueryBefore.length)for(let e in this.jQueryBefore)this.jQueryBefore[e]._element&&this.jQueryBefore[e]._element.jQueryElement instanceof jQuery&&this.jQueryBefore[e]._element.jQueryElement.detach();if(this.jQueryAfter&&this.jQueryAfter.length)for(let e in this.jQueryAfter)this.jQueryAfter[e]._element&&this.jQueryAfter[e]._element.jQueryElement instanceof jQuery&&this.jQueryAfter[e]._element.jQueryElement.detach();e()},wait:function(e,t){if(\"first\"==t&&this.hasValidated)e();else{let n=!1,r=this.validate;if(this.validate=()=>{if(r.apply(this),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.jQueryElement.attr(\"disabled\",!0),this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r,this.jQueryElement.attr(\"disabled\",r))})}else n=!0,e()},\"number\"==typeof t&&t>0){let e=Date.now(),t=()=>{Date.now()-e<=0?this.validate():window.requestAnimationFrame(t)};window.requestAnimationFrame(t)}}}},settings:{after:function(e,t){t._element&&t._element.jQueryElement instanceof jQuery?(this.jQueryElement instanceof jQuery&&this.jQueryElement.printed()&&(t=t.print(this.jQueryContainer.find(\".PennController-after\"))),t._runPromises().then(()=>{this.jQueryAfter.push(t),e()})):(s.a.debug.error(\"Tried to add an invalid element after element named \"+this.id),e())},before:function(e,t){t._element&&t._element.jQueryElement instanceof jQuery?(this.jQueryElement instanceof jQuery&&this.jQueryElement.printed()&&t.print(this.jQueryContainer.find(\".PennController-\"+this.type+\"-before\")),t._runPromises().then(()=>{this.jQueryBefore.push(t),e()})):(s.a.debug.error(\"Tried to add an invalid element before element named \"+this.id),e())},bold:function(e){this.jQueryElement instanceof jQuery?this.jQueryElement.css(\"font-weight\",\"bold\"):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as bold\"),e()},center:function(e){this.jQueryElement instanceof jQuery?(this.jQueryAlignment=\"center\",this.jQueryElement.parent().length&&this.jQueryContainer.css(\"align-self\",\"center\")):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as centered\"),e()},color:function(e,t){this.jQueryElement&&\"string\"==typeof t?this.jQueryElement.css(\"color\",t):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as \"+t),e()},cssContainer:function(e,...t){this.cssContainer||(this.cssContainer=[]),this.cssContainer.push(t),this.jQueryContainer.printed()&&this.jQueryContainer.css(...t),e()},css:function(e,...t){this.jQueryElement instanceof jQuery?this.jQueryElement.css(...t):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element on which to apply the CSS\"),e()},disable:function(e){this.hasOwnProperty(\"jQueryElement\")&&this.jQueryElement instanceof jQuery?this.jQueryElement.attr(\"disabled\",!0).addClass(\"PennController-disabled\"):s.a.debug.error(\"No jQuery instance to disable for element \"+this.id),e()},enable:function(e){this.hasOwnProperty(\"jQueryElement\")&&this.jQueryElement instanceof jQuery?this.jQueryElement.removeAttr(\"disabled\").removeClass(\"PennController-disabled\"):s.a.debug.error(\"No jQuery instance to enable for element \"+this.id),e()},hidden:function(e){this.hasOwnProperty(\"jQueryElement\")&&this.jQueryElement instanceof jQuery?this.jQueryElement.css({visibility:\"hidden\"}):s.a.debug.error(\"No jQuery instance to hide for element \"+this.id),e()},italic:function(e){this.jQueryElement instanceof jQuery?this.jQueryElement.css(\"font-style\",\"italic\"):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render in italic\"),e()},left:function(e){this.jQueryElement instanceof jQuery?(this.jQueryAlignment=\"left\",this.jQueryElement.parent().length&&this.jQueryContainer.css(\"align-self\",\"left\")):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as aligned to the left\"),e()},log:function(e,t){this.log=void 0===t||t,e()},once:function(e){if(this.hasValidated)this.disabled=!0,this.jQueryElement.attr(\"disabled\",!0);else{let e=this.validate;this.validate=()=>{e.apply(this),this.disabled=!0,this.jQueryElement.attr(\"disabled\",!0)}}e()},right:function(e){this.jQueryElement instanceof jQuery?(this.jQueryAlignment=\"right\",this.jQueryElement.parent().length&&this.jQueryContainer.css(\"align-self\",\"right\")):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as aligned to the right\"),e()},size:function(e,t,n){this.jQueryElement instanceof jQuery?(this.jQueryElement.width(t),this.jQueryElement.height(n),this.jQueryContainer instanceof jQuery&&(\"string\"==typeof t&&t.match(/%$/)&&this.jQueryContainer.width(\"100%\"),\"string\"==typeof n&&n.match(/%$/)&&this.jQueryContainer.height(\"100%\"))):s.a.debug.error(\"Element named \"+this.id+\" has not jQuery element to render as aligned to the right\"),e()},visible:function(e){this.hasOwnProperty(\"jQueryElement\")&&this.jQueryElement instanceof jQuery?this.jQueryElement.css({visibility:\"visible\"}):s.a.debug.error(\"No jQuery instance to make visible for element \"+this.id),e()}},test:{printed:function(){return!!(this.hasOwnProperty(\"jQueryElement\")&&this.jQueryElement instanceof jQuery)&&this.jQueryElement.printed()}}};s.a.elements.standardCommands=p,i.b.Elements.fullscreen=function(){return{_promises:[()=>new Promise((function(e){if(document.documentElement.requestFullscreen)return document.documentElement.requestFullscreen().then(e).catch(e);document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen(),e()}))],_runPromises:()=>Object(r.d)(this._promises)()}},i.b.Elements.exitFullscreen=function(){return{_promises:[()=>new Promise((function(e){if(document.exitFullscreen)return document.exitFullscreen().then(e).catch(e);document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),e()}))],_runPromises:()=>Object(r.d)(this._promises)()}},i.b.Elements.clear=function(){let e={_element:$(\"<p></p>\"),_promises:[()=>new Promise((async function(e){let t=s.a.controllers.list[s.a.controllers.running.id];for(let e in t.elements)for(let n in t.elements[e]){let r=t.elements[e][n],s=i.b.Elements[\"get\"+r.type](r.id);await s.remove()._runPromises()}e()}))],_runPromises:()=>Object(r.d)(e._promises)()};return e},i.b.Elements.end=function(){let e={_element:$(\"<p></p>\"),_promises:[()=>new Promise((async function(e){await s.a.controllers.running.endTrial(),e()}))],_runPromises:()=>Object(r.d)(e._promises)()};return e};let m={};i.b._AddElementType=function(e,t){m.hasOwnProperty(e)&&s.a.debug.error(\"Element type \"+e+\" defined more than once\"),m[e]=function(t){let n=new t(s.a);n.hasOwnProperty(\"actions\")||(n.actions={}),n.hasOwnProperty(\"settings\")||(n.settings={}),n.hasOwnProperty(\"test\")||(n.test={});for(let e in p.actions)n.actions.hasOwnProperty(e)||(n.actions[e]=p.actions[e]);for(let e in p.settings)n.settings.hasOwnProperty(e)||(n.settings[e]=p.settings[e]);for(let e in p.test)n.test.hasOwnProperty(e)||(n.test[e]=p.test[e]);for(let e in n.settings)n.actions.hasOwnProperty(e)||(n.actions[e]=n.settings[e]);let r=n.uponCreation;n.uponCreation=function(e){this.jQueryAfter=[],this.jQueryBefore=[],this.jQueryElement&&this.jQueryElement instanceof jQuery&&this.jQueryElement.removeAttr(\"style\"),this.jQuerycontainer&&this.jQueryContainer instanceof jQuery&&(this.jQuerycontainer=$(\"<div>\")),r instanceof Function?r.apply(this,[e]):e()};let i=n.end;return n.end=function(){this.jQueryElement instanceof jQuery&&this.jQueryElement.remove();for(let e in this.jQueryBefore)this.jQueryBefore[e]._element&&this.jQueryBefore[e]._element.jQueryElement instanceof jQuery&&this.jQueryBefore[e]._element.jQueryElement.remove();for(let e in this.jQueryAfter)this.jQueryAfter[e]._element&&this.jQueryAfter[e]._element.jQueryElement instanceof jQuery&&this.jQueryAfter[e]._element.jQueryElement.remove();this.jQueryContainer instanceof jQuery&&this.jQueryContainer.remove(),i instanceof Function&&i.apply(this)},n.name=e,n}(t),i.b.Elements[\"new\"+e]=function(...t){l.call(null,t);let n=m[e],r=s.a.controllers.underConstruction;s.a.controllers.running&&(r=s.a.controllers.list[s.a.controllers.running.id]);let i=\"unnamed-\"+e;t.length<1?t=[i]:\"string\"==typeof t[0]&&t[0].length>0&&(i=t[0]);let o=new h(i,e,n);n.hasOwnProperty(\"immediate\")&&n.immediate instanceof Function&&n.immediate.apply(o,t);let a=o.id;for(let t=2;r.elements.hasOwnProperty(e)&&r.elements[e].hasOwnProperty(o.id);t++)o.id=a+String(t);a!=o.id&&s.a.debug.log(\"Found an existing \"+o.type+\" element named &ldquo;\"+a+\"&rdquo;--using name &ldquo;\"+o.id+\"&rdquo; instead for new element\"),r._addElement(o);let u=new f(o,n);if(u=u._proxy,u._promises.push(()=>new Promise(e=>{o.printTime=0,o.log=!1,e()})),u._promises.push(()=>new Promise(e=>n.uponCreation.apply(o,[e]))),r.defaultCommands.hasOwnProperty(e))for(let t in r.defaultCommands[e]){let n=r.defaultCommands[e][t];u._promises.push(()=>new Promise(e=>{\"header\"==n[2]&&0==s.a.controllers.running.options.runHeader?e():n[0].apply(o,[e,...n[1]])}))}return u},i.b.Elements[\"get\"+e]=function(t){let n=m[e];return new f(t,n)._proxy},Object.defineProperty(i.b.Elements,\"default\"+e,{get:function(){let t=m[e],n={},r=function(){s.a.controllers.underConstruction.hasOwnProperty(\"defaultCommands\")||(s.a.controllers.underConstruction.defaultCommands={}),s.a.controllers.underConstruction.defaultCommands.hasOwnProperty(e)||(s.a.controllers.underConstruction.defaultCommands[e]=[])};for(let i in t.actions)n[i]=function(...o){return r(),s.a.controllers.underConstruction.defaultCommands[e].push([t.actions[i],o]),n};n.settings={};for(let i in t.settings)n.settings[i]=function(...o){return r(),s.a.controllers.underConstruction.defaultCommands[e].push([t.settings[i],o]),n};return n}})},i.b._AddStandardCommands=function(e){let t=new e(s.a);for(let e in t)if(e.match(/^(actions|settings|test)$/))for(let n in t[e]){let r=t[e][n];if(p[e].hasOwnProperty(n))s.a.debug.error(\"There already is a standard \"+e+\" command named \"+n);else if(r instanceof Function){p[e][n]=r;for(let t in m)m[t][e].hasOwnProperty(n)||(m[t][e][n]=r),\"settings\"!=e||m[t].actions.hasOwnProperty(n)||(m[t].actions[n]=r)}else s.a.debug.error(\"Standard \"+e+\" command \"+n+\" should be a function\")}else s.a.debug.error(\"Standard command type unknown\",e)}},function(e,t,n){(function(e,r){var i;\n/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */(function(){var s=\"Expected a function\",o=\"__lodash_placeholder__\",a=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]],l=\"[object Arguments]\",u=\"[object Array]\",c=\"[object Boolean]\",h=\"[object Date]\",d=\"[object Error]\",f=\"[object Function]\",p=\"[object GeneratorFunction]\",m=\"[object Map]\",g=\"[object Number]\",y=\"[object Object]\",v=\"[object RegExp]\",b=\"[object Set]\",w=\"[object String]\",_=\"[object Symbol]\",k=\"[object WeakMap]\",E=\"[object ArrayBuffer]\",C=\"[object DataView]\",x=\"[object Float32Array]\",j=\"[object Float64Array]\",P=\"[object Int8Array]\",T=\"[object Int16Array]\",S=\"[object Int32Array]\",A=\"[object Uint8Array]\",O=\"[object Uint16Array]\",Q=\"[object Uint32Array]\",N=/\\b__p \\+= '';/g,R=/\\b(__p \\+=) '' \\+/g,D=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>\"']/g,z=RegExp(I.source),F=RegExp(L.source),B=/<%-([\\s\\S]+?)%>/g,U=/<%([\\s\\S]+?)%>/g,$=/<%=([\\s\\S]+?)%>/g,M=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,W=/^\\w*$/,V=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,q=/[\\\\^$.*+?()[\\]{}|]/g,H=RegExp(q.source),Z=/^\\s+|\\s+$/g,Y=/^\\s+/,G=/\\s+$/,K=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,X=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,J=/,? & /,ee=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,te=/\\\\(\\\\)?/g,ne=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,re=/\\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\\[object .+?Constructor\\]$/,ae=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\\d*)$/,ue=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,ce=/($^)/,he=/['\\n\\r\\u2028\\u2029\\\\]/g,de=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",fe=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",pe=\"[\\\\ud800-\\\\udfff]\",me=\"[\"+fe+\"]\",ge=\"[\"+de+\"]\",ye=\"\\\\d+\",ve=\"[\\\\u2700-\\\\u27bf]\",be=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",we=\"[^\\\\ud800-\\\\udfff\"+fe+ye+\"\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",_e=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",ke=\"[^\\\\ud800-\\\\udfff]\",Ee=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Ce=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",xe=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",je=\"(?:\"+be+\"|\"+we+\")\",Pe=\"(?:\"+xe+\"|\"+we+\")\",Te=\"(?:\"+ge+\"|\"+_e+\")\"+\"?\",Se=\"[\\\\ufe0e\\\\ufe0f]?\"+Te+(\"(?:\\\\u200d(?:\"+[ke,Ee,Ce].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+Te+\")*\"),Ae=\"(?:\"+[ve,Ee,Ce].join(\"|\")+\")\"+Se,Oe=\"(?:\"+[ke+ge+\"?\",ge,Ee,Ce,pe].join(\"|\")+\")\",Qe=RegExp(\"['’]\",\"g\"),Ne=RegExp(ge,\"g\"),Re=RegExp(_e+\"(?=\"+_e+\")|\"+Oe+Se,\"g\"),De=RegExp([xe+\"?\"+be+\"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=\"+[me,xe,\"$\"].join(\"|\")+\")\",Pe+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=\"+[me,xe+je,\"$\"].join(\"|\")+\")\",xe+\"?\"+je+\"+(?:['’](?:d|ll|m|re|s|t|ve))?\",xe+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",ye,Ae].join(\"|\"),\"g\"),Ie=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+de+\"\\\\ufe0e\\\\ufe0f]\"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ze=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Fe=-1,Be={};Be[x]=Be[j]=Be[P]=Be[T]=Be[S]=Be[A]=Be[\"[object Uint8ClampedArray]\"]=Be[O]=Be[Q]=!0,Be[l]=Be[u]=Be[E]=Be[c]=Be[C]=Be[h]=Be[d]=Be[f]=Be[m]=Be[g]=Be[y]=Be[v]=Be[b]=Be[w]=Be[k]=!1;var Ue={};Ue[l]=Ue[u]=Ue[E]=Ue[C]=Ue[c]=Ue[h]=Ue[x]=Ue[j]=Ue[P]=Ue[T]=Ue[S]=Ue[m]=Ue[g]=Ue[y]=Ue[v]=Ue[b]=Ue[w]=Ue[_]=Ue[A]=Ue[\"[object Uint8ClampedArray]\"]=Ue[O]=Ue[Q]=!0,Ue[d]=Ue[f]=Ue[k]=!1;var $e={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Me=parseFloat,We=parseInt,Ve=\"object\"==typeof e&&e&&e.Object===Object&&e,qe=\"object\"==typeof self&&self&&self.Object===Object&&self,He=Ve||qe||Function(\"return this\")(),Ze=t&&!t.nodeType&&t,Ye=Ze&&\"object\"==typeof r&&r&&!r.nodeType&&r,Ge=Ye&&Ye.exports===Ze,Ke=Ge&&Ve.process,Xe=function(){try{var e=Ye&&Ye.require&&Ye.require(\"util\").types;return e||Ke&&Ke.binding&&Ke.binding(\"util\")}catch(e){}}(),Je=Xe&&Xe.isArrayBuffer,et=Xe&&Xe.isDate,tt=Xe&&Xe.isMap,nt=Xe&&Xe.isRegExp,rt=Xe&&Xe.isSet,it=Xe&&Xe.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function ht(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function mt(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function gt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=xt(\"length\");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function wt(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):wt(e,Et,n)}function kt(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}function Et(e){return e!=e}function Ct(e,t){var n=null==e?0:e.length;return n?Tt(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function jt(e){return function(t){return null==e?void 0:e[t]}}function Pt(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function Tt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function St(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function At(e){return function(t){return e(t)}}function Ot(e,t){return ft(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&_t(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var It=jt({\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ã\":\"A\",\"Ä\":\"A\",\"Å\":\"A\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ã\":\"a\",\"ä\":\"a\",\"å\":\"a\",\"Ç\":\"C\",\"ç\":\"c\",\"Ð\":\"D\",\"ð\":\"d\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ë\":\"E\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ë\":\"e\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"Ñ\":\"N\",\"ñ\":\"n\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Õ\":\"O\",\"Ö\":\"O\",\"Ø\":\"O\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"õ\":\"o\",\"ö\":\"o\",\"ø\":\"o\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ü\":\"U\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ü\":\"u\",\"Ý\":\"Y\",\"ý\":\"y\",\"ÿ\":\"y\",\"Æ\":\"Ae\",\"æ\":\"ae\",\"Þ\":\"Th\",\"þ\":\"th\",\"ß\":\"ss\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ą\":\"A\",\"ā\":\"a\",\"ă\":\"a\",\"ą\":\"a\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"Ď\":\"D\",\"Đ\":\"D\",\"ď\":\"d\",\"đ\":\"d\",\"Ē\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ę\":\"E\",\"Ě\":\"E\",\"ē\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ę\":\"e\",\"ě\":\"e\",\"Ĝ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ģ\":\"G\",\"ĝ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ģ\":\"g\",\"Ĥ\":\"H\",\"Ħ\":\"H\",\"ĥ\":\"h\",\"ħ\":\"h\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"Į\":\"I\",\"İ\":\"I\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"į\":\"i\",\"ı\":\"i\",\"Ĵ\":\"J\",\"ĵ\":\"j\",\"Ķ\":\"K\",\"ķ\":\"k\",\"ĸ\":\"k\",\"Ĺ\":\"L\",\"Ļ\":\"L\",\"Ľ\":\"L\",\"Ŀ\":\"L\",\"Ł\":\"L\",\"ĺ\":\"l\",\"ļ\":\"l\",\"ľ\":\"l\",\"ŀ\":\"l\",\"ł\":\"l\",\"Ń\":\"N\",\"Ņ\":\"N\",\"Ň\":\"N\",\"Ŋ\":\"N\",\"ń\":\"n\",\"ņ\":\"n\",\"ň\":\"n\",\"ŋ\":\"n\",\"Ō\":\"O\",\"Ŏ\":\"O\",\"Ő\":\"O\",\"ō\":\"o\",\"ŏ\":\"o\",\"ő\":\"o\",\"Ŕ\":\"R\",\"Ŗ\":\"R\",\"Ř\":\"R\",\"ŕ\":\"r\",\"ŗ\":\"r\",\"ř\":\"r\",\"Ś\":\"S\",\"Ŝ\":\"S\",\"Ş\":\"S\",\"Š\":\"S\",\"ś\":\"s\",\"ŝ\":\"s\",\"ş\":\"s\",\"š\":\"s\",\"Ţ\":\"T\",\"Ť\":\"T\",\"Ŧ\":\"T\",\"ţ\":\"t\",\"ť\":\"t\",\"ŧ\":\"t\",\"Ũ\":\"U\",\"Ū\":\"U\",\"Ŭ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ų\":\"U\",\"ũ\":\"u\",\"ū\":\"u\",\"ŭ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ų\":\"u\",\"Ŵ\":\"W\",\"ŵ\":\"w\",\"Ŷ\":\"Y\",\"ŷ\":\"y\",\"Ÿ\":\"Y\",\"Ź\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"ź\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"Ĳ\":\"IJ\",\"ĳ\":\"ij\",\"Œ\":\"Oe\",\"œ\":\"oe\",\"ŉ\":\"'n\",\"ſ\":\"s\"}),Lt=jt({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function zt(e){return\"\\\\\"+$e[e]}function Ft(e){return Ie.test(e)}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function $t(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function Mt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Vt(e){return Ft(e)?function(e){var t=Re.lastIndex=0;for(;Re.test(e);)++t;return t}(e):vt(e)}function qt(e){return Ft(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split(\"\")}(e)}var Ht=jt({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var Zt=function e(t){var n,r=(t=null==t?He:Zt.defaults(He.Object(),t,Zt.pick(He,ze))).Array,i=t.Date,de=t.Error,fe=t.Function,pe=t.Math,me=t.Object,ge=t.RegExp,ye=t.String,ve=t.TypeError,be=r.prototype,we=fe.prototype,_e=me.prototype,ke=t[\"__core-js_shared__\"],Ee=we.toString,Ce=_e.hasOwnProperty,xe=0,je=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\",Pe=_e.toString,Te=Ee.call(me),Se=He._,Ae=ge(\"^\"+Ee.call(Ce).replace(q,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Oe=Ge?t.Buffer:void 0,Re=t.Symbol,Ie=t.Uint8Array,$e=Oe?Oe.allocUnsafe:void 0,Ve=Ut(me.getPrototypeOf,me),qe=me.create,Ze=_e.propertyIsEnumerable,Ye=be.splice,Ke=Re?Re.isConcatSpreadable:void 0,Xe=Re?Re.iterator:void 0,vt=Re?Re.toStringTag:void 0,jt=function(){try{var e=Ji(me,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),Yt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Gt=i&&i.now!==He.Date.now&&i.now,Kt=t.setTimeout!==He.setTimeout&&t.setTimeout,Xt=pe.ceil,Jt=pe.floor,en=me.getOwnPropertySymbols,tn=Oe?Oe.isBuffer:void 0,nn=t.isFinite,rn=be.join,sn=Ut(me.keys,me),on=pe.max,an=pe.min,ln=i.now,un=t.parseInt,cn=pe.random,hn=be.reverse,dn=Ji(t,\"DataView\"),fn=Ji(t,\"Map\"),pn=Ji(t,\"Promise\"),mn=Ji(t,\"Set\"),gn=Ji(t,\"WeakMap\"),yn=Ji(me,\"create\"),vn=gn&&new gn,bn={},wn=js(dn),_n=js(fn),kn=js(pn),En=js(mn),Cn=js(gn),xn=Re?Re.prototype:void 0,jn=xn?xn.valueOf:void 0,Pn=xn?xn.toString:void 0;function Tn(e){if(Wo(e)&&!No(e)&&!(e instanceof Qn)){if(e instanceof On)return e;if(Ce.call(e,\"__wrapped__\"))return Ps(e)}return new On(e)}var Sn=function(){function e(){}return function(t){if(!Mo(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function An(){}function On(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Ln(e){var t=this.__data__=new Rn(e);this.size=t.size}function zn(e,t){var n=No(e),r=!n&&Qo(e),i=!n&&!r&&Lo(e),s=!n&&!r&&!i&&Xo(e),o=n||r||i||s,a=o?St(e.length,ye):[],l=a.length;for(var u in e)!t&&!Ce.call(e,u)||o&&(\"length\"==u||i&&(\"offset\"==u||\"parent\"==u)||s&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||os(u,l))||a.push(u);return a}function Fn(e){var t=e.length;return t?e[Ir(0,t-1)]:void 0}function Bn(e,t){return Es(yi(e),Yn(t,0,e.length))}function Un(e){return Es(yi(e))}function $n(e,t,n){(void 0!==n&&!So(e[t],n)||void 0===n&&!(t in e))&&Hn(e,t,n)}function Mn(e,t,n){var r=e[t];Ce.call(e,t)&&So(r,n)&&(void 0!==n||t in e)||Hn(e,t,n)}function Wn(e,t){for(var n=e.length;n--;)if(So(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return er(e,(function(e,i,s){t(r,e,n(e),s)})),r}function qn(e,t){return e&&vi(t,wa(t),e)}function Hn(e,t,n){\"__proto__\"==t&&jt?jt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zn(e,t){for(var n=-1,i=t.length,s=r(i),o=null==e;++n<i;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Gn(e,t,n,r,i,s){var o,a=1&t,u=2&t,d=4&t;if(n&&(o=i?n(e,r,i,s):n(e)),void 0!==o)return o;if(!Mo(e))return e;var k=No(e);if(k){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&\"string\"==typeof e[0]&&Ce.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yi(e,o)}else{var N=ns(e),R=N==f||N==p;if(Lo(e))return hi(e,a);if(N==y||N==l||R&&!i){if(o=u||R?{}:is(e),!a)return u?function(e,t){return vi(e,ts(e),t)}(e,function(e,t){return e&&vi(t,_a(t),e)}(o,e)):function(e,t){return vi(e,es(e),t)}(e,qn(o,e))}else{if(!Ue[N])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case E:return di(e);case c:case h:return new r(+e);case C:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case x:case j:case P:case T:case S:case A:case\"[object Uint8ClampedArray]\":case O:case Q:return fi(e,n);case m:return new r;case g:case w:return new r(e);case v:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case _:return i=e,jn?me(jn.call(i)):{}}var i}(e,N,a)}}s||(s=new Ln);var D=s.get(e);if(D)return D;s.set(e,o),Yo(e)?e.forEach((function(r){o.add(Gn(r,t,n,r,e,s))})):Vo(e)&&e.forEach((function(r,i){o.set(i,Gn(r,t,n,i,e,s))}));var I=k?void 0:(d?u?qi:Vi:u?_a:wa)(e);return at(I||e,(function(r,i){I&&(r=e[i=r]),Mn(o,i,Gn(r,t,n,i,e,s))})),o}function Kn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],s=t[i],o=e[i];if(void 0===o&&!(i in e)||!s(o))return!1}return!0}function Xn(e,t,n){if(\"function\"!=typeof e)throw new ve(s);return bs((function(){e.apply(void 0,n)}),t)}function Jn(e,t,n,r){var i=-1,s=ht,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=ft(t,At(n))),r?(s=dt,o=!1):t.length>=200&&(s=Qt,o=!1,t=new In(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else s(t,h,r)||l.push(c)}return l}Tn.templateSettings={escape:B,evaluate:U,interpolate:$,variable:\"\",imports:{_:Tn}},Tn.prototype=An.prototype,Tn.prototype.constructor=Tn,On.prototype=Sn(An.prototype),On.prototype.constructor=On,Qn.prototype=Sn(An.prototype),Qn.prototype.constructor=Qn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return Ce.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ce.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?\"__lodash_hash_undefined__\":t,this},Rn.prototype.clear=function(){this.__data__=[],this.size=0},Rn.prototype.delete=function(e){var t=this.__data__,n=Wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Rn.prototype.get=function(e){var t=this.__data__,n=Wn(t,e);return n<0?void 0:t[n][1]},Rn.prototype.has=function(e){return Wn(this.__data__,e)>-1},Rn.prototype.set=function(e,t){var n=this.__data__,r=Wn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(fn||Rn),string:new Nn}},Dn.prototype.delete=function(e){var t=Ki(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Ki(this,e).get(e)},Dn.prototype.has=function(e){return Ki(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Ki(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},In.prototype.add=In.prototype.push=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this},In.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.clear=function(){this.__data__=new Rn,this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ln.prototype.get=function(e){return this.__data__.get(e)},Ln.prototype.has=function(e){return this.__data__.has(e)},Ln.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Rn){var r=n.__data__;if(!fn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(lr),tr=_i(ur,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(null!=o&&(void 0===a?o==o&&!Ko(o):n(o,a)))var a=o,l=s}return l}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function sr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ss),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?sr(a,t-1,n,r,i):pt(i,a):r||(i[i.length]=a)}return i}var or=ki(),ar=ki(!0);function lr(e,t){return e&&or(e,t,wa)}function ur(e,t){return e&&ar(e,t,wa)}function cr(e,t){return ct(t,(function(t){return Bo(e[t])}))}function hr(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[xs(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return No(e)?r:pt(r,n(e))}function fr(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":vt&&vt in me(e)?function(e){var t=Ce.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=Pe.call(e);r&&(t?e[vt]=n:delete e[vt]);return i}(e):function(e){return Pe.call(e)}(e)}function pr(e,t){return e>t}function mr(e,t){return null!=e&&Ce.call(e,t)}function gr(e,t){return null!=e&&t in me(e)}function yr(e,t,n){for(var i=n?dt:ht,s=e[0].length,o=e.length,a=o,l=r(o),u=1/0,c=[];a--;){var h=e[a];a&&t&&(h=ft(h,At(t))),u=an(h.length,u),l[a]=!n&&(t||s>=120&&h.length>=120)?new In(a&&h):void 0}h=e[0];var d=-1,f=l[0];e:for(;++d<s&&c.length<u;){var p=h[d],m=t?t(p):p;if(p=n||0!==p?p:0,!(f?Qt(f,m):i(c,m,n))){for(a=o;--a;){var g=l[a];if(!(g?Qt(g,m):i(e[a],m,n)))continue e}f&&f.push(m),c.push(p)}}return c}function vr(e,t,n){var r=null==(e=ms(e,t=ai(t,e)))?e:e[xs(zs(t))];return null==r?void 0:st(r,e,n)}function br(e){return Wo(e)&&fr(e)==l}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!Wo(e)&&!Wo(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var o=No(e),a=No(t),f=o?u:ns(e),p=a?u:ns(t),k=(f=f==l?y:f)==y,x=(p=p==l?y:p)==y,j=f==p;if(j&&Lo(e)){if(!Lo(t))return!1;o=!0,k=!1}if(j&&!k)return s||(s=new Ln),o||Xo(e)?Mi(e,t,n,r,i,s):function(e,t,n,r,i,s,o){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!s(new Ie(e),new Ie(t)));case c:case h:case g:return So(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case w:return e==t+\"\";case m:var a=Bt;case b:var l=1&r;if(a||(a=Mt),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var f=Mi(a(e),a(t),r,i,s,o);return o.delete(e),f;case _:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,f,n,r,i,s);if(!(1&n)){var P=k&&Ce.call(e,\"__wrapped__\"),T=x&&Ce.call(t,\"__wrapped__\");if(P||T){var S=P?e.value():e,A=T?t.value():t;return s||(s=new Ln),i(S,A,n,r,s)}}if(!j)return!1;return s||(s=new Ln),function(e,t,n,r,i,s){var o=1&n,a=Vi(e),l=a.length,u=Vi(t).length;if(l!=u&&!o)return!1;var c=l;for(;c--;){var h=a[c];if(!(o?h in t:Ce.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);var m=o;for(;++c<l;){h=a[c];var g=e[h],y=t[h];if(r)var v=o?r(y,g,h,t,e,s):r(g,y,h,e,t,s);if(!(void 0===v?g===y||i(g,y,n,r,s):v)){p=!1;break}m||(m=\"constructor\"==h)}if(p&&!m){var b=e.constructor,w=t.constructor;b==w||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,i,s)}(e,t,n,r,wr,i))}function _r(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=me(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var l=(a=n[i])[0],u=e[l],c=a[1];if(o&&a[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Ln;if(r)var d=r(u,c,l,e,t,h);if(!(void 0===d?wr(c,u,3,r,h):d))return!1}}return!0}function kr(e){return!(!Mo(e)||(t=e,je&&je in t))&&(Bo(e)?Ae:oe).test(js(e));var t}function Er(e){return\"function\"==typeof e?e:null==e?qa:\"object\"==typeof e?No(e)?Sr(e[0],e[1]):Tr(e):tl(e)}function Cr(e){if(!hs(e))return sn(e);var t=[];for(var n in me(e))Ce.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}function xr(e){if(!Mo(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var r in e)(\"constructor\"!=r||!t&&Ce.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Pr(e,t){var n=-1,i=Do(e)?r(e.length):[];return er(e,(function(e,r,s){i[++n]=t(e,r,s)})),i}function Tr(e){var t=Xi(e);return 1==t.length&&t[0][2]?fs(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Sr(e,t){return ls(e)&&ds(t)?fs(xs(e),t):function(n){var r=ma(n,e);return void 0===r&&r===t?ga(n,e):wr(t,r,3)}}function Ar(e,t,n,r,i){e!==t&&or(t,(function(s,o){if(i||(i=new Ln),Mo(s))!function(e,t,n,r,i,s,o){var a=ys(e,n),l=ys(t,n),u=o.get(l);if(u)return void $n(e,n,u);var c=s?s(a,l,n+\"\",e,t,o):void 0,h=void 0===c;if(h){var d=No(l),f=!d&&Lo(l),p=!d&&!f&&Xo(l);c=l,d||f||p?No(a)?c=a:Io(a)?c=yi(a):f?(h=!1,c=hi(l,!0)):p?(h=!1,c=fi(l,!0)):c=[]:Ho(l)||Qo(l)?(c=a,Qo(a)?c=oa(a):Mo(a)&&!Bo(a)||(c=is(l))):h=!1}h&&(o.set(l,c),i(c,l,r,s,o),o.delete(l));$n(e,n,c)}(e,t,o,n,Ar,r,i);else{var a=r?r(ys(e,o),s,o+\"\",e,t,i):void 0;void 0===a&&(a=s),$n(e,o,a)}}),_a)}function Or(e,t){var n=e.length;if(n)return os(t+=t<0?n:0,n)?e[t]:void 0}function Qr(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[qa];var r=-1;return t=ft(t,At(Gi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Pr(e,(function(e,n,i){return{criteria:ft(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;for(;++r<o;){var l=pi(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(\"desc\"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=hr(e,o);n(a,o)&&Ur(s,ai(o,e),a)}return s}function Rr(e,t,n,r){var i=r?kt:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yi(t)),n&&(a=ft(e,At(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Ye.call(a,l,1),Ye.call(e,l,1);return e}function Dr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;os(i)?Ye.call(e,i,1):Jr(e,i)}}return e}function Ir(e,t){return e+Jt(cn()*(t-e+1))}function Lr(e,t){var n=\"\";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Jt(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return ws(ps(e,t,qa),e+\"\")}function Fr(e){return Fn(Sa(e))}function Br(e,t){var n=Sa(e);return Es(n,Yn(t,0,n.length))}function Ur(e,t,n,r){if(!Mo(e))return e;for(var i=-1,s=(t=ai(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var l=xs(t[i]),u=n;if(\"__proto__\"===l||\"constructor\"===l||\"prototype\"===l)return e;if(i!=o){var c=a[l];void 0===(u=r?r(c,l,a):void 0)&&(u=Mo(c)?c:os(t[i+1])?[]:{})}Mn(a,l,u),a=a[l]}return e}var $r=vn?function(e,t){return vn.set(e,t),e}:qa,Mr=jt?function(e,t){return jt(e,\"toString\",{configurable:!0,enumerable:!1,value:Ma(t),writable:!0})}:qa;function Wr(e){return Es(Sa(e))}function Vr(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=r(s);++i<s;)o[i]=e[i+t];return o}function qr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Hr(e,t,n){var r=0,i=null==e?r:e.length;if(\"number\"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!Ko(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return Zr(e,t,qa,n)}function Zr(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,l=Ko(t),u=void 0===t;i<s;){var c=Jt((i+s)/2),h=n(e[c]),d=void 0!==h,f=null===h,p=h==h,m=Ko(h);if(o)var g=r||p;else g=u?p&&(r||d):a?p&&d&&(r||!f):l?p&&d&&!f&&(r||!m):!f&&!m&&(r?h<=t:h<t);g?i=c+1:s=c}return an(s,4294967294)}function Yr(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!So(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function Gr(e){return\"number\"==typeof e?e:Ko(e)?NaN:+e}function Kr(e){if(\"string\"==typeof e)return e;if(No(e))return ft(e,Kr)+\"\";if(Ko(e))return Pn?Pn.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Xr(e,t,n){var r=-1,i=ht,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=dt;else if(s>=200){var u=t?null:Li(e);if(u)return Mt(u);o=!1,i=Qt,l=new In}else l=t?[]:a;e:for(;++r<s;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function Jr(e,t){return null==(e=ms(e,t=ai(t,e)))||delete e[xs(zs(t))]}function ei(e,t,n,r){return Ur(e,t,n(hr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Vr(e,r?0:s,r?s+1:i):Vr(e,r?s+1:0,r?i:s)}function ni(e,t){var n=e;return n instanceof Qn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=Jn(o[s]||a,e[l],t,n));return Xr(sr(o,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){var a=r<s?t[r]:void 0;n(o,e[r],a)}return o}function si(e){return Io(e)?e:[]}function oi(e){return\"function\"==typeof e?e:qa}function ai(e,t){return No(e)?e:ls(e,t)?[e]:Cs(aa(e))}var li=zr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Vr(e,t,n)}var ci=Yt||function(e){return He.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Ie(t).set(new Ie(e)),t}function fi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,s=Ko(e),o=void 0!==t,a=null===t,l=t==t,u=Ko(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function mi(e,t,n,i){for(var s=-1,o=e.length,a=n.length,l=-1,u=t.length,c=on(o-a,0),h=r(u+c),d=!i;++l<u;)h[l]=t[l];for(;++s<a;)(d||s<o)&&(h[n[s]]=e[s]);for(;c--;)h[l++]=e[s++];return h}function gi(e,t,n,i){for(var s=-1,o=e.length,a=-1,l=n.length,u=-1,c=t.length,h=on(o-l,0),d=r(h+c),f=!i;++s<h;)d[s]=e[s];for(var p=s;++u<c;)d[p+u]=t[u];for(;++a<l;)(f||s<o)&&(d[p+n[a]]=e[s++]);return d}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function vi(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Hn(n,a,l):Mn(n,a,l)}return n}function bi(e,t){return function(n,r){var i=No(n)?ot:Vn,s=t?t():{};return i(n,e,Gi(r,2),s)}}function wi(e){return zr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&\"function\"==typeof s?(i--,s):void 0,o&&as(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=me(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t}))}function _i(e,t){return function(n,r){if(null==n)return n;if(!Do(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=me(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function ki(e){return function(t,n,r){for(var i=-1,s=me(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function Ei(e){return function(t){var n=Ft(t=aa(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(\"\"):t.slice(1);return r[e]()+i}}function Ci(e){return function(t){return mt(Ba(Qa(t).replace(Qe,\"\")),e,\"\")}}function xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Sn(e.prototype),r=e.apply(n,t);return Mo(r)?r:n}}function ji(e){return function(t,n,r){var i=me(t);if(!Do(t)){var s=Gi(n,3);t=wa(t),n=function(e){return s(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}function Pi(e){return Wi((function(t){var n=t.length,r=n,i=On.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if(\"function\"!=typeof o)throw new ve(s);if(i&&!a&&\"wrapper\"==Zi(o))var a=new On([],!0)}for(r=a?r:n;++r<n;){var l=Zi(o=t[r]),u=\"wrapper\"==l?Hi(o):void 0;a=u&&us(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Zi(u[0])].apply(a,u[3]):1==o.length&&us(o)?a[l]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&No(r))return a.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}function Ti(e,t,n,i,s,o,a,l,u,c){var h=128&t,d=1&t,f=2&t,p=24&t,m=512&t,g=f?void 0:xi(e);return function y(){for(var v=arguments.length,b=r(v),w=v;w--;)b[w]=arguments[w];if(p)var _=Yi(y),k=Dt(b,_);if(i&&(b=mi(b,i,s,p)),o&&(b=gi(b,o,a,p)),v-=k,p&&v<c){var E=$t(b,_);return Di(e,t,Ti,y.placeholder,n,b,E,l,u,c-v)}var C=d?n:this,x=f?C[e]:e;return v=b.length,l?b=gs(b,l):m&&v>1&&b.reverse(),h&&u<v&&(b.length=u),this&&this!==He&&this instanceof y&&(x=g||xi(x)),x.apply(C,b)}}function Si(e,t){return function(n,r){return function(e,t,n,r){return lr(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;\"string\"==typeof n||\"string\"==typeof r?(n=Kr(n),r=Kr(r)):(n=Gr(n),r=Gr(r)),i=e(n,r)}return i}}function Oi(e){return Wi((function(t){return t=ft(t,At(Gi())),zr((function(n){var r=this;return e(t,(function(e){return st(e,r,n)}))}))}))}function Qi(e,t){var n=(t=void 0===t?\" \":Kr(t)).length;if(n<2)return n?Lr(t,e):t;var r=Lr(t,Xt(e/Vt(t)));return Ft(t)?ui(qt(r),0,e).join(\"\"):r.slice(0,e)}function Ni(e){return function(t,n,i){return i&&\"number\"!=typeof i&&as(t,n,i)&&(n=i=void 0),t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n,i){for(var s=-1,o=on(Xt((t-e)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:na(i),e)}}function Ri(e){return function(t,n){return\"string\"==typeof t&&\"string\"==typeof n||(t=sa(t),n=sa(n)),e(t,n)}}function Di(e,t,n,r,i,s,o,a,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var h=[e,t,i,c?s:void 0,c?o:void 0,c?void 0:s,c?void 0:o,a,l,u],d=n.apply(void 0,h);return us(e)&&vs(d,h),d.placeholder=r,_s(d,e,t)}function Ii(e){var t=pe[e];return function(e,n){if(e=sa(e),(n=null==n?0:an(ra(n),292))&&nn(e)){var r=(aa(e)+\"e\").split(\"e\");return+((r=(aa(t(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return t(e)}}var Li=mn&&1/Mt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ka;function zi(e){return function(t){var n=ns(t);return n==m?Bt(t):n==b?Wt(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Fi(e,t,n,i,a,l,u,c){var h=2&t;if(!h&&\"function\"!=typeof e)throw new ve(s);var d=i?i.length:0;if(d||(t&=-97,i=a=void 0),u=void 0===u?u:on(ra(u),0),c=void 0===c?c:ra(c),d-=a?a.length:0,64&t){var f=i,p=a;i=a=void 0}var m=h?void 0:Hi(e),g=[e,t,n,i,a,f,p,l,u,c];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?mi(u,l,t[4]):l,e[4]=u?$t(e[3],o):t[4]}(l=t[5])&&(u=e[5],e[5]=u?gi(u,l,t[6]):l,e[6]=u?$t(e[5],o):t[6]);(l=t[7])&&(e[7]=l);128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,m),e=g[0],t=g[1],n=g[2],i=g[3],a=g[4],!(c=g[9]=void 0===g[9]?h?0:e.length:on(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=xi(e);return function s(){for(var o=arguments.length,a=r(o),l=o,u=Yi(s);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:$t(a,u);if((o-=c.length)<n)return Di(e,t,Ti,s.placeholder,void 0,a,c,void 0,void 0,n-o);var h=this&&this!==He&&this instanceof s?i:e;return st(h,this,a)}}(e,t,c):32!=t&&33!=t||a.length?Ti.apply(void 0,g):function(e,t,n,i){var s=1&t,o=xi(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==He&&this instanceof t?o:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return st(d,s?n:this,h)}}(e,t,n,i);else var y=function(e,t,n){var r=1&t,i=xi(e);return function t(){var s=this&&this!==He&&this instanceof t?i:e;return s.apply(r?n:this,arguments)}}(e,t,n);return _s((m?$r:vs)(y,g),e,t)}function Bi(e,t,n,r){return void 0===e||So(e,_e[n])&&!Ce.call(r,n)?t:e}function Ui(e,t,n,r,i,s){return Mo(e)&&Mo(t)&&(s.set(t,e),Ar(e,t,void 0,Ui,s),s.delete(t)),e}function $i(e){return Ho(e)?void 0:e}function Mi(e,t,n,r,i,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var h=-1,d=!0,f=2&n?new In:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=o?r(m,p,h,t,e,s):r(p,m,h,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!yt(t,(function(e,t){if(!Qt(f,t)&&(p===e||i(p,e,n,r,s)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Wi(e){return ws(ps(e,void 0,Ns),e+\"\")}function Vi(e){return dr(e,wa,es)}function qi(e){return dr(e,_a,ts)}var Hi=vn?function(e){return vn.get(e)}:Ka;function Zi(e){for(var t=e.name+\"\",n=bn[t],r=Ce.call(bn,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function Yi(e){return(Ce.call(Tn,\"placeholder\")?Tn:e).placeholder}function Gi(){var e=Tn.iteratee||Ha;return e=e===Ha?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function Ki(e,t){var n,r,i=e.__data__;return(\"string\"==(r=typeof(n=t))||\"number\"==r||\"symbol\"==r||\"boolean\"==r?\"__proto__\"!==n:null===n)?i[\"string\"==typeof t?\"string\":\"hash\"]:i.map}function Xi(e){for(var t=wa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ds(i)]}return t}function Ji(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return kr(n)?n:void 0}var es=en?function(e){return null==e?[]:(e=me(e),ct(en(e),(function(t){return Ze.call(e,t)})))}:il,ts=en?function(e){for(var t=[];e;)pt(t,es(e)),e=Ve(e);return t}:il,ns=fr;function rs(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,s=!1;++r<i;){var o=xs(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&$o(i)&&os(o,i)&&(No(e)||Qo(e))}function is(e){return\"function\"!=typeof e.constructor||hs(e)?{}:Sn(Ve(e))}function ss(e){return No(e)||Qo(e)||!!(Ke&&e&&e[Ke])}function os(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&(\"number\"==n||\"symbol\"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function as(e,t,n){if(!Mo(n))return!1;var r=typeof t;return!!(\"number\"==r?Do(n)&&os(t,n.length):\"string\"==r&&t in n)&&So(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!Ko(e))||(W.test(e)||!M.test(e)||null!=t&&e in me(t))}function us(e){var t=Zi(e),n=Tn[t];if(\"function\"!=typeof n||!(t in Qn.prototype))return!1;if(e===n)return!0;var r=Hi(n);return!!r&&e===r[0]}(dn&&ns(new dn(new ArrayBuffer(1)))!=C||fn&&ns(new fn)!=m||pn&&\"[object Promise]\"!=ns(pn.resolve())||mn&&ns(new mn)!=b||gn&&ns(new gn)!=k)&&(ns=function(e){var t=fr(e),n=t==y?e.constructor:void 0,r=n?js(n):\"\";if(r)switch(r){case wn:return C;case _n:return m;case kn:return\"[object Promise]\";case En:return b;case Cn:return k}return t});var cs=ke?Bo:sl;function hs(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||_e)}function ds(e){return e==e&&!Mo(e)}function fs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function ps(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,o=on(i.length-t,0),a=r(o);++s<o;)a[s]=i[t+s];s=-1;for(var l=r(t+1);++s<t;)l[s]=i[s];return l[t]=n(a),st(e,this,l)}}function ms(e,t){return t.length<2?e:hr(e,Vr(t,0,-1))}function gs(e,t){for(var n=e.length,r=an(t.length,n),i=yi(e);r--;){var s=t[r];e[r]=os(s,n)?i[s]:void 0}return e}function ys(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var vs=ks($r),bs=Kt||function(e,t){return He.setTimeout(e,t)},ws=ks(Mr);function _s(e,t,n){var r=t+\"\";return ws(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?\"& \":\"\")+t[r],t=t.join(n>2?\", \":\" \"),e.replace(K,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(r,function(e,t){return at(a,(function(n){var r=\"_.\"+n[0];t&n[1]&&!ht(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(r),n)))}function ks(e){var t=0,n=0;return function(){var r=ln(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Es(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var s=Ir(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Cs=function(e){var t=Eo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(V,(function(e,n,r,i){t.push(r?i.replace(te,\"$1\"):n||e)})),t}));function xs(e){if(\"string\"==typeof e||Ko(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function js(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function Ps(e){if(e instanceof Qn)return e.clone();var t=new On(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ts=zr((function(e,t){return Io(e)?Jn(e,sr(t,1,Io,!0)):[]})),Ss=zr((function(e,t){var n=zs(t);return Io(n)&&(n=void 0),Io(e)?Jn(e,sr(t,1,Io,!0),Gi(n,2)):[]})),As=zr((function(e,t){var n=zs(t);return Io(n)&&(n=void 0),Io(e)?Jn(e,sr(t,1,Io,!0),void 0,n):[]}));function Os(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),wt(e,Gi(t,3),i)}function Qs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?on(r+i,0):an(i,r-1)),wt(e,Gi(t,3),i,!0)}function Ns(e){return(null==e?0:e.length)?sr(e,1):[]}function Rs(e){return e&&e.length?e[0]:void 0}var Ds=zr((function(e){var t=ft(e,si);return t.length&&t[0]===e[0]?yr(t):[]})),Is=zr((function(e){var t=zs(e),n=ft(e,si);return t===zs(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Gi(t,2)):[]})),Ls=zr((function(e){var t=zs(e),n=ft(e,si);return(t=\"function\"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function zs(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Fs=zr(Bs);function Bs(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Us=Wi((function(e,t){var n=null==e?0:e.length,r=Zn(e,t);return Dr(e,ft(t,(function(e){return os(e,n)?+e:e})).sort(pi)),r}));function $s(e){return null==e?e:hn.call(e)}var Ms=zr((function(e){return Xr(sr(e,1,Io,!0))})),Ws=zr((function(e){var t=zs(e);return Io(t)&&(t=void 0),Xr(sr(e,1,Io,!0),Gi(t,2))})),Vs=zr((function(e){var t=zs(e);return t=\"function\"==typeof t?t:void 0,Xr(sr(e,1,Io,!0),void 0,t)}));function qs(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Io(e))return t=on(e.length,t),!0})),St(t,(function(t){return ft(e,xt(t))}))}function Hs(e,t){if(!e||!e.length)return[];var n=qs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Zs=zr((function(e,t){return Io(e)?Jn(e,t):[]})),Ys=zr((function(e){return ri(ct(e,Io))})),Gs=zr((function(e){var t=zs(e);return Io(t)&&(t=void 0),ri(ct(e,Io),Gi(t,2))})),Ks=zr((function(e){var t=zs(e);return t=\"function\"==typeof t?t:void 0,ri(ct(e,Io),void 0,t)})),Xs=zr(qs);var Js=zr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=\"function\"==typeof n?(e.pop(),n):void 0,Hs(e,n)}));function eo(e){var t=Tn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Wi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Zn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Qn&&os(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ro=bi((function(e,t,n){Ce.call(e,n)?++e[n]:Hn(e,n,1)}));var io=ji(Os),so=ji(Qs);function oo(e,t){return(No(e)?at:er)(e,Gi(t,3))}function ao(e,t){return(No(e)?lt:tr)(e,Gi(t,3))}var lo=bi((function(e,t,n){Ce.call(e,n)?e[n].push(t):Hn(e,n,[t])}));var uo=zr((function(e,t,n){var i=-1,s=\"function\"==typeof t,o=Do(e)?r(e.length):[];return er(e,(function(e){o[++i]=s?st(t,e,n):vr(e,t,n)})),o})),co=bi((function(e,t,n){Hn(e,n,t)}));function ho(e,t){return(No(e)?ft:Pr)(e,Gi(t,3))}var fo=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var po=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&as(e,t[0],t[1])?t=[]:n>2&&as(t[0],t[1],t[2])&&(t=[t[0]]),Qr(e,sr(t,1),[])})),mo=Gt||function(){return He.Date.now()};function go(e,t,n){return t=n?void 0:t,Fi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if(\"function\"!=typeof t)throw new ve(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var vo=zr((function(e,t,n){var r=1;if(n.length){var i=$t(n,Yi(vo));r|=32}return Fi(e,r,t,n,i)})),bo=zr((function(e,t,n){var r=3;if(n.length){var i=$t(n,Yi(bo));r|=32}return Fi(t,r,e,n,i)}));function wo(e,t,n){var r,i,o,a,l,u,c=0,h=!1,d=!1,f=!0;if(\"function\"!=typeof e)throw new ve(s);function p(t){var n=r,s=i;return r=i=void 0,c=t,a=e.apply(s,n)}function m(e){return c=e,l=bs(y,t),h?p(e):a}function g(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=o}function y(){var e=mo();if(g(e))return v(e);l=bs(y,function(e){var n=t-(e-u);return d?an(n,o-(e-c)):n}(e))}function v(e){return l=void 0,f&&r?p(e):(r=i=void 0,a)}function b(){var e=mo(),n=g(e);if(r=arguments,i=this,u=e,n){if(void 0===l)return m(u);if(d)return ci(l),l=bs(y,t),p(u)}return void 0===l&&(l=bs(y,t)),a}return t=sa(t)||0,Mo(n)&&(h=!!n.leading,o=(d=\"maxWait\"in n)?on(sa(n.maxWait)||0,t):o,f=\"trailing\"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&ci(l),c=0,r=u=i=l=void 0},b.flush=function(){return void 0===l?a:v(mo())},b}var _o=zr((function(e,t){return Xn(e,1,t)})),ko=zr((function(e,t,n){return Xn(e,sa(t)||0,n)}));function Eo(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new ve(s);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Eo.Cache||Dn),n}function Co(e){if(\"function\"!=typeof e)throw new ve(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Eo.Cache=Dn;var xo=li((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],At(Gi())):ft(sr(t,1),At(Gi()))).length;return zr((function(r){for(var i=-1,s=an(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return st(e,this,r)}))})),jo=zr((function(e,t){return Fi(e,32,void 0,t,$t(t,Yi(jo)))})),Po=zr((function(e,t){return Fi(e,64,void 0,t,$t(t,Yi(Po)))})),To=Wi((function(e,t){return Fi(e,256,void 0,void 0,void 0,t)}));function So(e,t){return e===t||e!=e&&t!=t}var Ao=Ri(pr),Oo=Ri((function(e,t){return e>=t})),Qo=br(function(){return arguments}())?br:function(e){return Wo(e)&&Ce.call(e,\"callee\")&&!Ze.call(e,\"callee\")},No=r.isArray,Ro=Je?At(Je):function(e){return Wo(e)&&fr(e)==E};function Do(e){return null!=e&&$o(e.length)&&!Bo(e)}function Io(e){return Wo(e)&&Do(e)}var Lo=tn||sl,zo=et?At(et):function(e){return Wo(e)&&fr(e)==h};function Fo(e){if(!Wo(e))return!1;var t=fr(e);return t==d||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!Ho(e)}function Bo(e){if(!Mo(e))return!1;var t=fr(e);return t==f||t==p||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Uo(e){return\"number\"==typeof e&&e==ra(e)}function $o(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Mo(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function Wo(e){return null!=e&&\"object\"==typeof e}var Vo=tt?At(tt):function(e){return Wo(e)&&ns(e)==m};function qo(e){return\"number\"==typeof e||Wo(e)&&fr(e)==g}function Ho(e){if(!Wo(e)||fr(e)!=y)return!1;var t=Ve(e);if(null===t)return!0;var n=Ce.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&Ee.call(n)==Te}var Zo=nt?At(nt):function(e){return Wo(e)&&fr(e)==v};var Yo=rt?At(rt):function(e){return Wo(e)&&ns(e)==b};function Go(e){return\"string\"==typeof e||!No(e)&&Wo(e)&&fr(e)==w}function Ko(e){return\"symbol\"==typeof e||Wo(e)&&fr(e)==_}var Xo=it?At(it):function(e){return Wo(e)&&$o(e.length)&&!!Be[fr(e)]};var Jo=Ri(jr),ea=Ri((function(e,t){return e<=t}));function ta(e){if(!e)return[];if(Do(e))return Go(e)?qt(e):yi(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=ns(e);return(t==m?Bt:t==b?Mt:Sa)(e)}function na(e){return e?(e=sa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=na(e),n=t%1;return t==t?n?t-n:t:0}function ia(e){return e?Yn(ra(e),0,4294967295):0}function sa(e){if(\"number\"==typeof e)return e;if(Ko(e))return NaN;if(Mo(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=Mo(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(Z,\"\");var n=se.test(e);return n||ae.test(e)?We(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function oa(e){return vi(e,_a(e))}function aa(e){return null==e?\"\":Kr(e)}var la=wi((function(e,t){if(hs(t)||Do(t))vi(t,wa(t),e);else for(var n in t)Ce.call(t,n)&&Mn(e,n,t[n])})),ua=wi((function(e,t){vi(t,_a(t),e)})),ca=wi((function(e,t,n,r){vi(t,_a(t),e,r)})),ha=wi((function(e,t,n,r){vi(t,wa(t),e,r)})),da=Wi(Zn);var fa=zr((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&as(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=_a(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(void 0===c||So(c,_e[u])&&!Ce.call(e,u))&&(e[u]=s[u])}return e})),pa=zr((function(e){return e.push(void 0,Ui),st(Ea,void 0,e)}));function ma(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function ga(e,t){return null!=e&&rs(e,t,gr)}var ya=Si((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=Pe.call(t)),e[t]=n}),Ma(qa)),va=Si((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=Pe.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]}),Gi),ba=zr(vr);function wa(e){return Do(e)?zn(e):Cr(e)}function _a(e){return Do(e)?zn(e,!0):xr(e)}var ka=wi((function(e,t,n){Ar(e,t,n)})),Ea=wi((function(e,t,n,r){Ar(e,t,n,r)})),Ca=Wi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ft(t,(function(t){return t=ai(t,e),r||(r=t.length>1),t})),vi(e,qi(e),n),r&&(n=Gn(n,7,$i));for(var i=t.length;i--;)Jr(n,t[i]);return n}));var xa=Wi((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return ga(e,n)}))}(e,t)}));function ja(e,t){if(null==e)return{};var n=ft(qi(e),(function(e){return[e]}));return t=Gi(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Pa=zi(wa),Ta=zi(_a);function Sa(e){return null==e?[]:Ot(e,wa(e))}var Aa=Ci((function(e,t,n){return t=t.toLowerCase(),e+(n?Oa(t):t)}));function Oa(e){return Fa(aa(e).toLowerCase())}function Qa(e){return(e=aa(e))&&e.replace(ue,It).replace(Ne,\"\")}var Na=Ci((function(e,t,n){return e+(n?\"-\":\"\")+t.toLowerCase()})),Ra=Ci((function(e,t,n){return e+(n?\" \":\"\")+t.toLowerCase()})),Da=Ei(\"toLowerCase\");var Ia=Ci((function(e,t,n){return e+(n?\"_\":\"\")+t.toLowerCase()}));var La=Ci((function(e,t,n){return e+(n?\" \":\"\")+Fa(t)}));var za=Ci((function(e,t,n){return e+(n?\" \":\"\")+t.toUpperCase()})),Fa=Ei(\"toUpperCase\");function Ba(e,t,n){return e=aa(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Ua=zr((function(e,t){try{return st(e,void 0,t)}catch(e){return Fo(e)?e:new de(e)}})),$a=Wi((function(e,t){return at(t,(function(t){t=xs(t),Hn(e,t,vo(e[t],e))})),e}));function Ma(e){return function(){return e}}var Wa=Pi(),Va=Pi(!0);function qa(e){return e}function Ha(e){return Er(\"function\"==typeof e?e:Gn(e,1))}var Za=zr((function(e,t){return function(n){return vr(n,e,t)}})),Ya=zr((function(e,t){return function(n){return vr(e,n,t)}}));function Ga(e,t,n){var r=wa(t),i=cr(t,r);null!=n||Mo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,wa(t)));var s=!(Mo(n)&&\"chain\"in n&&!n.chain),o=Bo(e);return at(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Ka(){}var Xa=Oi(ft),Ja=Oi(ut),el=Oi(yt);function tl(e){return ls(e)?xt(xs(e)):function(e){return function(t){return hr(t,e)}}(e)}var nl=Ni(),rl=Ni(!0);function il(){return[]}function sl(){return!1}var ol=Ai((function(e,t){return e+t}),0),al=Ii(\"ceil\"),ll=Ai((function(e,t){return e/t}),1),ul=Ii(\"floor\");var cl,hl=Ai((function(e,t){return e*t}),1),dl=Ii(\"round\"),fl=Ai((function(e,t){return e-t}),0);return Tn.after=function(e,t){if(\"function\"!=typeof t)throw new ve(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},Tn.ary=go,Tn.assign=la,Tn.assignIn=ua,Tn.assignInWith=ca,Tn.assignWith=ha,Tn.at=da,Tn.before=yo,Tn.bind=vo,Tn.bindAll=$a,Tn.bindKey=bo,Tn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},Tn.chain=eo,Tn.chunk=function(e,t,n){t=(n?as(e,t,n):void 0===t)?1:on(ra(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=r(Xt(i/t));s<i;)a[o++]=Vr(e,s,s+=t);return a},Tn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},Tn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(No(n)?yi(n):[n],sr(t,1))},Tn.cond=function(e){var t=null==e?0:e.length,n=Gi();return e=t?ft(e,(function(e){if(\"function\"!=typeof e[1])throw new ve(s);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(st(i[0],this,n))return st(i[1],this,n)}}))},Tn.conforms=function(e){return function(e){var t=wa(e);return function(n){return Kn(n,e,t)}}(Gn(e,1))},Tn.constant=Ma,Tn.countBy=ro,Tn.create=function(e,t){var n=Sn(e);return null==t?n:qn(n,t)},Tn.curry=function e(t,n,r){var i=Fi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.curryRight=function e(t,n,r){var i=Fi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.debounce=wo,Tn.defaults=fa,Tn.defaultsDeep=pa,Tn.defer=_o,Tn.delay=ko,Tn.difference=Ts,Tn.differenceBy=Ss,Tn.differenceWith=As,Tn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=n||void 0===t?1:ra(t))<0?0:t,r):[]},Tn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,0,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},Tn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Gi(t,3),!0,!0):[]},Tn.dropWhile=function(e,t){return e&&e.length?ti(e,Gi(t,3),!0):[]},Tn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&\"number\"!=typeof n&&as(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Tn.filter=function(e,t){return(No(e)?ct:ir)(e,Gi(t,3))},Tn.flatMap=function(e,t){return sr(ho(e,t),1)},Tn.flatMapDeep=function(e,t){return sr(ho(e,t),1/0)},Tn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),sr(ho(e,t),n)},Tn.flatten=Ns,Tn.flattenDeep=function(e){return(null==e?0:e.length)?sr(e,1/0):[]},Tn.flattenDepth=function(e,t){return(null==e?0:e.length)?sr(e,t=void 0===t?1:ra(t)):[]},Tn.flip=function(e){return Fi(e,512)},Tn.flow=Wa,Tn.flowRight=Va,Tn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Tn.functions=function(e){return null==e?[]:cr(e,wa(e))},Tn.functionsIn=function(e){return null==e?[]:cr(e,_a(e))},Tn.groupBy=lo,Tn.initial=function(e){return(null==e?0:e.length)?Vr(e,0,-1):[]},Tn.intersection=Ds,Tn.intersectionBy=Is,Tn.intersectionWith=Ls,Tn.invert=ya,Tn.invertBy=va,Tn.invokeMap=uo,Tn.iteratee=Ha,Tn.keyBy=co,Tn.keys=wa,Tn.keysIn=_a,Tn.map=ho,Tn.mapKeys=function(e,t){var n={};return t=Gi(t,3),lr(e,(function(e,r,i){Hn(n,t(e,r,i),e)})),n},Tn.mapValues=function(e,t){var n={};return t=Gi(t,3),lr(e,(function(e,r,i){Hn(n,r,t(e,r,i))})),n},Tn.matches=function(e){return Tr(Gn(e,1))},Tn.matchesProperty=function(e,t){return Sr(e,Gn(t,1))},Tn.memoize=Eo,Tn.merge=ka,Tn.mergeWith=Ea,Tn.method=Za,Tn.methodOf=Ya,Tn.mixin=Ga,Tn.negate=Co,Tn.nthArg=function(e){return e=ra(e),zr((function(t){return Or(t,e)}))},Tn.omit=Ca,Tn.omitBy=function(e,t){return ja(e,Co(Gi(t)))},Tn.once=function(e){return yo(2,e)},Tn.orderBy=function(e,t,n,r){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=r?void 0:n)||(n=null==n?[]:[n]),Qr(e,t,n))},Tn.over=Xa,Tn.overArgs=xo,Tn.overEvery=Ja,Tn.overSome=el,Tn.partial=jo,Tn.partialRight=Po,Tn.partition=fo,Tn.pick=xa,Tn.pickBy=ja,Tn.property=tl,Tn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Tn.pull=Fs,Tn.pullAll=Bs,Tn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Gi(n,2)):e},Tn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},Tn.pullAt=Us,Tn.range=nl,Tn.rangeRight=rl,Tn.rearg=To,Tn.reject=function(e,t){return(No(e)?ct:ir)(e,Co(Gi(t,3)))},Tn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=Gi(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Dr(e,i),n},Tn.rest=function(e,t){if(\"function\"!=typeof e)throw new ve(s);return zr(e,t=void 0===t?t:ra(t))},Tn.reverse=$s,Tn.sampleSize=function(e,t,n){return t=(n?as(e,t,n):void 0===t)?1:ra(t),(No(e)?Bn:Br)(e,t)},Tn.set=function(e,t,n){return null==e?e:Ur(e,t,n)},Tn.setWith=function(e,t,n,r){return r=\"function\"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},Tn.shuffle=function(e){return(No(e)?Un:Wr)(e)},Tn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&\"number\"!=typeof n&&as(e,t,n)?(t=0,n=r):(t=null==t?0:ra(t),n=void 0===n?r:ra(n)),Vr(e,t,n)):[]},Tn.sortBy=po,Tn.sortedUniq=function(e){return e&&e.length?Yr(e):[]},Tn.sortedUniqBy=function(e,t){return e&&e.length?Yr(e,Gi(t,2)):[]},Tn.split=function(e,t,n){return n&&\"number\"!=typeof n&&as(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=aa(e))&&(\"string\"==typeof t||null!=t&&!Zo(t))&&!(t=Kr(t))&&Ft(e)?ui(qt(e),0,n):e.split(t,n):[]},Tn.spread=function(e,t){if(\"function\"!=typeof e)throw new ve(s);return t=null==t?0:on(ra(t),0),zr((function(n){var r=n[t],i=ui(n,0,t);return r&&pt(i,r),st(e,this,i)}))},Tn.tail=function(e){var t=null==e?0:e.length;return t?Vr(e,1,t):[]},Tn.take=function(e,t,n){return e&&e.length?Vr(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},Tn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t,r):[]},Tn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Gi(t,3),!1,!0):[]},Tn.takeWhile=function(e,t){return e&&e.length?ti(e,Gi(t,3)):[]},Tn.tap=function(e,t){return t(e),e},Tn.throttle=function(e,t,n){var r=!0,i=!0;if(\"function\"!=typeof e)throw new ve(s);return Mo(n)&&(r=\"leading\"in n?!!n.leading:r,i=\"trailing\"in n?!!n.trailing:i),wo(e,t,{leading:r,maxWait:t,trailing:i})},Tn.thru=to,Tn.toArray=ta,Tn.toPairs=Pa,Tn.toPairsIn=Ta,Tn.toPath=function(e){return No(e)?ft(e,xs):Ko(e)?[e]:yi(Cs(aa(e)))},Tn.toPlainObject=oa,Tn.transform=function(e,t,n){var r=No(e),i=r||Lo(e)||Xo(e);if(t=Gi(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:Mo(e)&&Bo(s)?Sn(Ve(e)):{}}return(i?at:lr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Tn.unary=function(e){return go(e,1)},Tn.union=Ms,Tn.unionBy=Ws,Tn.unionWith=Vs,Tn.uniq=function(e){return e&&e.length?Xr(e):[]},Tn.uniqBy=function(e,t){return e&&e.length?Xr(e,Gi(t,2)):[]},Tn.uniqWith=function(e,t){return t=\"function\"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Tn.unset=function(e,t){return null==e||Jr(e,t)},Tn.unzip=qs,Tn.unzipWith=Hs,Tn.update=function(e,t,n){return null==e?e:ei(e,t,oi(n))},Tn.updateWith=function(e,t,n,r){return r=\"function\"==typeof r?r:void 0,null==e?e:ei(e,t,oi(n),r)},Tn.values=Sa,Tn.valuesIn=function(e){return null==e?[]:Ot(e,_a(e))},Tn.without=Zs,Tn.words=Ba,Tn.wrap=function(e,t){return jo(oi(t),e)},Tn.xor=Ys,Tn.xorBy=Gs,Tn.xorWith=Ks,Tn.zip=Xs,Tn.zipObject=function(e,t){return ii(e||[],t||[],Mn)},Tn.zipObjectDeep=function(e,t){return ii(e||[],t||[],Ur)},Tn.zipWith=Js,Tn.entries=Pa,Tn.entriesIn=Ta,Tn.extend=ua,Tn.extendWith=ca,Ga(Tn,Tn),Tn.add=ol,Tn.attempt=Ua,Tn.camelCase=Aa,Tn.capitalize=Oa,Tn.ceil=al,Tn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==t&&(t=(t=sa(t))==t?t:0),Yn(sa(e),t,n)},Tn.clone=function(e){return Gn(e,4)},Tn.cloneDeep=function(e){return Gn(e,5)},Tn.cloneDeepWith=function(e,t){return Gn(e,5,t=\"function\"==typeof t?t:void 0)},Tn.cloneWith=function(e,t){return Gn(e,4,t=\"function\"==typeof t?t:void 0)},Tn.conformsTo=function(e,t){return null==t||Kn(e,t,wa(t))},Tn.deburr=Qa,Tn.defaultTo=function(e,t){return null==e||e!=e?t:e},Tn.divide=ll,Tn.endsWith=function(e,t,n){e=aa(e),t=Kr(t);var r=e.length,i=n=void 0===n?r:Yn(ra(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Tn.eq=So,Tn.escape=function(e){return(e=aa(e))&&F.test(e)?e.replace(L,Lt):e},Tn.escapeRegExp=function(e){return(e=aa(e))&&H.test(e)?e.replace(q,\"\\\\$&\"):e},Tn.every=function(e,t,n){var r=No(e)?ut:nr;return n&&as(e,t,n)&&(t=void 0),r(e,Gi(t,3))},Tn.find=io,Tn.findIndex=Os,Tn.findKey=function(e,t){return bt(e,Gi(t,3),lr)},Tn.findLast=so,Tn.findLastIndex=Qs,Tn.findLastKey=function(e,t){return bt(e,Gi(t,3),ur)},Tn.floor=ul,Tn.forEach=oo,Tn.forEachRight=ao,Tn.forIn=function(e,t){return null==e?e:or(e,Gi(t,3),_a)},Tn.forInRight=function(e,t){return null==e?e:ar(e,Gi(t,3),_a)},Tn.forOwn=function(e,t){return e&&lr(e,Gi(t,3))},Tn.forOwnRight=function(e,t){return e&&ur(e,Gi(t,3))},Tn.get=ma,Tn.gt=Ao,Tn.gte=Oo,Tn.has=function(e,t){return null!=e&&rs(e,t,mr)},Tn.hasIn=ga,Tn.head=Rs,Tn.identity=qa,Tn.includes=function(e,t,n,r){e=Do(e)?e:Sa(e),n=n&&!r?ra(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Go(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_t(e,t,n)>-1},Tn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=on(r+i,0)),_t(e,t,i)},Tn.inRange=function(e,t,n){return t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n){return e>=an(t,n)&&e<on(t,n)}(e=sa(e),t,n)},Tn.invoke=ba,Tn.isArguments=Qo,Tn.isArray=No,Tn.isArrayBuffer=Ro,Tn.isArrayLike=Do,Tn.isArrayLikeObject=Io,Tn.isBoolean=function(e){return!0===e||!1===e||Wo(e)&&fr(e)==c},Tn.isBuffer=Lo,Tn.isDate=zo,Tn.isElement=function(e){return Wo(e)&&1===e.nodeType&&!Ho(e)},Tn.isEmpty=function(e){if(null==e)return!0;if(Do(e)&&(No(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Lo(e)||Xo(e)||Qo(e)))return!e.length;var t=ns(e);if(t==m||t==b)return!e.size;if(hs(e))return!Cr(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0},Tn.isEqual=function(e,t){return wr(e,t)},Tn.isEqualWith=function(e,t,n){var r=(n=\"function\"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},Tn.isError=Fo,Tn.isFinite=function(e){return\"number\"==typeof e&&nn(e)},Tn.isFunction=Bo,Tn.isInteger=Uo,Tn.isLength=$o,Tn.isMap=Vo,Tn.isMatch=function(e,t){return e===t||_r(e,t,Xi(t))},Tn.isMatchWith=function(e,t,n){return n=\"function\"==typeof n?n:void 0,_r(e,t,Xi(t),n)},Tn.isNaN=function(e){return qo(e)&&e!=+e},Tn.isNative=function(e){if(cs(e))throw new de(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return kr(e)},Tn.isNil=function(e){return null==e},Tn.isNull=function(e){return null===e},Tn.isNumber=qo,Tn.isObject=Mo,Tn.isObjectLike=Wo,Tn.isPlainObject=Ho,Tn.isRegExp=Zo,Tn.isSafeInteger=function(e){return Uo(e)&&e>=-9007199254740991&&e<=9007199254740991},Tn.isSet=Yo,Tn.isString=Go,Tn.isSymbol=Ko,Tn.isTypedArray=Xo,Tn.isUndefined=function(e){return void 0===e},Tn.isWeakMap=function(e){return Wo(e)&&ns(e)==k},Tn.isWeakSet=function(e){return Wo(e)&&\"[object WeakSet]\"==fr(e)},Tn.join=function(e,t){return null==e?\"\":rn.call(e,t)},Tn.kebabCase=Na,Tn.last=zs,Tn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?on(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):wt(e,Et,i,!0)},Tn.lowerCase=Ra,Tn.lowerFirst=Da,Tn.lt=Jo,Tn.lte=ea,Tn.max=function(e){return e&&e.length?rr(e,qa,pr):void 0},Tn.maxBy=function(e,t){return e&&e.length?rr(e,Gi(t,2),pr):void 0},Tn.mean=function(e){return Ct(e,qa)},Tn.meanBy=function(e,t){return Ct(e,Gi(t,2))},Tn.min=function(e){return e&&e.length?rr(e,qa,jr):void 0},Tn.minBy=function(e,t){return e&&e.length?rr(e,Gi(t,2),jr):void 0},Tn.stubArray=il,Tn.stubFalse=sl,Tn.stubObject=function(){return{}},Tn.stubString=function(){return\"\"},Tn.stubTrue=function(){return!0},Tn.multiply=hl,Tn.nth=function(e,t){return e&&e.length?Or(e,ra(t)):void 0},Tn.noConflict=function(){return He._===this&&(He._=Se),this},Tn.noop=Ka,Tn.now=mo,Tn.pad=function(e,t,n){e=aa(e);var r=(t=ra(t))?Vt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Qi(Jt(i),n)+e+Qi(Xt(i),n)},Tn.padEnd=function(e,t,n){e=aa(e);var r=(t=ra(t))?Vt(e):0;return t&&r<t?e+Qi(t-r,n):e},Tn.padStart=function(e,t,n){e=aa(e);var r=(t=ra(t))?Vt(e):0;return t&&r<t?Qi(t-r,n)+e:e},Tn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(aa(e).replace(Y,\"\"),t||0)},Tn.random=function(e,t,n){if(n&&\"boolean\"!=typeof n&&as(e,t,n)&&(t=n=void 0),void 0===n&&(\"boolean\"==typeof t?(n=t,t=void 0):\"boolean\"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=na(e),void 0===t?(t=e,e=0):t=na(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+Me(\"1e-\"+((i+\"\").length-1))),t)}return Ir(e,t)},Tn.reduce=function(e,t,n){var r=No(e)?mt:Pt,i=arguments.length<3;return r(e,Gi(t,4),n,i,er)},Tn.reduceRight=function(e,t,n){var r=No(e)?gt:Pt,i=arguments.length<3;return r(e,Gi(t,4),n,i,tr)},Tn.repeat=function(e,t,n){return t=(n?as(e,t,n):void 0===t)?1:ra(t),Lr(aa(e),t)},Tn.replace=function(){var e=arguments,t=aa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tn.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var s=null==e?void 0:e[xs(t[r])];void 0===s&&(r=i,s=n),e=Bo(s)?s.call(e):s}return e},Tn.round=dl,Tn.runInContext=e,Tn.sample=function(e){return(No(e)?Fn:Fr)(e)},Tn.size=function(e){if(null==e)return 0;if(Do(e))return Go(e)?Vt(e):e.length;var t=ns(e);return t==m||t==b?e.size:Cr(e).length},Tn.snakeCase=Ia,Tn.some=function(e,t,n){var r=No(e)?yt:qr;return n&&as(e,t,n)&&(t=void 0),r(e,Gi(t,3))},Tn.sortedIndex=function(e,t){return Hr(e,t)},Tn.sortedIndexBy=function(e,t,n){return Zr(e,t,Gi(n,2))},Tn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Hr(e,t);if(r<n&&So(e[r],t))return r}return-1},Tn.sortedLastIndex=function(e,t){return Hr(e,t,!0)},Tn.sortedLastIndexBy=function(e,t,n){return Zr(e,t,Gi(n,2),!0)},Tn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Hr(e,t,!0)-1;if(So(e[n],t))return n}return-1},Tn.startCase=La,Tn.startsWith=function(e,t,n){return e=aa(e),n=null==n?0:Yn(ra(n),0,e.length),t=Kr(t),e.slice(n,n+t.length)==t},Tn.subtract=fl,Tn.sum=function(e){return e&&e.length?Tt(e,qa):0},Tn.sumBy=function(e,t){return e&&e.length?Tt(e,Gi(t,2)):0},Tn.template=function(e,t,n){var r=Tn.templateSettings;n&&as(e,t,n)&&(t=void 0),e=aa(e),t=ca({},t,r,Bi);var i,s,o=ca({},t.imports,r.imports,Bi),a=wa(o),l=Ot(o,a),u=0,c=t.interpolate||ce,h=\"__p += '\",d=ge((t.escape||ce).source+\"|\"+c.source+\"|\"+(c===$?ne:ce).source+\"|\"+(t.evaluate||ce).source+\"|$\",\"g\"),f=\"//# sourceURL=\"+(Ce.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++Fe+\"]\")+\"\\n\";e.replace(d,(function(t,n,r,o,a,l){return r||(r=o),h+=e.slice(u,l).replace(he,zt),n&&(i=!0,h+=\"' +\\n__e(\"+n+\") +\\n'\"),a&&(s=!0,h+=\"';\\n\"+a+\";\\n__p += '\"),r&&(h+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),u=l+t.length,t})),h+=\"';\\n\";var p=Ce.call(t,\"variable\")&&t.variable;p||(h=\"with (obj) {\\n\"+h+\"\\n}\\n\"),h=(s?h.replace(N,\"\"):h).replace(R,\"$1\").replace(D,\"$1;\"),h=\"function(\"+(p||\"obj\")+\") {\\n\"+(p?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(s?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+h+\"return __p\\n}\";var m=Ua((function(){return fe(a,f+\"return \"+h).apply(void 0,l)}));if(m.source=h,Fo(m))throw m;return m},Tn.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=St(r,t=Gi(t));++n<e;)t(n);return i},Tn.toFinite=na,Tn.toInteger=ra,Tn.toLength=ia,Tn.toLower=function(e){return aa(e).toLowerCase()},Tn.toNumber=sa,Tn.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},Tn.toString=aa,Tn.toUpper=function(e){return aa(e).toUpperCase()},Tn.trim=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Z,\"\");if(!e||!(t=Kr(t)))return e;var r=qt(e),i=qt(t);return ui(r,Nt(r,i),Rt(r,i)+1).join(\"\")},Tn.trimEnd=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(G,\"\");if(!e||!(t=Kr(t)))return e;var r=qt(e);return ui(r,0,Rt(r,qt(t))+1).join(\"\")},Tn.trimStart=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Y,\"\");if(!e||!(t=Kr(t)))return e;var r=qt(e);return ui(r,Nt(r,qt(t))).join(\"\")},Tn.truncate=function(e,t){var n=30,r=\"...\";if(Mo(t)){var i=\"separator\"in t?t.separator:i;n=\"length\"in t?ra(t.length):n,r=\"omission\"in t?Kr(t.omission):r}var s=(e=aa(e)).length;if(Ft(e)){var o=qt(e);s=o.length}if(n>=s)return e;var a=n-Vt(r);if(a<1)return r;var l=o?ui(o,0,a).join(\"\"):e.slice(0,a);if(void 0===i)return l+r;if(o&&(a+=l.length-a),Zo(i)){if(e.slice(a).search(i)){var u,c=l;for(i.global||(i=ge(i.source,aa(re.exec(i))+\"g\")),i.lastIndex=0;u=i.exec(c);)var h=u.index;l=l.slice(0,void 0===h?a:h)}}else if(e.indexOf(Kr(i),a)!=a){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},Tn.unescape=function(e){return(e=aa(e))&&z.test(e)?e.replace(I,Ht):e},Tn.uniqueId=function(e){var t=++xe;return aa(e)+t},Tn.upperCase=za,Tn.upperFirst=Fa,Tn.each=oo,Tn.eachRight=ao,Tn.first=Rs,Ga(Tn,(cl={},lr(Tn,(function(e,t){Ce.call(Tn.prototype,t)||(cl[t]=e)})),cl),{chain:!1}),Tn.VERSION=\"4.17.19\",at([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){Tn[e].placeholder=Tn})),at([\"drop\",\"take\"],(function(e,t){Qn.prototype[e]=function(n){n=void 0===n?1:on(ra(n),0);var r=this.__filtered__&&!t?new Qn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?\"Right\":\"\")}),r},Qn.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),at([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var n=t+1,r=1==n||3==n;Qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Gi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),at([\"head\",\"last\"],(function(e,t){var n=\"take\"+(t?\"Right\":\"\");Qn.prototype[e]=function(){return this[n](1).value()[0]}})),at([\"initial\",\"tail\"],(function(e,t){var n=\"drop\"+(t?\"\":\"Right\");Qn.prototype[e]=function(){return this.__filtered__?new Qn(this):this[n](1)}})),Qn.prototype.compact=function(){return this.filter(qa)},Qn.prototype.find=function(e){return this.filter(e).head()},Qn.prototype.findLast=function(e){return this.reverse().find(e)},Qn.prototype.invokeMap=zr((function(e,t){return\"function\"==typeof e?new Qn(this):this.map((function(n){return vr(n,e,t)}))})),Qn.prototype.reject=function(e){return this.filter(Co(Gi(e)))},Qn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Qn.prototype.toArray=function(){return this.take(4294967295)},lr(Qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Tn[r?\"take\"+(\"last\"==t?\"Right\":\"\"):t],s=r||/^find/.test(t);i&&(Tn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,a=t instanceof Qn,l=o[0],u=a||No(t),c=function(e){var t=i.apply(Tn,pt([e],o));return r&&h?t[0]:t};u&&n&&\"function\"==typeof l&&1!=l.length&&(a=u=!1);var h=this.__chain__,d=!!this.__actions__.length,f=s&&!h,p=a&&!d;if(!s&&u){t=p?t:new Qn(this);var m=e.apply(t,o);return m.__actions__.push({func:to,args:[c],thisArg:void 0}),new On(m,h)}return f&&p?e.apply(this,o):(m=this.thru(c),f?r?m.value()[0]:m.value():m)})})),at([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(e);Tn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(No(i)?i:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),lr(Qn.prototype,(function(e,t){var n=Tn[t];if(n){var r=n.name+\"\";Ce.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[Ti(void 0,2).name]=[{name:\"wrapper\",func:void 0}],Qn.prototype.clone=function(){var e=new Qn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Qn.prototype.reverse=function(){if(this.__filtered__){var e=new Qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),r=t<0,i=n?e.length:0,s=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var s=n[r],o=s.size;switch(s.type){case\"drop\":e+=o;break;case\"dropRight\":t-=o;break;case\"take\":t=an(t,e+o);break;case\"takeRight\":e=on(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,d=0,f=an(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return ni(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[u+=t];++m<h;){var y=c[m],v=y.iteratee,b=y.type,w=v(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[d++]=g}return p},Tn.prototype.at=no,Tn.prototype.chain=function(){return eo(this)},Tn.prototype.commit=function(){return new On(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(e){for(var t,n=this;n instanceof An;){var r=Ps(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Tn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Qn){var t=e;return this.__actions__.length&&(t=new Qn(this)),(t=t.reverse()).__actions__.push({func:to,args:[$s],thisArg:void 0}),new On(t,this.__chain__)}return this.thru($s)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,Xe&&(Tn.prototype[Xe]=function(){return this}),Tn}();He._=Zt,void 0===(i=function(){return Zt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(3),n(9)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){\"use strict\";var r=n(4),i=n(1),s=n(2),o=n(0),a=n(5),l=n(11);let u=[];o.a.utils.JSZip=l,o.a.utils.JSZip.getBinaryContent=r.getBinaryContent,o.a.utils.saveAs=a.saveAs,s.b.PreloadZip=function(){for(let e in arguments)u.push(arguments[e])},$(document).ready((function(){!function(){if(u.length){var e=function(e){function t(){let t=u.indexOf(e);t>=0&&u.splice(t,1)}var n=new l;Object(r.getBinaryContent)(e,(function(r,s){if(r)throw t(),r;n.loadAsync(s).then((function(){o.a.debug.log(\"Download of \"+e+\" complete\");var r=0;n.forEach((function(e,s){s.async(\"arraybuffer\").then((function(s){if(!e.match(/__MACOS.+\\/\\.[^\\/]+$/)){let t=e.replace(/^.*?([^\\/]+)$/,\"$1\"),n=Object(i.a)(Object(i.c)(s.slice(0,28)),t);if(n){let e=URL.createObjectURL(new Blob([s],{type:n}));var a=!1;for(let n in o.a.resources.list){let r=o.a.resources.list[n];r.name==t&&\"ready\"!=r.status&&(r.create.apply($.extend({},r,{value:e,resolve:function(){\"ready\"!=r.status&&(r.object=this.object,r.resolve())}})),a=!0)}a||o.a.resources.list.push({name:t,value:e,controllers:[],object:null,status:\"void\",create:function(){this.status=\"pending\"},resolve:function(){this.status=\"ready\"}})}}++r>=Object.keys(n.files).length&&t()}))}))}))}))};for(let t in u){let n=u[t],r=n.match(/^https?:\\/\\/.+\\.(zip)$/i);\"string\"==typeof n&&r?\"zip\"==r[1].toLowerCase()&&e(n):o.a.debug.log(\"Preload: entry #\"+t+\" is not a valid URL, ignoring it\")}}}()}))},function(e,t,n){(function(t,n,r){e.exports=function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){if(s)return s(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var s=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,i,s){(function(t){!function(e){\"object\"==typeof s&&void 0!==i?i.exports=e():(\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var u=\"function\"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(e){return s(n[a][1][e]||e)}),h,h.exports,t,n,r,i)}return r[a].exports}for(var o=\"function\"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,i,s){(function(t){!function(e){\"object\"==typeof s&&void 0!==i?i.exports=e():(\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var u=\"function\"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(e){return s(n[a][1][e]||e)}),h,h.exports,t,n,r,i)}return r[a].exports}for(var o=\"function\"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,i,s){(function(t){!function(e){\"object\"==typeof s&&void 0!==i?i.exports=e():(\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var u=\"function\"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(e){return s(n[a][1][e]||e)}),h,h.exports,t,n,r,i)}return r[a].exports}for(var o=\"function\"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,i,s){(function(t){!function(e){\"object\"==typeof s&&void 0!==i?i.exports=e():(\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var u=\"function\"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(e){return s(n[a][1][e]||e)}),h,h.exports,t,n,r,i)}return r[a].exports}for(var o=\"function\"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,i,s){(function(t){!function(e){\"object\"==typeof s&&void 0!==i?i.exports=e():(\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,r,i){function s(a,l){if(!r[a]){if(!n[a]){var u=\"function\"==typeof e&&e;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=r[a]={exports:{}};n[a][0].call(h.exports,(function(e){return s(n[a][1][e]||e)}),h,h.exports,t,n,r,i)}return r[a].exports}for(var o=\"function\"==typeof e&&e,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t,n){\"use strict\";var r=e(\"./utils\"),i=e(\"./support\"),s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";n.encode=function(e){for(var t,n,i,o,a,l,u,c=[],h=0,d=e.length,f=d,p=\"string\"!==r.getTypeOf(e);h<e.length;)f=d-h,i=p?(t=e[h++],n=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),n=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),o=t>>2,a=(3&t)<<4|n>>4,l=1<f?(15&n)<<2|i>>6:64,u=2<f?63&i:64,c.push(s.charAt(o)+s.charAt(a)+s.charAt(l)+s.charAt(u));return c.join(\"\")},n.decode=function(e){var t,n,r,o,a,l,u=0,c=0;if(\"data:\"===e.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var h,d=3*(e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&d--,e.charAt(e.length-2)===s.charAt(64)&&d--,d%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(h=i.uint8array?new Uint8Array(0|d):new Array(0|d);u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(o=s.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(a=s.indexOf(e.charAt(u++)))>>2,r=(3&a)<<6|(l=s.indexOf(e.charAt(u++))),h[c++]=t,64!==a&&(h[c++]=n),64!==l&&(h[c++]=r);return h}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,n){\"use strict\";var r=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),o=e(\"./stream/DataLengthProbe\");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o(\"data_length\")),t=this;return e.on(\"end\",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o(\"uncompressedSize\")).pipe(t.compressWorker(n)).pipe(new o(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=a},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,n){\"use strict\";var r=e(\"./stream/GenericWorker\");n.STORE={magic:\"\\0\\0\",compressWorker:function(e){return new r(\"STORE compression\")},uncompressWorker:function(){return new r(\"STORE decompression\")}},n.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,n){\"use strict\";var r=e(\"./utils\"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==r.getTypeOf(e)?function(e,t,n){var r=i,s=0+n;e^=-1;for(var o=0;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,n){var r=i,s=0+n;e^=-1;for(var o=0;o<s;o++)e=e>>>8^r[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}},{\"./utils\":32}],5:[function(e,t,n){\"use strict\";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){\"use strict\";var r;r=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){\"use strict\";var r=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),o=e(\"./stream/GenericWorker\"),a=r?\"uint8array\":\"array\";function l(e,t){o.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic=\"\\b\\0\",s.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l(\"Deflate\",e)},n.uncompressWorker=function(){return new l(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,n){\"use strict\";function r(e,t){var n,r=\"\";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,c){var h,d,f=e.file,p=e.compression,m=c!==a.utf8encode,g=s.transformTo(\"string\",c(f.name)),y=s.transformTo(\"string\",a.utf8encode(f.name)),v=f.comment,b=s.transformTo(\"string\",c(v)),w=s.transformTo(\"string\",a.utf8encode(v)),_=y.length!==f.name.length,k=w.length!==v.length,E=\"\",C=\"\",x=\"\",j=f.dir,P=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),m||!_&&!k||(S|=2048);var A,O=0,Q=0;j&&(O|=16),\"UNIX\"===o?(Q=798,O|=((A=f.unixPermissions)||(A=j?16893:33204),(65535&A)<<16)):(Q=20,O|=63&(f.dosPermissions||0)),h=P.getUTCHours(),h<<=6,h|=P.getUTCMinutes(),h<<=5,h|=P.getUTCSeconds()/2,d=P.getUTCFullYear()-1980,d<<=4,d|=P.getUTCMonth()+1,d<<=5,d|=P.getUTCDate(),_&&(E+=\"up\"+r((C=r(1,1)+r(l(g),4)+y).length,2)+C),k&&(E+=\"uc\"+r((x=r(1,1)+r(l(b),4)+w).length,2)+x);var N=\"\";return N+=\"\\n\\0\",N+=r(S,2),N+=p.magic,N+=r(h,2),N+=r(d,2),N+=r(T.crc32,4),N+=r(T.compressedSize,4),N+=r(T.uncompressedSize,4),N+=r(g.length,2),N+=r(E.length,2),{fileRecord:u.LOCAL_FILE_HEADER+N+g+E,dirRecord:u.CENTRAL_FILE_HEADER+r(Q,2)+N+r(b.length,2)+\"\\0\\0\\0\\0\"+r(O,4)+r(i,4)+g+E+b}}var s=e(\"../utils\"),o=e(\"../stream/GenericWorker\"),a=e(\"../utf8\"),l=e(\"../crc32\"),u=e(\"../signature\");function c(e,t,n,r){o.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,s=i(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),n)this.push({data:(t=e,u.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n,i,o,a,l,c,h=this.bytesWritten-e,d=(n=this.dirRecords.length,i=h,o=e,a=this.zipComment,l=this.encodeFileName,c=s.transformTo(\"string\",l(a)),u.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+r(n,2)+r(n,2)+r(i,4)+r(o,4)+r(c.length,2)+c);this.push({data:d,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",(function(e){t.processChunk(e)})),e.on(\"end\",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on(\"error\",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,n){\"use strict\";var r=e(\"../compressions\"),i=e(\"./ZipFileWorker\");n.generateWorker=function(e,t,n){var s=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+\" is not a valid compression method !\");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,a).withStreamInfo(\"file\",{name:e,dir:l,date:u,comment:n.comment||\"\",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(e){s.error(e)}return s}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,n){\"use strict\";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var e=new r;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e(\"./object\")).loadAsync=e(\"./load\"),r.support=e(\"./support\"),r.defaults=e(\"./defaults\"),r.version=\"3.5.0\",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e(\"./external\"),t.exports=r},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,n){\"use strict\";var r=e(\"./utils\"),i=e(\"./external\"),s=e(\"./utf8\"),o=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on(\"error\",(function(e){n(e)})).on(\"end\",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error(\"Corrupted zip : CRC32 mismatch\")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):r.prepareContent(\"the loaded zip file\",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var s=0;s<r.length;s++)n.push(u(r[s]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,s=0;s<i.length;s++){var o=i[s];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,n){\"use strict\";var r=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",(function(e){t.push({data:e,meta:{percent:0}})})).on(\"error\",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on(\"end\",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,n){\"use strict\";var r=e(\"readable-stream\").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on(\"data\",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on(\"error\",(function(e){i.emit(\"error\",e)})).on(\"end\",(function(){i.push(null)}))}e(\"../utils\").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:void 0!==n,newBufferFrom:function(e,t){if(n.from&&n.from!==Uint8Array.from)return n.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new n(e,t)},allocBuffer:function(e){if(n.alloc)return n.alloc(e);var t=new n(e);return t.fill(0),t},isBuffer:function(e){return n.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,n){\"use strict\";function r(e,t,n){var r,s=o.getTypeOf(t),l=o.extend(n||{},u);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),\"string\"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=i(e)),l.createFolders&&(r=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"}(e))&&m.call(this,r,!0);var d,g=\"string\"===s&&!1===l.binary&&!1===l.base64;n&&void 0!==n.binary||(l.binary=!g),(t instanceof c&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t=\"\",l.compression=\"STORE\",s=\"string\"),d=t instanceof c||t instanceof a?t:f.isNode&&f.isStream(t)?new p(e,t):o.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var y=new h(e,d,l);this.files[e]=y}function i(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e}var s=e(\"./utf8\"),o=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),l=e(\"./stream/StreamHelper\"),u=e(\"./defaults\"),c=e(\"./compressedObject\"),h=e(\"./zipObject\"),d=e(\"./generate\"),f=e(\"./nodejsUtils\"),p=e(\"./nodejs/NodejsStreamInputAdapter\"),m=function(e,t){return t=void 0!==t?t:u.createFolders,e=i(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||(\"/\"!==e.slice(-1)&&(e+=\"/\"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:s.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),\"binarystring\"===n.type&&(n.type=\"string\"),!n.type)throw new Error(\"No output type specified.\");o.checkSupport(n.type),\"darwin\"!==n.platform&&\"freebsd\"!==n.platform&&\"linux\"!==n.platform&&\"sunos\"!==n.platform||(n.platform=\"UNIX\"),\"win32\"===n.platform&&(n.platform=\"DOS\");var r=n.comment||this.comment||\"\";t=d.generateWorker(this,n,r)}catch(e){(t=new a(\"error\")).error(e)}return new l(t,n.type||\"string\",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,n){t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,n){\"use strict\";var r=e(\"./DataReader\");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&n===s[1]&&r===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,n){\"use strict\";var r=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo(\"string\",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,n){\"use strict\";var r=e(\"./Uint8ArrayReader\");function i(e){r.call(this,e)}e(\"../utils\").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,n){\"use strict\";var r=e(\"./DataReader\");function i(e){r.call(this,e)}e(\"../utils\").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,n){\"use strict\";var r=e(\"./ArrayReader\");function i(e){r.call(this,e)}e(\"../utils\").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,n){\"use strict\";var r=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),o=e(\"./StringReader\"),a=e(\"./NodeBufferReader\"),l=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new a(e):i.uint8array?new l(r.transformTo(\"uint8array\",e)):new s(r.transformTo(\"array\",e)):new o(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,n){\"use strict\";n.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",n.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",n.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",n.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",n.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,n){\"use strict\";var r=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){r.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,r),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,n){\"use strict\";var r=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){r.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,r),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,n){\"use strict\";var r=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,n){\"use strict\";var r=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,n){\"use strict\";function r(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",(function(e){t.processChunk(e)})),e.on(\"end\",(function(){t.end()})),e.on(\"error\",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=r},{}],29:[function(e,t,r){\"use strict\";var i=e(\"../utils\"),s=e(\"./ConvertWorker\"),o=e(\"./GenericWorker\"),a=e(\"../base64\"),l=e(\"../support\"),u=e(\"../external\"),c=null;if(l.nodestream)try{c=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function h(e,t,n){var r=t;switch(t){case\"blob\":case\"arraybuffer\":r=\"uint8array\";break;case\"base64\":r=\"string\"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new s(r)),e.lock()}catch(e){this._worker=new o(\"error\"),this._worker.error(e)}}h.prototype={accumulate:function(e){return t=this,r=e,new u.Promise((function(e,s){var o=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on(\"data\",(function(e,t){o.push(e),r&&r(t)})).on(\"error\",(function(e){o=[],s(e)})).on(\"end\",(function(){try{var t=function(e,t,n){switch(e){case\"blob\":return i.newBlob(i.transformTo(\"arraybuffer\",t),n);case\"base64\":return a.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var r,i=0,s=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(s=new Uint8Array(o),r=0;r<t.length;r++)s.set(t[r],i),i+=t[r].length;return s;case\"nodebuffer\":return n.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(l,o),c);e(t)}catch(t){s(t)}o=[]})).resume()}));var t,r},on:function(e,t){var n=this;return\"data\"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new c(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=h},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=void 0!==n,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),r.blob=0===s.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,n){\"use strict\";for(var r=e(\"./utils\"),i=e(\"./support\"),s=e(\"./nodejsUtils\"),o=e(\"./stream/GenericWorker\"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,\"utf-8 decode\"),this.leftOver=null}function c(){o.call(this,\"utf-8 encode\")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,\"utf-8\"):function(e){var t,n,r,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=o=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,n,i,s,o=e.length,l=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)l[n++]=i;else if(4<(s=a[i]))l[n++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<o;)i=i<<6|63&e[t++],s--;1<s?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?\"uint8array\":\"array\",e))},r.inherits(u,o),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,n){\"use strict\";var r=e(\"./support\"),i=e(\"./base64\"),s=e(\"./nodejsUtils\"),o=e(\"set-immediate-shim\"),a=e(\"./external\");function l(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport(\"blob\");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,s=e.length;if(s<=n)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,s)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,s)))),i+=n;return r.join(\"\")},stringifyByChar:function(e){for(var t=\"\",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,r=n.getTypeOf(e),i=!0;if(\"uint8array\"===r?i=c.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var f={};f.string={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,s.allocBuffer(e.length))}},f.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},f.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return s.newBufferFrom(e)}},f.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||\"\",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":r.nodebuffer&&s.isBuffer(e)?\"nodebuffer\":r.uint8array&&e instanceof Uint8Array?\"uint8array\":r.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r=\"\";for(n=0;n<(e||\"\").length;n++)r+=\"\\\\x\"+((t=e.charCodeAt(n))<16?\"0\":\"\")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){o((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,s,o,l){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(e)))&&\"undefined\"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c,h=n.getTypeOf(t);return h?(\"arraybuffer\"===h?t=n.transformTo(\"uint8array\",t):\"string\"===h&&(l?t=i.decode(t):s&&!0!==o&&(t=u(c=t,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):a.Promise.reject(new Error(\"Can't read the data of '\"+e+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))}))}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(e,t,n){\"use strict\";var r=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),o=e(\"./zipEntry\"),a=(e(\"./utf8\"),e(\"./support\"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?\"uint8array\":\"array\",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Corrupted zip: can't find end of central directory\"):new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(r)+\" bytes.\")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,n){\"use strict\";var r=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./compressedObject\"),o=e(\"./crc32\"),a=e(\"./utf8\"),l=e(\"./compressions\"),u=e(\"./support\");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+i.pretty(this.compressionMethod)+\" unknown (inner file : \"+i.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,n){\"use strict\";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e(\"./stream/StreamHelper\"),s=e(\"./stream/DataWorker\"),o=e(\"./utf8\"),a=e(\"./compressedObject\"),l=e(\"./stream/GenericWorker\");r.prototype={internalStream:function(e){var t=null,n=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var r=\"string\"===(n=e.toLowerCase())||\"text\"===n;\"binarystring\"!==n&&\"text\"!==n||(n=\"string\"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l(\"error\")).error(e)}return new i(t,n,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],c=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},h=0;h<u.length;h++)r.prototype[u[h]]=c;t.exports=r},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,n,r){(function(e){\"use strict\";var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,o=new i(c),a=e.document.createTextNode(\"\");o.observe(a,{characterData:!0}),t=function(){a.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)t=\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")?function(){var t=e.document.createElement(\"script\");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,t=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}n.exports=function(e){1!==u.push(e)||r||t()}}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,n){\"use strict\";var r=e(\"immediate\");function i(){}var s={},o=[\"REJECTED\"],a=[\"FULFILLED\"],l=[\"PENDING\"];function u(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,n){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return s.reject(e,r)}r===e?s.reject(e,new TypeError(\"Cannot resolve promise with itself\")):s.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,s.reject(e,t))}function i(t){n||(n=!0,s.resolve(e,t))}var o=p((function(){t(i,r)}));\"error\"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status=\"success\"}catch(e){n.status=\"error\",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if(\"function\"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){s.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},s.resolve=function(e,t){var n=p(d,t);if(\"error\"===n.status)return s.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return s.reject(t,e)},u.all=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){o[i]=e,++a!==n||r||(r=!0,s.resolve(u,o))}),(function(e){r||(r=!0,s.reject(u,e))}))}},u.race=function(e){if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,o=-1,a=new this(i);++o<t;)r=e[o],this.resolve(r).then((function(e){n||(n=!0,s.resolve(a,e))}),(function(e){n||(n=!0,s.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){\"use strict\";var r={};(0,e(\"./lib/utils/common\").assign)(r,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=r},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,n){\"use strict\";var r=e(\"./zlib/deflate\"),i=e(\"./utils/common\"),s=e(\"./utils/strings\"),o=e(\"./zlib/messages\"),a=e(\"./zlib/zstream\"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c=\"string\"==typeof t.dictionary?s.string2buf(t.dictionary):\"[object ArrayBuffer]\"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(e,t){var n,o,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,\"string\"==typeof e?a.input=s.string2buf(e):\"[object ArrayBuffer]\"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,o))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||(\"string\"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),!(a.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,n){\"use strict\";var r=e(\"./zlib/inflate\"),i=e(\"./utils/common\"),s=e(\"./utils/strings\"),o=e(\"./zlib/constants\"),a=e(\"./zlib/messages\"),l=e(\"./zlib/zstream\"),u=e(\"./zlib/gzheader\"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(a[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,u,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,\"string\"==typeof e?f.input=s.binstring2buf(e):\"[object ArrayBuffer]\"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(d=\"string\"==typeof m?s.string2buf(m):\"[object ArrayBuffer]\"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,h=s.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,n){\"use strict\";var r=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(\"object\"!=typeof n)throw new TypeError(n+\"must be non-object\");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],42:[function(e,t,n){\"use strict\";var r=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new r.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n=\"\",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,s,o,a=e.length,l=0;for(s=0;s<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=o=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,a=t||e.length,u=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)u[r++]=i;else if(4<(s=o[i]))u[r++]=65533,n+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&n<a;)i=i<<6|63&e[n++],s--;1<s?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{\"./common\":41}],43:[function(e,t,n){\"use strict\";t.exports=function(e,t,n,r){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;s=s+(i=i+t[r++]|0)|0,--o;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,n){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){\"use strict\";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var s=r,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){\"use strict\";var r,i=e(\"../utils/common\"),s=e(\"./trees\"),o=e(\"./adler32\"),a=e(\"./crc32\"),l=e(\"./messages\"),u=-2,c=258,h=262,d=113;function f(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function w(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,m=u[s+o-1],g=u[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(n=t)+o]===g&&u[n+o-1]===m&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<p);if(r=c-(p-s),s=p-c,o<r){if(e.match_start=t,a<=(o=r))break;m=u[s+o-1],g=u[s+o]}}}while((t=f[t&d])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,n,r,s,l,u,c,d,f,p,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);s+=m}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,p=void 0,(f=s)<(p=u.avail_in)&&(p=f),n=0===p?0:(u.avail_in-=p,i.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=o(u.adler,c,p,d):2===u.state.wrap&&(u.adler=a(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function k(e,t){for(var n,r;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=w(e,n)),e.match_length>=3)if(r=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var n,r,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=w(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=s._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):f(e,u)}function P(e){var t,n=j(e);return 0===n&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,s,o){if(!e)return u;var a=1;if(-1===t&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),s<1||9<s||8!==n||r<8||15<r||t<0||9<t||o<0||4<o)return f(e,u);8===r&&(r=9);var l=new x;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,P(e)}r=[new C(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,k),new C(4,5,16,8,k),new C(4,6,32,32,k),new C(4,4,16,16,E),new C(8,16,32,32,E),new C(8,16,128,128,E),new C(8,32,128,256,E),new C(32,128,258,1024,E),new C(32,258,258,4096,E)],n.deflateInit=function(e,t){return T(e,t,8,15,8,0)},n.deflateInit2=T,n.deflateReset=P,n.deflateResetKeep=j,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},n.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||5<t||t<0)return e?f(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return f(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,b(i,h),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),g(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(g(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return f(e,-5);if(666===i.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var w=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=c){if(_(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+c;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==w&&4!==w||(i.status=666),1===w||3===w)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===w&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),g(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?f(e,u):(e.state=null,t===d?f(e,-3):0):u},n.deflateSetDictionary=function(e,t){var n,r,s,a,l,c,h,d,f=t.length;if(!e||!e.state)return u;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return u;for(1===a&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(n);n.lookahead>=3;){for(r=n.strstart,s=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--s;);n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,n.wrap=a,0},n.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,n){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){\"use strict\";t.exports=function(e,t){var n,r,i,s,o,a,l,u,c,h,d,f,p,m,g,y,v,b,w,_,k,E,C,x,j;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),s=e.next_out,j=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=m[f&y];t:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))j[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg=\"invalid literal/length code\",n.mode=30;break e}_=65535&b,(w&=15)&&(p<w&&(f+=x[r++]<<p,p+=8),_+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=g[f&v];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg=\"invalid distance code\",n.mode=30;break e}if(k=65535&b,p<(w&=15)&&(f+=x[r++]<<p,(p+=8)<w&&(f+=x[r++]<<p,p+=8)),l<(k+=f&(1<<w)-1)){e.msg=\"invalid distance too far back\",n.mode=30;break e}if(f>>>=w,p-=w,(w=s-o)<k){if(c<(w=k-w)&&n.sane){e.msg=\"invalid distance too far back\",n.mode=30;break e}if(C=d,(E=0)===h){if(E+=u-w,w<_){for(_-=w;j[s++]=d[E++],--w;);E=s-k,C=j}}else if(h<w){if(E+=u+h-w,(w-=h)<_){for(_-=w;j[s++]=d[E++],--w;);if(E=0,h<_){for(_-=w=h;j[s++]=d[E++],--w;);E=s-k,C=j}}}else if(E+=h-w,w<_){for(_-=w;j[s++]=d[E++],--w;);E=s-k,C=j}for(;2<_;)j[s++]=C[E++],j[s++]=C[E++],j[s++]=C[E++],_-=3;_&&(j[s++]=C[E++],1<_&&(j[s++]=C[E++]))}else{for(E=s-k;j[s++]=j[E++],j[s++]=j[E++],j[s++]=j[E++],2<(_-=3););_&&(j[s++]=j[E++],1<_&&(j[s++]=j[E++]))}break}}break}}while(r<i&&s<a);r-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=s<a?a-s+257:257-(s-a),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){\"use strict\";var r=e(\"../utils/common\"),i=e(\"./adler32\"),s=e(\"./crc32\"),o=e(\"./inffast\"),a=e(\"./inftrees\"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d(e))):l}function p(e,t){var n,r;return e?(r=new c,(e.state=r).window=null,0!==(n=f(e,t))&&(e.state=null),n):l}var m,g,y=!0;function v(e){if(y){var t;for(m=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function b(e,t,n,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(s=o.wsize-o.wnext)&&(s=i),r.arraySet(o.window,t,n-i,s,o.wnext),(i-=s)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=h,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,c,h,d,f,p,m,g,y,w,_,k,E,C,x,j,P,T,S,A,O,Q,N,R,D=0,I=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,m=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,g=n.hold,y=n.bits,w=p,_=m,Q=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(2&n.wrap&&35615===g){I[n.check=0]=255&g,I[1]=g>>>8&255,n.check=s(n.check,I,2,0),y=g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg=\"incorrect header check\",n.mode=30;break}if(8!=(15&g)){e.msg=\"unknown compression method\",n.mode=30;break}if(y-=4,O=8+(15&(g>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg=\"invalid window size\",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(n.flags=g,8!=(255&n.flags)){e.msg=\"unknown compression method\",n.mode=30;break}if(57344&n.flags){e.msg=\"unknown header flags set\",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(I[0]=255&g,I[1]=g>>>8&255,n.check=s(n.check,I,2,0)),y=g=0,n.mode=3;case 3:for(;y<32;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.head&&(n.head.time=g),512&n.flags&&(I[0]=255&g,I[1]=g>>>8&255,I[2]=g>>>16&255,I[3]=g>>>24&255,n.check=s(n.check,I,4,0)),y=g=0,n.mode=4;case 4:for(;y<16;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(I[0]=255&g,I[1]=g>>>8&255,n.check=s(n.check,I,2,0)),y=g=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(I[0]=255&g,I[1]=g>>>8&255,n.check=s(n.check,I,2,0)),y=g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(k=n.length)&&(k=p),k&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,d,k,O)),512&n.flags&&(n.check=s(n.check,c,k,d)),p-=k,d+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(k=0;O=c[d+k++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&k<p;);if(512&n.flags&&(n.check=s(n.check,c,k,d)),p-=k,d+=k,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(k=0;O=c[d+k++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&k<p;);if(512&n.flags&&(n.check=s(n.check,c,k,d)),p-=k,d+=k,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(g!==(65535&n.check)){e.msg=\"header crc mismatch\",n.mode=30;break}y=g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}e.adler=n.check=u(g),y=g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=g,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}switch(n.last=1&g,y-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;g>>>=2,y-=2;break e;case 2:n.mode=17;break;case 3:e.msg=\"invalid block type\",n.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){e.msg=\"invalid stored block lengths\",n.mode=30;break}if(n.length=65535&g,y=g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(p<k&&(k=p),m<k&&(k=m),0===k)break e;r.arraySet(h,c,d,k,f),p-=k,d+=k,m-=k,f+=k,n.length-=k;break}n.mode=12;break;case 17:for(;y<14;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(n.nlen=257+(31&g),g>>>=5,y-=5,n.ndist=1+(31&g),g>>>=5,y-=5,n.ncode=4+(15&g),g>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg=\"too many length or distance symbols\",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.lens[L[n.have++]]=7&g,g>>>=3,y-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},Q=a(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,Q){e.msg=\"invalid code lengths set\",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(D=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,P=65535&D,!((x=D>>>24)<=y);){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(P<16)g>>>=x,y-=x,n.lens[n.have++]=P;else{if(16===P){for(R=x+2;y<R;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(g>>>=x,y-=x,0===n.have){e.msg=\"invalid bit length repeat\",n.mode=30;break}O=n.lens[n.have-1],k=3+(3&g),g>>>=2,y-=2}else if(17===P){for(R=x+3;y<R;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}y-=x,O=0,k=3+(7&(g>>>=x)),g>>>=3,y-=3}else{for(R=x+7;y<R;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}y-=x,O=0,k=11+(127&(g>>>=x)),g>>>=7,y-=7}if(n.have+k>n.nlen+n.ndist){e.msg=\"invalid bit length repeat\",n.mode=30;break}for(;k--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg=\"invalid code -- missing end-of-block\",n.mode=30;break}if(n.lenbits=9,N={bits:n.lenbits},Q=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,Q){e.msg=\"invalid literal/lengths set\",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},Q=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,Q){e.msg=\"invalid distances set\",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=m){e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=g,n.bits=y,o(e,_),f=e.next_out,h=e.output,m=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,g=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(D=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,P=65535&D,!((x=D>>>24)<=y);){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(j&&0==(240&j)){for(T=x,S=j,A=P;j=(D=n.lencode[A+((g&(1<<T+S)-1)>>T)])>>>16&255,P=65535&D,!(T+(x=D>>>24)<=y);){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}g>>>=T,y-=T,n.back+=T}if(g>>>=x,y-=x,n.back+=x,n.length=P,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg=\"invalid literal/length code\",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(R=n.extra;y<R;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(D=n.distcode[g&(1<<n.distbits)-1])>>>16&255,P=65535&D,!((x=D>>>24)<=y);){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(0==(240&j)){for(T=x,S=j,A=P;j=(D=n.distcode[A+((g&(1<<T+S)-1)>>T)])>>>16&255,P=65535&D,!(T+(x=D>>>24)<=y);){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}g>>>=T,y-=T,n.back+=T}if(g>>>=x,y-=x,n.back+=x,64&j){e.msg=\"invalid distance code\",n.mode=30;break}n.offset=P,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(R=n.extra;y<R;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=\"invalid distance too far back\",n.mode=30;break}n.mode=25;case 25:if(0===m)break e;if(k=_-m,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg=\"invalid distance too far back\",n.mode=30;break}E=k>n.wnext?(k-=n.wnext,n.wsize-k):n.wnext-k,k>n.length&&(k=n.length),C=n.window}else C=h,E=f-n.offset,k=n.length;for(m<k&&(k=m),m-=k,n.length-=k;h[f++]=C[E++],--k;);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;h[f++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===p)break e;p--,g|=c[d++]<<y,y+=8}if(_-=m,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?s(n.check,h,_,f-_):i(n.check,h,_,f-_)),_=m,(n.flags?g:u(g))!==n.check){e.msg=\"incorrect data check\",n.mode=30;break}y=g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===p)break e;p--,g+=c[d++]<<y,y+=8}if(g!==(4294967295&n.total)){e.msg=\"incorrect length check\",n.mode=30;break}y=g=0}n.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=f,e.avail_out=m,e.next_in=d,e.avail_in=p,n.hold=g,n.bits=y,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,_-=e.avail_out,e.total_in+=w,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?s(n.check,h,_,e.next_out-_):i(n.check,h,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===_||4===t)&&0===Q&&(Q=-5),Q)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:b(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,n){\"use strict\";var r=e(\"../utils/common\"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,h,d){var f,p,m,g,y,v,b,w,_,k=d.bits,E=0,C=0,x=0,j=0,P=0,T=0,S=0,A=0,O=0,Q=0,N=null,R=0,D=new r.Buf16(16),I=new r.Buf16(16),L=null,z=0;for(E=0;E<=15;E++)D[E]=0;for(C=0;C<l;C++)D[t[n+C]]++;for(P=k,j=15;1<=j&&0===D[j];j--);if(j<P&&(P=j),0===j)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(x=1;x<j&&0===D[x];x++);for(P<x&&(P=x),E=A=1;E<=15;E++)if(A<<=1,(A-=D[E])<0)return-1;if(0<A&&(0===e||1!==j))return-1;for(I[1]=0,E=1;E<15;E++)I[E+1]=I[E]+D[E];for(C=0;C<l;C++)0!==t[n+C]&&(h[I[t[n+C]]++]=C);if(v=0===e?(N=L=h,19):1===e?(N=i,R-=257,L=s,z-=257,256):(N=o,L=a,-1),E=x,y=c,S=C=Q=0,m=-1,g=(O=1<<(T=P))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=E-S,_=h[C]<v?(w=0,h[C]):h[C]>v?(w=L[z+h[C]],N[R+h[C]]):(w=96,0),f=1<<E-S,x=p=1<<T;u[y+(Q>>S)+(p-=f)]=b<<24|w<<16|_|0,0!==p;);for(f=1<<E-1;Q&f;)f>>=1;if(0!==f?(Q&=f-1,Q+=f):Q=0,C++,0==--D[E]){if(E===j)break;E=t[n+h[C]]}if(P<E&&(Q&g)!==m){for(0===S&&(S=P),y+=x,A=1<<(T=E-S);T+S<j&&!((A-=D[T+S])<=0);)T++,A<<=1;if(O+=1<<T,1===e&&852<O||2===e&&592<O)return 1;u[m=Q&g]=P<<24|T<<16|y-c|0}}return 0!==Q&&(u[y+Q]=E-S<<24|64<<16|0),d.bits=P,0}},{\"../utils/common\":41}],51:[function(e,t,n){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,n){\"use strict\";var r=e(\"../utils/common\");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var s=15,o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var h=new Array(60);i(h);var d=new Array(512);i(d);var f=new Array(256);i(f);var p=new Array(29);i(p);var m,g,y,v=new Array(30);function b(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?d[e]:d[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){E(e,n[2*t],n[2*t+1])}function x(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function j(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=s;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var l=e[2*i+1];0!==l&&(e[2*i]=x(o[l]++,l))}}function P(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function S(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&S(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!S(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function O(e,t,n){var r,i,s,l,u=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?C(e,i,t):(C(e,(s=f[i])+256+1,t),0!==(l=o[s])&&E(e,i-=p[s],l),C(e,s=_(--r),n),0!==(l=a[s])&&E(e,r-=v[s],l)),u<e.last_lit;);C(e,256,t)}function Q(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,l=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,l&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)A(e,o,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,A(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,l,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(o=0;o<=s;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(o=m,g++),u[2*r+1]=o,c<r||(e.bl_count[o]++,a=0,p<=r&&(a=f[r-p]),l=u[2*r],e.opt_len+=l*(o+a),d&&(e.static_len+=l*(h[2*r+1]+a)));if(0!==g){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),j(o,c,e.bl_count)}function N(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<l&&i===o||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=i,u=(a=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function R(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<l&&i===o)){if(a<u)for(;C(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==s&&(C(e,i,e.bl_tree),a--),C(e,16,e.bl_tree),E(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),E(e,a-3,3)):(C(e,18,e.bl_tree),E(e,a-11,7));s=i,u=(a=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(v);var D=!1;function I(e,t,n,i){var s,o,a;E(e,0+(i?1:0),3),o=t,a=n,T(s=e),k(s,a),k(s,~a),r.arraySet(s.pending_buf,s.window,o,a,s.pending),s.pending+=a}n._tr_init=function(e){D||(function(){var e,t,n,r,i,u=new Array(16);for(r=n=0;r<28;r++)for(p[r]=n,e=0;e<1<<o[r];e++)f[n++]=r;for(f[n-1]=r,r=i=0;r<16;r++)for(v[r]=i,e=0;e<1<<a[r];e++)d[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,e=0;e<1<<a[r]-7;e++)d[256+i++]=r;for(t=0;t<=s;t++)u[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,u[8]++;for(;e<=255;)c[2*e+1]=9,e++,u[9]++;for(;e<=279;)c[2*e+1]=7,e++,u[7]++;for(;e<=287;)c[2*e+1]=8,e++,u[8]++;for(j(c,287,u),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=x(e,5);m=new b(c,o,257,286,s),g=new b(h,a,0,30,s),y=new b(new Array(0),l,0,19,7)}(),D=!0),e.l_desc=new w(e.dyn_ltree,m),e.d_desc=new w(e.dyn_dtree,g),e.bl_desc=new w(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,P(e)},n._tr_stored_block=I,n._tr_flush_block=function(e,t,n,r){var i,s,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),o=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?I(e,t,n,r):4===e.strategy||s===i?(E(e,2+(r?1:0),3),O(e,c,h)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*u[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),O(e,e.dyn_ltree,e.dyn_dtree)),P(e),r&&T(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;E(e,2,3),C(e,256,c),16===(t=e).bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{\"../utils/common\":41}],53:[function(e,t,n){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){\"use strict\";t.exports=\"function\"==typeof r?r:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}))}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==t?t:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[1])(1)}).call(this,n(3),n(12).Buffer,n(16).setImmediate)},function(e,t,n){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar r=n(13),i=n(14),s=n(15);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError(\"Invalid typed array length\");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,r):\"string\"==typeof t?function(e,t,n){\"string\"==typeof n&&\"\"!==n||(n=\"utf8\");if(!l.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if(\"Buffer\"===t.type&&s(t.data))return d(e,t.data)}var r;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function c(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+o().toString(16)+\" bytes\");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return B(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return U(e).length;default:if(r)return B(e).length;t=(\"\"+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return S(this,t,n);case\"utf8\":case\"utf-8\":return j(this,t,n);case\"ascii\":return P(this,t,n);case\"latin1\":case\"binary\":return T(this,t,n);case\"base64\":return x(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return A(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if(\"number\"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function v(e,t,n,r,i){var s,o=1,a=e.length,l=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(e,s+d)!==u(t,d)){h=!1;break}if(h)return s}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;if(s%2!=0)throw new TypeError(\"Invalid hex string\");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function w(e,t,n,r){return $(B(t,e.length-n),e,n,r)}function _(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return _(e,t,n,r)}function E(e,t,n,r){return $(U(t),e,n,r)}function C(e,t,n,r){return $(function(e,t){for(var n,r,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[i+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?a(e,t):void 0!==n?\"string\"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?j(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),u=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(u[h]!==c[h]){s=u[h],o=c[h];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var s=!1;;)switch(r){case\"hex\":return b(this,e,t,n);case\"utf8\":case\"utf-8\":return w(this,e,t,n);case\"ascii\":return _(this,e,t,n);case\"latin1\":case\"binary\":return k(this,e,t,n);case\"base64\":return E(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return C(this,e,t,n);default:if(s)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function S(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",s=t;s<n;++s)i+=F(e[s]);return i}function A(e,t,n){for(var r=e.slice(t,n),i=\"\",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function Q(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function I(e,t,n,r,s){return s||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,s){return s||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||Q(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Q(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Q(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Q(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},l.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!l.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=l.isBuffer(e)?e:B(new l(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var z=/[^+\\/0-9A-Za-z-_]/g;function F(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(z,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function $(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(3))},function(e,t,n){\"use strict\";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),o=r[0],a=r[1],l=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),c=0,h=a>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(c(e,o,o+16383>a?a:o+16383));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+\"==\")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+\"=\"));return s.join(\"\")};for(var r=[],i=[],s=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},function(e,t,n){(function(e){var r=void 0!==e&&e||\"undefined\"!=typeof self&&self||window,i=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(17),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(e,t,n){(function(e,t){!function(e,n){\"use strict\";if(!e.setImmediate){var r,i,s,o,a,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,\"[object process]\"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){s.port2.postMessage(e)}):h&&\"onreadystatechange\"in h.createElement(\"script\")?(i=h.documentElement,r=function(e){var t=h.createElement(\"script\");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(o=\"setImmediate$\"+Math.random()+\"$\",a=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener(\"message\",a,!1):e.attachEvent(\"onmessage\",a),r=function(t){e.postMessage(o+t,\"*\")}),d.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},d.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),c=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,n(3),n(18))},function(e,t){var n,r,i=e.exports={};function s(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,n){\"use strict\";n(20);var r=n(2),i=n(0),s=n(1);i.a.tables={};var o={};let a=[];class l{constructor(e,t){if(!(e instanceof Array)||e.length<1||!Object.keys(e[0]).length)return i.a.debug.error(\"Invalid format for table when creating new table\");this.id=t||\"unnamed\",this.table=e;for(let t in e[0])t.match(/^item$/i)&&(this.item=t),t.match(/^(group|list)$/i)&&(this.group=t),t.match(/^label$/i)&&(this.label=t)}setItem(e){return this.table[0].hasOwnProperty(e)?this.item=e:i.a.debug.log(\"Error when setting table's item column: no column found with the name \"+e),this}setGroup(e){return this.table[0].hasOwnProperty(e)?this.group=e:i.a.debug.log(\"Error when setting table's group column: no column found with the name \"+e),this}setLabel(e){return this.table[0].hasOwnProperty(e)?this.label=e:i.a.debug.log(\"Error when setting table's label column: no column found with the name \"+e),this}filter(...e){if(2==e.length&&\"string\"==typeof e[0]&&(\"string\"==typeof e[1]||e[1]instanceof RegExp)){if(this.table[0].hasOwnProperty(e[0])){let t=e[1];\"string\"==typeof t&&(t=new RegExp(\"^\"+t+\"$\"));let n=[];for(let r=0;r<this.table.length;r++)this.table[r][e[0]].match(t)&&n.push(this.table[r]);return n.length||i.a.debug.error(\"Empty table with filter:\",e[0],e[1]),n=new l(n,this.id),this.group&&n.setGroup(this.group),this.label&&n.setLabel(this.label),n}return i.a.debug.error(\"No column named ‘\"+e[0]+\"’ found in the table for filtering\")}if(e.length&&e[0]instanceof Function){let t=[];for(let n=0;n<this.table.length;n++)e[0].call(this,this.table[n])&&t.push(this.table[n]);return t.length||i.a.debug.error(\"Empty table after filter:\",e[0]),new l(t,this.id).setGroup(this.group).setLabel(this.label)}}}class u{constructor(e){this.name=e,this.actions=[]}setItem(e){return this.actions.push([\"setItem\",e]),this}setGroup(e){return this.actions.push([\"setGroup\",e]),this}setLabel(e){return this.actions.push([\"setLabel\",e]),this}filter(...e){let t=new u(this.name);for(let e=0;e<this.actions.length;e++)t.actions.push(this.actions[e]);return t.actions.push([\"filter\",e]),t}setItemColumn(e){return this.setItem(e)}setGroupColumn(e){return this.setGroup(e)}setLabelColumn(e){return this.setLabel(e)}}function c(e){65279===e.charCodeAt(0)&&(e=e.slice(1)),e.match(/[\\n\\r]$/)||(e+=\"\\n\");let t=[],n=[];try{let n=$.csv.toArrays(e,{separator:\",\"}),r=n[0];for(let e=1;e<n.length;e++){let i={};r.map((t,r)=>i[t]=n[e][r]),t.push(i)}}catch(e){t.push({})}try{let t=$.csv.toArrays(e,{separator:\"\\t\"}),r=t[0];for(let e=1;e<t.length;e++){let i={};r.map((n,r)=>i[n]=t[e][r]),n.push(i)}}catch(e){n.push({})}return Object.keys(t[0]).length>Object.keys(n[0]).length?t:Object.keys(n[0]).length?n:i.a.debug.error(\"Format of table is invalid\")}let h=[],d=window.$.ajax;window.$.ajax=function(...e){if(e[0]&&e[0].url&&e[0].url.match(/allchunks=1$/)){let t=e[0].success;e[0].success=e=>{if(0==h.length)return t(e);let n,i=[];for(let s=h.length-1;s>=0;s--)n=s==h.length-1?n=>{r.b.AddTable(h[s].name,n),t(e)}:e=>{r.b.AddTable(h[s].name,e),i[0]()},i.push(()=>$.ajax({url:h[s].table,cache:!1,dataType:\"text\",success:n}));i[0]()}}return d(...e)},r.b.AddTable=function(e,t){if(\"string\"!=typeof e||\"string\"!=typeof t)return i.a.debug.error(\"Table \"+e+\" not added: tables and table names should be strings\");if(i.a.tables.hasOwnProperty(e)&&i.a.debug.log(\"A table named \"+e+\" already exists; overriding it\"),t.match(/^http/))h.push({name:e,table:t});else{if(!(t=c(t)))return i.a.debug.error(\"Table \"+e+\" does not have the right format.\");t=new l(t,e),i.a.tables[e]=t}},r.b.GetTable=function(e){return new u(e)};let f,p=[];r.b.Template=function(e,t){if(window.items)for(let e in window.items)i.a.tmpItems.indexOf(window.items[e])<0&&i.a.tmpItems.push(window.items[e]);let n={PennTemplate:[]};return i.a.tmpItems.push(n),p.push((function(){let r,c=i.a.tmpItems.length;if(e instanceof Function){t=e;let n=Object.keys(i.a.tables);if(!(n.length&&i.a.tables[n[0]]instanceof l))return i.a.debug.error(\"No valid table detected\");r=i.a.tables[n[0]]}else if(\"string\"==typeof e){if(!i.a.tables.hasOwnProperty(e)){let t=Object.keys(i.a.tables),n=\"\";for(let r=0;r<t.length;r++)Object(s.e)(e,t[r])/t[r].length<.5&&(n=\" Did you mean to type &lsquo;<strong>\"+t[r]+\"</strong>&rsquo;?\");return i.a.debug.error(\"No table found with name \"+e+\".\"+n)}if(!(i.a.tables[e]instanceof l))return i.a.debug.error(\"Table \"+e+\" does not have the right format.\");r=i.a.tables[e]}else{if(!(e instanceof u))return i.a.debug.error(\"Bad format for Template's first argument (should be a PennController table, table name or function from rows to Ibex elements)\");if(Object.keys(i.a.tables).length<1)return i.a.debug.error(\"No table was defined\");if(e.name==o)r=i.a.tables[Object.keys(i.a.tables)[0]];else{if(!e.name||!i.a.tables.hasOwnProperty(e.name)){let t=Object.keys(i.a.tables),n=\"\";for(let r=0;r<t.length;r++)Object(s.e)(e.name,t[r])/t[r].length<.5&&(n=\" Did you mean to type &lsquo;</strong>\"+t[r]+\"</strong>&rsquo;?\");return i.a.debug.error(\"No table named \"+e.name+\" was found.\"+n)}r=i.a.tables[e.name]}for(let t=0;t<e.actions.length;t++){let n=e.actions[t][1];switch(e.actions[t][0]){case\"setItem\":r.setItem(n);break;case\"setLabel\":r.setLabel(n);break;case\"setGroup\":r.setGroup(n);break;case\"filter\":r=r.filter(...n)}}}if(!(t instanceof Function))return i.a.debug.error(\"The function passed to PennController.Template is ill-defined\");let h,d=[];if(r.group){for(let e=0;e<r.table.length;e++)d.indexOf(r.table[e][r.group])<0&&d.push(r.table[e][r.group]);if(d.sort(),a.map(e=>{let t=d.filter((t,n)=>t==e.groups[n]);d.indexOf(e.runningGroup)>-1&&t.length==e.groups.length&&t.length==d.length&&(h=e.runningGroup)}),void 0===h){let e=window.__counter_value_from_server__;\"number\"==typeof window.counterOverride&&(e=counterOverride),h=d[e%d.length]}a.push({runningGroup:h,groups:d})}let f=[];for(let e=0;e<r.table.length;e++){if(r.group){if(r.table[e][r.group]!=h)continue}let n,o=void 0,a=new Proxy(r.table[e],{get:(t,n)=>{if(n in r.table[e])return t[n];{let t=Object.keys(r.table[e]),o=\"\";for(let e=0;e<t.length;e++)Object(s.e)(n,t[e])/t[e].length<.5&&(o=\" Did you mean to type &lsquo;<strong>\"+t[e]+\"</strong>&rsquo;?\");i.a.debug.error(\"No column named &lsquo;\"+n+\"&rsquo; found in table \"+r.id+\".\"+o)}return\"\"}});try{n=t.call(null,a)}catch(e){window.onerror(e.name+\": \"+e.message,\"include=data\",\"inside PennController.Template\")}n instanceof Array?n.length%2&&\"string\"==typeof n[0]&&(o=n[0],n.splice(0,1)):(o=n.useLabel,n.addToItems=!1,n=[\"PennController\",n]),o||(o=r.label&&r.table[e].hasOwnProperty(r.label)?r.table[e][r.label]:r.item&&r.table[e].hasOwnProperty(r.item)?\"Item-\"+r.table[e][r.item]:\"Item-\"+e);let l=[o];for(let t in n)n[t]instanceof Object&&(n[t]._PennController={table:r,row:e}),l.push(n[t]);f.push(l)}for(n.PennTemplate=f;i.a.tmpItems.length>c;)i.a.tmpItems.pop()})),window.items||(window.items=[]),{log:()=>i.a.debug.error(\"Tried to call .log command on PennController.Template(); .log commands should be called on PennController()\"),label:()=>i.a.debug.error(\"Tried to call .label command on PennController.Template(); .label commands should be called on PennController()\"),setOption:()=>i.a.debug.error(\"Tried to call .setOption command on PennController.Template(); .setOption commands should be called on PennController()\"),noHeader:()=>i.a.debug.error(\"Tried to call .noHeader command on PennController.Template(); .noHeader commands should be called on PennController()\"),noFooter:()=>i.a.debug.error(\"Tried to call .noFooter command on PennController.Template(); .noFooter commands should be called on PennController()\")}},r.b.FeedItems=(e,t)=>r.b.Template(e,t),$(document).ready((function(){f=document.createElement(\"P\"),f.style[\"text-align\"]=\"center\",f.innerHTML=\"Loading, please wait...\",f.id=\"FirstLoadingMessage\",document.body.appendChild(f)})),i.a.Prerun(()=>{for(let e in window.CHUNKS_DICT){if(e.match(/\\.(html?|mp3)$/i))continue;let t=c(window.CHUNKS_DICT[e]);t?(t=new l(t,e),i.a.tables[e]=t):(t=$.csv.toObjects(window.CHUNKS_DICT[e],{separator:\"\\t\"}),Object.keys(t[0]).length>1&&(t=new l(t,e),i.a.tables[e]=t))}for(let e=0;e<p.length;e++)p[e].call();f&&document.body.removeChild(f)}),Object.defineProperty(r.b,\"defaultTable\",{get:function(){let e=new u;return e.name=o,e}})},function(e,t,n){RegExp.escape=function(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")},function(){\"use strict\";var t;(t=\"undefined\"!=typeof jQuery&&jQuery?jQuery:{}).csv={defaults:{separator:\",\",delimiter:'\"',headers:!0},hooks:{castToScalar:function(e,t){if(isNaN(e))return e;if(/\\./.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(e,t){var n=t.separator,r=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var i=[],s=[],o=0,a=\"\",l=!1;function u(){if(o=0,a=\"\",t.start&&t.state.rowNum<t.start)return s=[],t.state.rowNum++,void(t.state.colNum=1);if(void 0===t.onParseEntry)i.push(s);else{var e=t.onParseEntry(s,t.state);!1!==e&&i.push(e)}s=[],t.end&&t.state.rowNum>=t.end&&(l=!0),t.state.rowNum++,t.state.colNum=1}function c(){if(void 0===t.onParseValue)s.push(a);else{var e=t.onParseValue(a,t.state);!1!==e&&s.push(e)}a=\"\",o=0,t.state.colNum++}var h=RegExp.escape(n),d=RegExp.escape(r),f=/(D|S|\\r\\n|\\n|\\r|[^DS\\r\\n]+)/,p=f.source;return p=(p=p.replace(/S/g,h)).replace(/D/g,d),f=new RegExp(p,\"gm\"),e.replace(f,(function(e){if(!l)switch(o){case 0:if(e===n){a+=\"\",c();break}if(e===r){o=1;break}if(/^(\\r\\n|\\n|\\r)$/.test(e)){c(),u();break}a+=e,o=3;break;case 1:if(e===r){o=2;break}a+=e,o=1;break;case 2:if(e===r){a+=e,o=1;break}if(e===n){c();break}if(/^(\\r\\n|\\n|\\r)$/.test(e)){c(),u();break}throw new Error(\"CSVDataError: Illegal State [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");case 3:if(e===n){c();break}if(/^(\\r\\n|\\n|\\r)$/.test(e)){c(),u();break}if(e===r)throw new Error(\"CSVDataError: Illegal Quote [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");throw new Error(\"CSVDataError: Illegal Data [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");default:throw new Error(\"CSVDataError: Unknown State [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\")}})),0!==s.length&&(c(),u()),i},splitLines:function(e,n){if(e){var r=(n=n||{}).separator||t.csv.defaults.separator,i=n.delimiter||t.csv.defaults.delimiter;n.state=n.state||{},n.state.rowNum||(n.state.rowNum=1);var s=[],o=0,a=\"\",l=!1,u=RegExp.escape(r),c=RegExp.escape(i),h=/(D|S|\\n|\\r|[^DS\\r\\n]+)/,d=h.source;return d=(d=d.replace(/S/g,u)).replace(/D/g,c),h=new RegExp(d,\"gm\"),e.replace(h,(function(e){if(!l)switch(o){case 0:if(e===r){a+=e,o=0;break}if(e===i){a+=e,o=1;break}if(\"\\n\"===e){f();break}if(/^\\r$/.test(e))break;a+=e,o=3;break;case 1:if(e===i){a+=e,o=2;break}a+=e,o=1;break;case 2:var t=a.substr(a.length-1);if(e===i&&t===i){a+=e,o=1;break}if(e===r){a+=e,o=0;break}if(\"\\n\"===e){f();break}if(\"\\r\"===e)break;throw new Error(\"CSVDataError: Illegal state [Row:\"+n.state.rowNum+\"]\");case 3:if(e===r){a+=e,o=0;break}if(\"\\n\"===e){f();break}if(\"\\r\"===e)break;if(e===i)throw new Error(\"CSVDataError: Illegal quote [Row:\"+n.state.rowNum+\"]\");throw new Error(\"CSVDataError: Illegal state [Row:\"+n.state.rowNum+\"]\");default:throw new Error(\"CSVDataError: Unknown state [Row:\"+n.state.rowNum+\"]\")}})),\"\"!==a&&f(),s}function f(){if(o=0,n.start&&n.state.rowNum<n.start)return a=\"\",void n.state.rowNum++;if(void 0===n.onParseEntry)s.push(a);else{var e=n.onParseEntry(a,n.state);!1!==e&&s.push(e)}a=\"\",n.end&&n.state.rowNum>=n.end&&(l=!0),n.state.rowNum++}},parseEntry:function(e,t){var n=t.separator,r=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var i=[],s=0,o=\"\";function a(){if(void 0===t.onParseValue)i.push(o);else{var e=t.onParseValue(o,t.state);!1!==e&&i.push(e)}o=\"\",s=0,t.state.colNum++}if(!t.match){var l=RegExp.escape(n),u=RegExp.escape(r),c=/(D|S|\\n|\\r|[^DS\\r\\n]+)/.source;c=(c=c.replace(/S/g,l)).replace(/D/g,u),t.match=new RegExp(c,\"gm\")}return e.replace(t.match,(function(e){switch(s){case 0:if(e===n){o+=\"\",a();break}if(e===r){s=1;break}if(\"\\n\"===e||\"\\r\"===e)break;o+=e,s=3;break;case 1:if(e===r){s=2;break}o+=e,s=1;break;case 2:if(e===r){o+=e,s=1;break}if(e===n){a();break}if(\"\\n\"===e||\"\\r\"===e)break;throw new Error(\"CSVDataError: Illegal State [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");case 3:if(e===n){a();break}if(\"\\n\"===e||\"\\r\"===e)break;if(e===r)throw new Error(\"CSVDataError: Illegal Quote [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");throw new Error(\"CSVDataError: Illegal Data [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\");default:throw new Error(\"CSVDataError: Unknown State [Row:\"+t.state.rowNum+\"][Col:\"+t.state.colNum+\"]\")}})),a(),i}},helpers:{collectPropertyNames:function(e){var t=[],n=[],r=[];for(t in e)for(n in e[t])e[t].hasOwnProperty(n)&&r.indexOf(n)<0&&\"function\"!=typeof e[t][n]&&r.push(n);return r}},toArray:function(e,n,r){n=void 0!==n?n:{};var i={};i.callback=void 0!==r&&\"function\"==typeof r&&r,i.separator=\"separator\"in n?n.separator:t.csv.defaults.separator,i.delimiter=\"delimiter\"in n?n.delimiter:t.csv.defaults.delimiter;var s=void 0!==n.state?n.state:{};n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,state:s};var o=t.csv.parsers.parseEntry(e,n);if(!i.callback)return o;i.callback(\"\",o)},toArrays:function(e,n,r){n=void 0!==n?n:{};var i={};i.callback=void 0!==r&&\"function\"==typeof r&&r,i.separator=\"separator\"in n?n.separator:t.csv.defaults.separator,i.delimiter=\"delimiter\"in n?n.delimiter:t.csv.defaults.delimiter;var s;if(void 0!==(n={delimiter:i.delimiter,separator:i.separator,onPreParse:n.onPreParse,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,onPostParse:n.onPostParse,start:n.start,end:n.end,state:{rowNum:1,colNum:1}}).onPreParse&&n.onPreParse(e,n.state),s=t.csv.parsers.parse(e,n),void 0!==n.onPostParse&&n.onPostParse(s,n.state),!i.callback)return s;i.callback(\"\",s)},toObjects:function(e,n,r){n=void 0!==n?n:{};var i={};i.callback=void 0!==r&&\"function\"==typeof r&&r,i.separator=\"separator\"in n?n.separator:t.csv.defaults.separator,i.delimiter=\"delimiter\"in n?n.delimiter:t.csv.defaults.delimiter,i.headers=\"headers\"in n?n.headers:t.csv.defaults.headers,n.start=\"start\"in n?n.start:1,i.headers&&n.start++,n.end&&i.headers&&n.end++;var s,o=[];n={delimiter:i.delimiter,separator:i.separator,onPreParse:n.onPreParse,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,onPostParse:n.onPostParse,start:n.start,end:n.end,state:{rowNum:1,colNum:1},match:!1,transform:n.transform};var a={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}};void 0!==n.onPreParse&&n.onPreParse(e,n.state);var l=t.csv.parsers.splitLines(e,a),u=t.csv.toArray(l[0],n);s=t.csv.parsers.splitLines(e,n),n.state.colNum=1,n.state.rowNum=u?2:1;for(var c=0,h=s.length;c<h;c++){for(var d=t.csv.toArray(s[c],n),f={},p=0;p<u.length;p++)f[u[p]]=d[p];void 0!==n.transform?o.push(n.transform.call(void 0,f)):o.push(f),n.state.rowNum++}if(void 0!==n.onPostParse&&n.onPostParse(o,n.state),!i.callback)return o;i.callback(\"\",o)},fromArrays:function(e,n,r){n=void 0!==n?n:{};var i={};i.callback=void 0!==r&&\"function\"==typeof r&&r,i.separator=\"separator\"in n?n.separator:t.csv.defaults.separator,i.delimiter=\"delimiter\"in n?n.delimiter:t.csv.defaults.delimiter;var s,o,a,l,u=\"\";for(a=0;a<e.length;a++){for(s=e[a],o=[],l=0;l<s.length;l++){var c=void 0===s[l]||null===s[l]?\"\":s[l].toString();c.indexOf(i.delimiter)>-1&&(c=c.replace(new RegExp(i.delimiter,\"g\"),i.delimiter+i.delimiter));var h=\"\\n|\\r|S|D\";h=(h=h.replace(\"S\",i.separator)).replace(\"D\",i.delimiter),c.search(h)>-1&&(c=i.delimiter+c+i.delimiter),o.push(c)}u+=o.join(i.separator)+\"\\n\"}if(!i.callback)return u;i.callback(\"\",u)},fromObjects:function(e,n,r){n=void 0!==n?n:{};var i={};if(i.callback=void 0!==r&&\"function\"==typeof r&&r,i.separator=\"separator\"in n?n.separator:t.csv.defaults.separator,i.delimiter=\"delimiter\"in n?n.delimiter:t.csv.defaults.delimiter,i.headers=\"headers\"in n?n.headers:t.csv.defaults.headers,i.sortOrder=\"sortOrder\"in n?n.sortOrder:\"declare\",i.manualOrder=\"manualOrder\"in n?n.manualOrder:[],i.transform=n.transform,\"string\"==typeof i.manualOrder&&(i.manualOrder=t.csv.toArray(i.manualOrder,i)),void 0!==i.transform){var s,o=e;for(e=[],s=0;s<o.length;s++)e.push(i.transform.call(void 0,o[s]))}var a,l,u,c,h=t.csv.helpers.collectPropertyNames(e);if(\"alpha\"===i.sortOrder&&h.sort(),i.manualOrder.length>0){var d=[].concat(i.manualOrder);let e;for(e=0;e<h.length;e++)d.indexOf(h[e])<0&&d.push(h[e]);h=d}for(i.headers&&(void 0).push(h),a=0;a<e.length;a++){for(u=[],l=0;l<h.length;l++)(c=h[l])in e[a]&&\"function\"!=typeof e[a][c]?u.push(e[a][c]):u.push(\"\");(void 0).push(u)}return t.csv.fromArrays(void 0,n,i.callback)}},t.csvEntry2Array=t.csv.toArray,t.csv2Array=t.csv.toArrays,t.csv2Dictionary=t.csv.toObjects,e.exports&&(e.exports=t.csv)}.call(this)},function(e,t){let n=(e,t)=>{let n=Object.getOwnPropertyDescriptors(t);for(let t in n){let r=n[t];r.value instanceof Function?e[t]=r.value:r.get instanceof Function&&Object.defineProperty(e,t,r)}};window.PennController.ResetPrefix=function(e){if(\"string\"==typeof e){if(window[e])throw\"ERROR: prefix string already used for another JS object\";window[e]={};var t=window[e]}else t=window;n(t,window.PennController.Elements),n(t,window.PennController)}},function(e,t,n){\"use strict\";var r=n(0),i=n(2);r.a.Prerun(()=>{let e=[];function t(t){return t instanceof i.a?e.indexOf(t)<0&&t.addToItems?[t.useLabel||\"unlabeled\",\"PennController\",t]:null:t}if(window.items instanceof Array)for(let t=0;t<window.items.length;t++)if(window.items[t]instanceof Array&&window.items[t].length>2)for(let n=2;n<window.items[t].length;n+=2)e.push(window.items[t][n]);let n=[];for(let i=0;i<r.a.tmpItems.length;i++){let s=r.a.tmpItems[i],o=[];if(s instanceof Object&&s.hasOwnProperty(\"PennTemplate\"))for(let e=0;e<s.PennTemplate.length;e++)o.push(t(s.PennTemplate[e]));else o.push(t(s));for(let t=0;t<o.length;t++)if(o[t]instanceof Array&&o[t].length>2)for(let n=2;n<o[t].length;n+=2)e.push(o[t][n]);n=n.concat(o)}if(window.items instanceof Array)for(let e=0;e<window.items.length;e++)n.indexOf(window.items[e])<0&&n.push(window.items[e]);window.items=n.filter(e=>e instanceof Array&&e.length>2),window.shuffleSequence||(window.conf_shuffleSequence=window.seq(window.anyType))})},function(e,t){window.PennController._AddElementType(\"Audio\",(function(e){this.immediate=function(t,n){\"string\"==typeof t&&void 0===n&&(n=t);let r=!n.match(/^http/i);this.resource=e.resources.fetch(n,(function(e){this.object=new Audio(this.value),this.object.preload=\"auto\",this.object.load(),this.object.readyState>3?e():this.object.addEventListener(\"canplaythrough\",e)}),r),void 0!==t&&\"string\"==typeof t&&0!=t.length||(t=\"Audio\"),this.id=t},this.uponCreation=function(e){this.resource.object.controls=!0,this.audio=this.resource.object,this.hasPlayed=!1,this.disabled=!1,this.resource.object.style=null,this.jQueryElement=$(this.audio),this.jQueryElement.removeClass(),this.jQueryDisable=null,this.playEvents=[],this.endEvents=[],this.pauseEvents=[],this.seekEvents=[],this.bufferEvents=[],this.whatToSave=[],this.resource.object.onplay=()=>{this.playEvents.push([\"play\",this.audio.currentTime,Date.now()])},this.resource.object.onended=()=>{this.hasPlayed=!0,this.endEvents.push([\"end\",this.audio.currentTime,Date.now()])},this.resource.object.onpause=()=>{this.pauseEvents.push([\"pause\",this.audio.currentTime,Date.now()])},this.resource.object.onseeked=()=>{this.seekEvents.push([\"seek\",this.audio.currentTime,Date.now()])},this.resource.object.onwaiting=()=>{this.bufferEvents.push([\"buffer\",this.audio.currentTime,Date.now()])},this.printDisable=e=>{e=Number(e)||.5,this.jQueryDisable instanceof jQuery&&this.jQueryDisable.remove(),this.jQueryDisable=$(\"<div>\").css({position:\"absolute\",display:\"inline-block\",\"background-color\":\"gray\",opacity:e,width:this.jQueryElement.width(),height:this.jQueryElement.height()}),this.jQueryElement.before(this.jQueryDisable),this.jQueryElement.removeAttr(\"controls\")},e()},this.end=function(){if(this.whatToSave&&this.whatToSave.indexOf(\"play\")>-1){this.playEvents.length||e.controllers.running.save(this.type,this.id,\"play\",\"NA\",\"Never\");for(let t in this.playEvents)e.controllers.running.save(this.type,this.id,...this.playEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"end\")>-1){this.endEvents.length||e.controllers.running.save(this.type,this.id,\"end\",\"NA\",\"Never\");for(let t in this.endEvents)e.controllers.running.save(this.type,this.id,...this.endEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"pause\")>-1){this.pauseEvents.length||e.controllers.running.save(this.type,this.id,\"pause\",\"NA\",\"Never\");for(let t in this.pauseEvents)e.controllers.running.save(this.type,this.id,...this.pauseEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"seek\")>-1){this.seekEvents.length||e.controllers.running.save(this.type,this.id,\"seek\",\"NA\",\"Never\");for(let t in this.seekEvents)e.controllers.running.save(this.type,this.id,...this.seekEvents[t])}if(this.bufferEvents)for(let t in this.bufferEvents)e.controllers.running.save(this.type,this.id,...this.bufferEvents[t]);this.resource.object.pause(),this.resource.object.currentTime=0,this.jQueryDisable&&this.jQueryDisable.remove()},this.value=function(){return this.endEvents.length?this.endEvents[this.endEvents.length-1][2]:0},this.actions={play:function(t,n){this.hasOwnProperty(\"audio\")&&this.audio instanceof Audio?(n&&\"once\"==n?this.audio.removeAttribute(\"loop\"):n&&(this.audio.loop=!0),this.audio.play()):e.debug.error(\"No audio to play for element \",this.id),t()},pause:function(e){this.audio.pause(),e()},print:function(t,...n){e.elements.standardCommands.actions.print.apply(this,[()=>{this.disabled&&this.printDisable(),t()},...n])},stop:function(e){this.audio.currentTime=this.audio.duration,e()},wait:function(e,t){if(\"first\"==t&&this.hasPlayed)e();else{let n=!1,r=this.audio.onended;this.audio.onended=function(...i){if(r.apply(this,i),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={disable:function(e,t){this.jQueryElement.addClass(\"PennController-disabled\"),this.jQueryContainer.addClass(\"PennController-disabled\"),this.printDisable(t),this.disabled=t||!0,e()},enable:function(e){this.jQueryDisable instanceof jQuery&&(this.disabled=!1,this.jQueryDisable.remove(),this.jQueryDisable=null,this.jQueryElement.removeClass(\"PennController-disabled\"),this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.attr(\"controls\",!0)),e()},once:function(e){if(this.hasPlayed)this.disabled=!0,this.printDisable();else{let e=this.audio.onended,t=this;this.audio.onended=function(...n){e.apply(this,n),t.disabled=!0,t.printDisable()}}e()},log:function(e,...t){1==t.length&&\"string\"==typeof t[0]?this.whatToSave.push(t[0]):t.length>1?this.whatToSave=this.whatToSave.concat(t):this.whatToSave=[\"play\",\"end\",\"pause\",\"seek\"],e()}},this.test={hasPlayed:function(){return this.hasPlayed},playing:function(){return this.audio.currentTime&&!this.audio.paused}}}))},function(e,t){window.PennController._AddElementType(\"Button\",(function(e){this.immediate=function(e,t){void 0===t&&(t=e,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Button\"),this.id=e),this.initialText=t},this.uponCreation=function(e){this.text=this.initialText,this.jQueryElement=$(\"<button>\").html(this.text),this.clicks=[],this.hasClicked=!1,this.log=!1,this.disabled=!1,this.click=()=>{this.hasClicked=!0,this.clicks.push([\"Click\",\"Click\",Date.now(),\"NULL\"])},this.jQueryElement[0].onclick=()=>this.click(),e()},this.end=function(){if(this.log){this.clicks.length||e.controllers.running.save(this.type,this.id,\"Click\",\"NA\",\"Never\");for(let t in this.clicks)e.controllers.running.save(this.type,this.id,...this.clicks[t])}},this.value=function(){return this.clicks.length?this.clicks[this.clicks.length-1][2]:0},this.actions={click:function(e){this.click(),e()},wait:function(e,t){if(\"first\"==t&&this.hasClicked)e();else{let n=!1,r=this.click;this.click=()=>{if(r.apply(this),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.jQueryElement.attr(\"disabled\",!0),this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r,this.jQueryElement.attr(\"disabled\",r))})}else n=!0,e()}}}},this.settings={callback:function(e,...t){let n=this.click;this.click=async function(){if(!this.disabled)for(let e in t)await t[e]._runPromises();n.apply(this)},e()},log:function(e){this.log=!0,e()},once:function(e){if(this.hasClicked)this.disabled=!0,this.jQueryElement.attr(\"disabled\",!0);else{let e=this.click;this.click=()=>{e.apply(this),this.disabled=!0,this.jQueryElement.attr(\"disabled\",!0)}}e()}},this.test={clicked:function(){return this.hasClicked}}}))},function(e,t){window.PennController._AddElementType(\"Canvas\",(function(e){let t=e=>e.match(/^\\s*\\d+(\\.\\d+)?(px|pt|pc|vw|vh|em|ex|ch|rem|cm|mm|in|vmin|vmax|[%])?\\s*?/);this.immediate=function(n,r,i){if(void 0===n)n=\"Canvas\",this.id=n;else if(void 0===i&&t(String(n))&&t(String(r))){i=r,r=n,n=\"Canvas\";let t=e.controllers.underConstruction;e.controllers.running&&(t=e.controllers.list[e.controllers.running.id]);let s=2;for(;t.elements.hasOwnProperty(\"Canvas\")&&t.elements.Canvas.hasOwnProperty(n);)n+=String(s);this.id=n}this.width=r,this.height=i},this.uponCreation=function(t){this.jQueryElement=$(\"<div>\").css({width:this.width,height:this.height,overflow:\"visible\",position:\"relative\",display:\"flex\",\"flex-direction\":\"column\"}),this.elementCommands=[],this.showElement=(t,n,r,i)=>new Promise(async s=>{await t.print(this.jQueryElement)._runPromises();let o=t._element,a=o.jQueryElement;const l=e.controllers.running;o.jQueryContainer?(e.utils.printAndRefreshUntil.call(o.jQueryContainer,n,r,this.jQueryElement,()=>l!=e.controllers.running),(Number(i)>0||Number(i)>0)&&o.jQueryContainer.css(\"z-index\",i)):(e.utils.printAndRefreshUntil.call(a,n,r,this.jQueryElement,()=>l!=e.controllers.running),(Number(i)>0||Number(i)>0)&&a.css(\"z-index\",i)),o._lastPrint=[n,r,window.PennController.Elements.getCanvas(this.id)],s()}),t()},this.end=function(){this.log&&(this.printTime?e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",this.printTime,\"NULL\"):e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",\"Never\",\"NULL\"))},this.value=function(){return this.elementCommands.length};let n=this;this.actions={color:function(e,t){this.jQueryElement.css(\"background-color\",t),e()},print:async function(t,...n){let r=this;e.elements.standardCommands.actions.print.apply(this,[async function(){for(let e in r.elementCommands)await r.showElement(...r.elementCommands[e]);t()},...n])},remove:async function(t,...r){r.length?n.settings.remove.call(this,t,...r):e.elements.standardCommands.actions.remove.call(this,t)}},this.settings={add:function(t,n,r,i,s){i.hasOwnProperty(\"_element\")&&i._element.jQueryElement instanceof jQuery?(this.elementCommands.push([i,n,r,s]),this.jQueryElement.parent().length?this.showElement(i,n,r,s).then(t):t()):(e.debug.error(\"Invalid element referenced to add to Canvas \"+this.id),t())},remove:async function(t,n){if(n.hasOwnProperty(\"_element\")){let t=this.elementCommands.map(e=>e[0]._element).indexOf(n._element);t>-1?(this.elementCommands.splice(t,1),await n.remove()._runPromises()):e.debug.error(\"Element referenced to remove from canvas not found in Canvas \"+this.id)}else e.debug.error(\"Invalid element referenced to remove from Canvas \"+this.id);t()}}}))},function(e,t){window.PennController._AddElementType(\"Controller\",(function(e){this.immediate=function(e,t,n){void 0===n&&(\"string\"==typeof t?n={}:(n=t||{},t=e)),this.id=e,this.controller=t,this.options=n},this.uponCreation=function(t){this.jQueryElement=$(\"<div>\"),this.log=!1,this.results=[],this.finishedCallback=()=>this.done=!0;let n=this;this.options._finishedCallback=function(e){n.done||(n.results.push([Date.now(),e]),addSafeBindMethodPair(\"PennController\"),n.finishedCallback(),this.destroy())},this.options._cssPrefix=this.controller+\"-\",this.options._utils=e.controllers.running.utils,this.options._utilsClass=e.controllers.running.options._utilsClass,this.options._controllerDefaults=e.controllers.running.options._controllerDefaults;let r=Object.getOwnPropertyNames($.ui).filter(e=>$.ui[e]instanceof Function&&$.ui[e]._ibex_options);if(r.indexOf(this.controller)>=0)addSafeBindMethodPair(this.controller),this.jQueryElement[this.controller](this.options);else{let t={score:1,controllerName:\"\"};for(let n=0;n<r.length;n++){let i=e.utils.levensthein(this.controller,r[n])/this.controller.length;i<t.score&&(t.score=i,t.controllerName=r[n])}t.score<.5&&(add=\" Did you mean to type <strong>\"+t.controllerName+\"</strong>?\"),e.debug.error(\"Controller &lsquo;\"+this.controller+\"&rsquo; not found.\"+add)}t()},this.end=function(){if(this.log)for(let t=0;t<this.results.length;t++){let n=this.results[t][0],r=this.results[t][1];for(let t=0;t<r.length;t++){let i=r[t],s=\"Controller-\"+this.controller,o=this.id,a=\"NULL\",l=\"NULL\";i.length>0&&(a=i[0][1]),i.length>1&&(l=i[1][1]);for(let t=2;t<i.length;t++)e.controllers.running.controller.appendResultLine.push([i[t][0],i[t][1]]);e.controllers.running.save(s,o,a,l,n,\"Any addtional parameters were appended as additional columns\");for(let t=2;t<i.length;t++)e.controllers.running.controller.appendResultLine.pop()}}},this.value=function(){return this.controller},this.actions={wait:function(e,t){if(\"first\"==t&&this.done)e();else{let n=!1,r=this.finishedCallback;this.finishedCallback=()=>{r.apply(this),n||(t instanceof Object&&t._runPromises&&t.success?t._runPromises().then(t=>{\"success\"==t&&(n=!0,e())}):(n=!0,e()))}}}}}))},function(e,t){window.PennController._AddElementType(\"DropDown\",(function(e){this.immediate=function(e,t){void 0===t&&(t=e,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"DropDown\"),this.id=e),this.id=e,this.initialText=t},this.uponCreation=function(e){this.options=[],this.selections=[],this.change=()=>{if(this.jQueryElement.attr(\"disabled\"))return;let e=this.jQueryElement.find(\"option:selected\").val(),t=0;for(let n=0;n<this.options.length;n++)this.options[n]==e&&(t=n);this.selections.push([\"Selected\",e,Date.now(),t])},this.jQueryElement=$(\"<select>\").append($(\"<option>\").html(this.initialText).attr({value:this.initialText,selected:!0,disabled:!0,hidden:!0})).change(()=>this.change()),e()},this.value=function(){let e=this.selections;return e instanceof Array&&e.length>0?e[e.length-1][1]:\"\"},this.end=function(){if(this.log)if(this.selections.length)if(\"string\"==typeof this.log&&this.log.match(/^\\W*first\\W*$/i))e.controllers.running.save(this.type,this.id,...this.selections[0]);else if(\"string\"==typeof this.log&&this.log.match(/^\\W*all\\W*$/i))for(let t=0;t<this.selections.length;t++)e.controllers.running.save(this.type,this.id,...this.selections[t]);else e.controllers.running.save(this.type,this.id,...this.selections[this.selections.length-1]);else e.controllers.running.save(this.type,this.id,\"Selected\",this.jQueryElement.find(\"option:selected\").val(),\"Never\",\"Default\")};let t=this;this.actions={shuffle:function(e,t){if(t){let e=this.jQueryElement.find(\"option:selected\");t=!!e.length&&e.val()}fisherYates(this.options),this.jQueryElement.empty(),this.jQueryElement.append($(\"<option>\").html(this.initialText).attr({value:this.initialText,selected:!0,disabled:!0,hidden:!0}));for(let e=0;e<this.options.length;e++)this.jQueryElement.append($(\"<option>\").html(this.options[e]).attr(\"value\",this.options[e]));t&&this.jQueryElement.find(\"option[value='\"+t+\"']\").attr(\"selected\",!0),e()},remove:function(n,...r){r.length?t.settings.remove.call(this,n,...r):e.elements.standardCommands.actions.remove.call(this,n)},select:function(e,t){this.options.indexOf(t)>-1?(this.jQueryElement.find(\"option\").removeAttr(\"selected\"),this.jQueryElement.find(\"option[value='\"+t+\"']\").attr(\"selected\",!0)):Number(t)>-1&&Number(t)<this.options.length&&(this.jQueryElement.find(\"option\").removeAttr(\"selected\"),this.jQueryElement.find(\"option[value='\"+this.options[Number(t)]+\"']\").attr(\"selected\",!0)),e()},wait:function(e,t){if(\"first\"==t&&this.selections.length)e();else{let n=!1,r=this.change;this.change=()=>{if(r.call(this),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.jQueryElement.attr(\"disabled\",!0),this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r,this.jQueryElement.attr(\"disabled\",r))})}else n=!0,e()}}}},this.settings={add:function(e,...t){for(let e=0;e<t.length;e++)t[e]=String(t[e]),this.options.indexOf(t[e])<0&&(this.options.push(t[e]),this.jQueryElement.append($(\"<option>\").html(t[e]).attr(\"value\",t[e])));e()},callback:function(e,...t){let n=this.change;this.change=async function(){let e=this.jQueryElement.attr(\"disabled\");if(await n.apply(this),!e)for(let e=0;e<t.length;e++)t[e]._runPromises?await t[e]._runPromises():t[e]instanceof Function&&await t[e]()},e()},once:function(e){let t=this.change;this.change=()=>{t.apply(this),this.jQueryElement.attr(\"disabled\",!0)},e()},remove:function(e,t){let n=this.options.indexOf(t);n>-1&&(this.jQueryElement.find(\"option[value='\"+t+\"']\").remove(),this.options.splice(n,1)),e()}},this.test={selected:function(e){let t=this.jQueryElement.find(\"option:selected\");return!!this.selections.length&&(void 0===e||(e==t.val()||(Number(e)>-1&&Number(e)<this.options.length?t.val()==this.options[Number(e)]:void 0)))}}}))},function(e,t){window.PennController._AddElementType(\"EyeTracker\",(function(e){let t,n,r,i=!1,s=!1,o=[[],[]],a=!1,l=null,u=\"\";function c(e){for(var t,n={},r=(e+\"\").split(\"\"),i=[],s=r[0],o=256,a=1;a<r.length;a++)null!=n[s+(t=r[a])]?s+=t:(i.push(s.length>1?n[s]:s.charCodeAt(0)),n[s+t]=o,o++,s=t);i.push(s.length>1?n[s]:s.charCodeAt(0));for(a=0;a<i.length;a++)i[a]=String.fromCharCode(i[a]);return i.join(\"\")}function h(){if(window.webgazer&&t)return window.webgazer;e.debug.error(\"Tried to access the EyeTracker before it was set.\")}function d(e){e=!(!1===e),h().showFaceFeedbackBox(e),h().showFaceOverlay(e),h().showPredictionPoints(e),h().showVideo(e),$(\"#webgazerGazeDot\").css(\"pointer-events\",\"none\")}function f(e){let t=$(window).height(),n=$(window).width(),r=e[0],i=e[1],s=n/2,o=t/2,a=new Array(50);!function(e,t,n,r,i,s){for(x=0;x<50;x++){let o=i-n[x],a=s-r[x],l=Math.sqrt(o*o+a*a),u=t/2,c=0;l<=u&&l>-1?c=100-l/u*100:l>u?c=0:l>-1&&(c=100),e[x]=c}}(a,t,r,i,s,o);let l=function(e){let t=0;for(x=0;x<50;x++)t+=e[x];return t/=50,t}(a);return Math.round(l)}window.PennController.EyeTrackerURL=e=>u=e;const p=(e,t)=>{s&&(o[0].push(e.x),o[1].push(e.y),o[0].length>50&&o[0].shift(),o[1].length>50&&o[1].shift()),n&&n.look(e,t)};let m=function(){r=e.utils.guidGenerator(),i=!0;let n=document.createElement(\"script\");n.setAttribute(\"src\",\"https://expt.pcibex.net/static/webgazer/webgazer.min.js\"),document.head.appendChild(n);let s=()=>{window.webgazer?function(){o=[[],[]],t=window.webgazer.setRegression(\"weightedRidge\").setTracker(\"TFFacemesh\").setGazeListener((e,t)=>{null!=e&&(e instanceof Promise?e.then(e=>p(e,t)):e.x&&p(e,t))});let e=document.addEventListener;document.addEventListener=function(...t){\"mousemove\"!=t[0]||\"function\"!=typeof t[1]||l||(l=t[1]),e.apply(document,t)},t.params.showVideoPreview=!0,t.begin(),window.webgazer.showPredictionPoints(!0),d(!1)}():setTimeout(s,100)};void 0===t&&s()};this.immediate=function(e,t,n){i||m(),\"number\"==typeof e&&(void 0===t||\"number\"==typeof t&&void 0===n)&&(n=t,t=e,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"EyeTracker\"),this.id=e),this.span=Number(t),this.proportion=n},this.uponCreation=function(t){let n;this.enabled=!1,this.elements=[],this.counts={times:[]},this.callback=null,this.log=!1,this.trainOnMouseMove=!0,this.look=function(t,r){if(this.enabled&&null!=t&&void 0!==t.x&&void 0!==t.y){this.elements.map(e=>e.jQueryElement.removeClass(\"PennController-eyetracked\"));for(let n=0;n<this.elements.length;n++){const r=this.elements[n].jQueryElement,i=e.utils.overToScale.call(r,t.x,t.y);if(i?this.counts[\"_\"+this.elements[n].id].push(1):this.counts[\"_\"+this.elements[n].id].push(0),isNaN(this.span))i&&(r.addClass(\"PennController-eyetracked\"),this.callback&&this.callback instanceof Function&&this.callback.call(this.elements[n],t.x,t.y));else{this.hasOwnProperty(\"gazes\")&&this.elements.length==this.gazes.length||(this.gazes=this.elements.map(()=>[])),i?this.gazes[n].push(!0):this.gazes[n].push(!1),this.gazes[n].length>this.span&&this.gazes[n].shift();let e=Number(this.proportion);isNaN(e)&&(e=this.span/100),e<=0?e=.01:e>=1&&(e=.99),this.gazes[n].filter(e=>e).length/this.gazes[n].length>e&&r.addClass(\"PennController-eyetracked\"),this.callback&&this.callback instanceof Function&&this.callback.call(this.elements[n],t.x,t.y)}}void 0===n&&(n=r),this.counts.times.push(Math.round(r-n)),n=r}},t()},this.end=function(){if(d(!1),h().removeMouseEventListeners(),this.enabled=!1,n=void 0,this.log&&this.counts.times.length){let t=u,n=window.location.href.replace(/[^/]+$/,\"\").replace(/[^\\w\\d]/g,\"\").replace(/[\\.]{2,}/g,\"\");e.debug.log(\"expname\",n);let i=(i,s)=>{let o={experiment:n,id:r,pcnumber:e.controllers.running.id,parameter:i,value:s},a=\"json=\"+JSON.stringify(o);var l=new XMLHttpRequest;l.open(\"POST\",t,!0),l.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),l.onreadystatechange=()=>{200!=l.status&&e.controllers.running.save(this.type,this.id,\"Upload\",\"Error\",Date.now(),i)},l.send(a)};e.debug.log(\"about to send times\",this.counts),i(\"times\",c(this.counts.times.join(\".\"))),delete this.counts.times;let s=Object.keys(this.counts);for(let e=0;e<s.length;e++)i(s[e],c(this.counts[s[e]].join(\".\")));e.controllers.running.save(this.type,this.id,\"Filename\",n+\"/\"+r,Date.now(),\"NULL\")}delete this.counts},this.value=function(){return\"EyeTracker\"},this.actions={calibrate(t,n,r){Number(r)>0||(r=-1),function t(n,r,i,u){h().addMouseEventListeners(),r.trainOnMouseMove||document.removeEventListener(\"mousemove\",l,!0),e.debug.log(\"Starting calibration\"),o=[[],[]];let c=$(\"<div>\").css({position:\"absolute\",left:0,top:0,width:\"100vw\",height:\"100vh\",\"background-color\":\"white\",\"text-align\":\"center\"}),p=()=>{c.find(\"button\").remove(),c.append($(\"<button>+</button>\").css({position:\"absolute\",top:\"calc(50vh - 1.25vw)\",bottom:\"48.75vw\",width:\"2.5vw\",height:\"2.5vw\"}).click((function(){$(this).attr(\"disabled\",!0),s=!0,setTimeout(()=>{console.log(\"Past 50\",o);let l=f(o);r._precision=l,e.debug.log(\"Tracker's precision: \"+l),s=!1,o=[[],[]],e.controllers.running.save(r.type,r.id,\"calibration\",l,Date.now(),1==u?\"Last attempt\":\"NULL\"),i&&Number(i)>0&&l<i&&1!=u?(a=!1,$(this).remove(),d(!0),c.append($(\"<div>\").html(\"<p>It looks like we were not able to precisely calibrate the tracker:</p><p>You calibration score is \"+l+\" and you need at least \"+i+\"</p><p>Here are a few tips to help you better self-calibrate:</p><p>- try adjusting your webcam based on the video in the top-left corner.</p><p>- if you use an external webcam, make sure it is fixed to the top of your screen.</p><p>- try raising your screen so as to align your webcam with your eyes</p><p><img style='display: inline-block; height: 75px;' src='http://files.lab.florianschwarz.net/ibexfiles/Pictures/lookdown.png'><img style='display: inline-block; height: 75px;' src='http://files.lab.florianschwarz.net/ibexfiles/Pictures/lookstraight.png'></p><p>- make sure no one is standing next to you.</p><p>- make sure you are not wearing eyeglasses reflecting ambiant light.</p><p>- make sure the algorithm detects your face (it should appear green).</p><p>- make sure there is enough ambient light for face-detection.</p><p>- make sure you follow your mouse pointer with your eyes.</p><p>- make sure you keep looking at the middle button until the end.</p>\").css({margin:\"auto\",\"margin-top\":\"5em\"})).append($(\"<button>Retry</button>\").click((function(){c.remove(),window.webgazer.reg.RidgeWeightedReg.call(window.webgazer.getRegression()[0]),t(n,r,i,u-1)})).css(\"margin\",\"auto\"))):(a=!0,c.remove(),d(!1),h().removeMouseEventListeners(),n())},2e3)})))};if(a)p();else{let e=8,t=function(){$(this).attr(\"disabled\",!0),e--,e<=0&&p()};c.append($(\"<button>Start calibration</button>\").css({position:\"absolute\",top:\"calc(50vh - 2.5vw)\",left:\"47.5vw\",width:\"5vw\",height:\"5vw\"}).click((function(){$(this).remove(),d(!1),c.append($(\"<button>+</button>\").css({position:\"absolute\",top:0,left:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",top:0,right:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",bottom:0,left:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",bottom:0,right:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",top:\"calc(50vh - 1.25vw)\",left:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",top:0,left:\"48.75vw\",width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",top:\"calc(50vh - 1.25vw)\",right:0,width:\"2.5vw\",height:\"2.5vw\"}).click(t)).append($(\"<button>+</button>\").css({position:\"absolute\",bottom:0,left:\"48.75vw\",width:\"2.5vw\",height:\"2.5vw\"}).click(t))}))),d(!0)}$(\"#webgazerVideoFeed\").before(c)}(t,this,n,r)},hideFeedback:function(e){d(!1),e()},start:function(e){this.enabled=!0,n=this,e()},stop:function(e){this.enabled=!1,n=void 0,e()},stopTraining:function(e){h().removeMouseEventListeners(),h().showPredictionPoints(!1),e()},showFeedback:function(e){d(),e()},train:function(e,t){h().addMouseEventListeners(),this.trainOnMouseMove||document.removeEventListener(\"mousemove\",l,!0),h().showPredictionPoints(t),e()}},this.settings={add:function(e,...t){for(let e=0;e<t.length;e++){let n=t[e];n&&n._element&&this.elements.indexOf(n._element)<0&&(this.elements.push(n._element),this.counts[\"_\"+n._element.id]=[])}e()},callback:function(e,t){t instanceof Function&&(this.callback=t),e()},log:function(e){this.log=!0,e()},trainOnMouseMove:function(e,t){this.trainOnMouseMove=void 0===t||t,this.trainOnMouseMove||document.removeEventListener(\"mousemove\",l,!0),e()}},this.test={calibrated:function(){return a},ready:function(){return window.webgazer&&window.webgazer.isReady()},score:function(e){const t=this._precision;return e instanceof Function?e.call(this,t):isNaN(Number(e))?a:t>=Number(e)}}}))},function(e,t){window.PennController._AddElementType(\"Function\",(function(e){this.immediate=function(e,t){\"function\"==typeof e&&(t=e,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Function\"),this.id=e),this.function=t},this.uponCreation=function(t){e.controllers.running.hasOwnProperty(\"internalVariables\")||(e.controllers.running.internalVariables={}),t()},this.end=function(){e.controllers.running.internalVariables=void 0},this.value=function(){return this.function.apply(e.controllers.running.internalVariables)},this.actions={call:async function(t,...n){await this.function.apply(e.controllers.running.internalVariables,n),t()}},this.test={is:function(t){let n=this.function.apply(e.controllers.running.internalVariables);return void 0===t?!n:n==t}}}))},function(e,t){window.PennController._AddElementType(\"Html\",(function(e){function t(e,t){var n=$(\"label.error[for=__ALL_FIELDS__]\");if(n.length>0)n.addClass(\"Form-error-text\").text(t);else{var r=$(\"label.error[for=\"+escape(e)+\"]\");r.length>0?r.addClass(\"Form-error-text\").text(t):alert(t)}}function n(){for(var e=this.jQueryElement[0],t=$(e).find(\"input[type=text]\"),n=$(e).find(\"textarea\"),r=0;r<n.length;++r)t.push(n[r]);for(r=0;r<t.length;++r){var i=$(t[r]);if(i.hasClass(\"obligatory\")&&(!i.attr(\"value\")||i.attr(\"value\").match(/^\\s*$/)))return!1}var s=$(e).find(\"input[type=checkbox]\");for(r=0;r<s.length;++r){var o=$(s[r]);if(!o.attr(\"checked\")&&o.hasClass(\"obligatory\"))return!1}var a=$(e).find(\"input[type=radio]\"),l={};for(r=0;r<a.length;++r){var u=$(a[r]);u.attr(\"name\")&&(l[u.attr(\"name\")]||(l[u.attr(\"name\")]=[]),l[u.attr(\"name\")].push(u))}for(var c in l){var h=!1,d=!1;for(r=0;r<l[c].length;++r)l[c][r].hasClass(\"obligatory\")&&(h=!0),l[c][r].attr(\"checked\")&&(d=!0);if(h&&!d)return!1}return!0}this.immediate=function(e,t){void 0===t&&(t=e,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Html\"),this.id=e),this.html=t},this.uponCreation=function(e){CHUNKS_DICT.hasOwnProperty(this.html)?this.jQueryElement=$(\"<div>\").html(htmlCodeToDOM({include:this.html})):this.jQueryElement=$(\"<div>\").append(this.html),this.log=!1,this.checkboxWarningMessage=\"You must check the %name% checkbox to continue.\",this.inputWarningMessage=\"The ‘%name%’ field is obligatory.\",this.radioWarningMessage=\"You must select an option for ‘%name%’.\",e()},this.end=function(){if(this.log){for(var t=this.jQueryElement[0],n=$(t).find(\"input[type=text]\"),r=$(t).find(\"textarea\"),i=0;i<r.length;++i)n.push(r[i]);for(i=0;i<n.length;++i){var s=$(n[i]);e.controllers.running.save(this.type,this.id,csv_url_encode(s.attr(\"name\")),csv_url_encode(s.attr(\"value\")),Date.now(),\"text input\")}var o=$(t).find(\"input[type=checkbox]\");for(i=0;i<o.length;++i){var a=$(o[i]);e.controllers.running.save(this.type,this.id,a.attr(\"name\"),a.attr(\"checked\")?\"checked\":\"unchecked\",Date.now(),\"checkbox\")}var l=$(t).find(\"input[type=radio]\"),u={};for(i=0;i<l.length;++i){var c=$(l[i]);c.attr(\"name\")&&(u[c.attr(\"name\")]||(u[c.attr(\"name\")]=[]),u[c.attr(\"name\")].push(c))}for(var h in u){var d,f=!1;for(i=0;i<u[h].length;++i)u[h][i].attr(\"checked\")&&(f=!0,d=i);f&&e.controllers.running.save(this.type,this.id,u[h][0].attr(\"name\"),u[h][d].attr(\"value\"),Date.now(),\"radio button\")}}},this.value=function(){return n.apply(this)},this.actions={warn:function(e){for(var n=this.jQueryElement[0],r=$(n).find(\"input[type=text]\"),i=$(n).find(\"textarea\"),s=0;s<i.length;++s)r.push(i[s]);for(s=0;s<r.length;++s){var o=$(r[s]);!o.hasClass(\"obligatory\")||o.attr(\"value\")&&!o.attr(\"value\").match(/^\\s*$/)||t(o.attr(\"name\"),this.inputWarningMessage.replace(/%name%/gi,o.attr(\"name\")))}var a=$(n).find(\"input[type=checkbox]\");for(s=0;s<a.length;++s){var l=$(a[s]);!l.attr(\"checked\")&&l.hasClass(\"obligatory\")&&t(l.attr(\"name\"),this.checkboxWarningMessage.replace(/%name%/gi,l.attr(\"name\")))}var u=$(n).find(\"input[type=radio]\"),c={};for(s=0;s<u.length;++s){var h=$(u[s]);h.attr(\"name\")&&(c[h.attr(\"name\")]||(c[h.attr(\"name\")]=[]),c[h.attr(\"name\")].push(h))}for(var d in c){var f=!1,p=!1;for(s=0;s<c[d].length;++s)c[d][s].hasClass(\"obligatory\")&&(f=!0),c[d][s].attr(\"checked\")&&(p=!0);f&&!p&&t(c[d][0].attr(\"name\"),this.radioWarningMessage.replace(/%name%/gi,c[d][0].attr(\"name\")))}e()}},this.settings={checkboxWarning:function(e,t){this.checkboxWarningMessage=t,e()},inputWarning:function(e,t){this.inputWarningMessage=t,e()},log:function(e){this.log=!0,e()},radioWarning:function(e,t){this.radioWarningMessage=t,e()}},this.test={complete:function(){return n.apply(this)}}}))},function(e,t){window.PennController._AddElementType(\"Image\",(function(e){this.immediate=function(t,n){\"string\"==typeof t&&void 0===n&&(n=t),this.id=t;let r=!n.match(/^http/i);this.resource=e.resources.fetch(n,(function(e){this.object=new Image,this.object.onload=e,this.object.src=this.value}),r)},this.uponCreation=function(e){this.image=this.resource.object,this.image&&(this.image.style=null),this.jQueryElement=$(this.image),this.jQueryElement.removeClass(),e()},this.end=function(){this.log&&(this.printTime?e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",this.printTime,\"NULL\"):e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",\"Never\",\"NULL\"))},this.value=function(){return this.jQueryElement.parent().length}}))},function(e,t){window.PennController._AddElementType(\"Key\",(function(e){this.immediate=function(t,...n){n.length<1&&(n=[t],void 0!==t&&\"string\"==typeof t&&0!=t.length||(t=\"Key\"),this.id=t),this.keys=[],this.specialKeys=[];for(let r=0;r<n.length;r++)Number(n[r])>0?this.keys.push(String.fromCharCode(n[r])):\"string\"!=typeof n[r]?e.debug.error(\"Invalid key(s) passed to new Key &quot;\"+t+\"&quot; (should be a string or a key code number)\",n[r]):n[r].isSpecialKey()||n[r].replace(/^(Left|Right)/i,\"\").isSpecialKey()?this.specialKeys.push(n[r].toUpperCase()):n[r].length&&this.keys.push(n[r].toUpperCase())},this.uponCreation=function(t){this.pressed=[],this.pressedWait=[],this.log=!1,this.enabled=!0,e.events.keypress(e=>{if(!this.enabled)return;let t=e.key.isSpecialKey(),n=e.key.toUpperCase(),r={0:\"\",1:\"LEFT\",2:\"RIGHT\"};(0==this.keys.length&&0==this.specialKeys.length||t&&this.specialKeys.filter(t=>t==n||t===r[e.location]+n).length||!t&&this.keys.filter(e=>e.indexOf(n)>-1).length)&&this.press(e.key)}),this.press=e=>{this.pressed.push([\"PressedKey\",e.toUpperCase(),Date.now(),\"NULL\"])},t()},this.end=function(){if(this.log&&this.log instanceof Array)if(0==this.pressed.length)e.controllers.running.save(this.type,this.id,\"Key\",\"NA\",\"Never\",\"NULL\");else if(this.log.indexOf(\"all\")>-1)for(let t in this.pressed)e.controllers.running.save(this.type,this.id,...this.pressed[t]);else if(this.log.indexOf(\"wait\")>-1){let t=!1;for(let n in this.pressed)\"Wait success\"==this.pressed[n][3]&&(e.controllers.running.save(this.type,this.id,...this.pressed[n]),t=!0);t||e.controllers.running.save(this.type,this.id,\"Key\",\"NA\",\"Never\",\"(failed keypresses happened)\")}else 1==this.pressed.length?e.controllers.running.save(this.type,this.id,...this.pressed[0]):(this.log.indexOf(\"first\")>-1&&e.controllers.running.save(this.type,this.id,...this.pressed[0]),this.log.indexOf(\"last\")>-1&&e.controllers.running.save(this.type,this.id,...this.pressed[this.pressed.length-1]))},this.value=function(){return this.pressed.length?this.pressed[this.pressed.length-1][1]:\"\"},this.actions={wait:function(e,t){if(\"first\"==t&&this.pressed.length)e();else{let n=!1,r=this.press,i=document.activeElement;for(;i;)i.disabled?(i.blur(),i=null):i=i.parentElement;this.press=i=>{if(r.apply(this,[i]),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.enabled;this.enabled=0,t._runPromises().then(t=>{\"success\"==t?(this.pressed[this.pressed.length-1][3]=\"Wait success\",n=!0,e()):this.pressed[this.pressed.length-1][3]=\"Wait failure\",0===this.enabled&&(this.enabled=r)})}else this.pressed[this.pressed.length-1][3]=\"Wait success\",n=!0,e()}}}},this.settings={callback:function(e,...t){let n=this.press;this.press=async function(e){if(n.apply(this,[e]),this.enabled)for(let e in t)await t[e]._runPromises()},e()},disable:function(e){this.enabled=!1,e()},enable:function(e){this.enabled=!0,e()},log:function(e,...t){t.length?this.log=t:this.log=[\"wait\"],e()}},this.test={pressed:function(e,t){for(let n in this.pressed){let r=this.pressed[n][1];if(Number(e)>0&&r.toUpperCase()==String.fromCharCode(e).toUpperCase())return!0;if(\"string\"==typeof e&&e.toUpperCase()==r.toUpperCase())return!0;if(void 0===e)return!0;if(t)return!1}return!1}}}))},function(e,t){window.PennController._AddElementType(\"MouseTracker\",(function(e){let t,n;this.immediate=function(e){void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"MouseTracker\"),this.id=e,$(document).mousemove(e=>{t=e.clientX,n=e.clientY,this.move&&this.move instanceof Function&&this.enabled&&this.move(e)}),$(document).click(e=>{this.click&&this.click instanceof Function&&this.enabled&&this.click(e)})},this.uponCreation=function(e){this.coordinates=[],this.enabled=!1,this.callbacks=[],this.clickCallbacks=[],this.currentStream=[],this.log=[],this.clicks=[];let r=this;this.click=async e=>{if(this.enabled){this.clicks.push([Date.now(),e.clientX,e.clientY]);for(let t=0;t<this.clickCallbacks.length;t++){let n=this.clickCallbacks[t];n instanceof Function?await n.apply(this,[e.clientX,e.clientY]):n._runPromises&&n._runPromises instanceof Function&&await n._runPromises(e.clientX,e.clientY)}}},this.move=async function(){if(r.enabled&&(r.currentStream.push([Date.now(),t,n]),r.callbacks.length))for(let e=0;e<r.callbacks.length;e++)r.callbacks[e]instanceof Function?await r.callbacks[e].apply(this,[t,n]):r.callbacks[e]._runPromises&&r.callbacks[e]._runPromises instanceof Function&&await r.callbacks[e]._runPromises(t,n)},this.finishStream=()=>{if(this.currentStream.length>1){let e=this.currentStream[0][1],t=this.currentStream[0][2],n=this.currentStream[0][0];void 0===e&&(e=this.currentStream[1][1]),void 0===t&&(t=this.currentStream[1][2]);let r=\"x\"+e+\"y\"+t+\"w\"+this.currentStream[0][3]+\"h\"+this.currentStream[0][4];for(let i=1;i<this.currentStream.length;i++){let s=this.currentStream[i][1]-e,o=this.currentStream[i][2]-t;r+=\"t\"+(this.currentStream[i][0]-n),r+=(s>=0?\"+\":\"\")+s,r+=(o>=0?\"+\":\"\")+o,e=this.currentStream[i][1],t=this.currentStream[i][2],n=this.currentStream[i][0]}let i=\"NULL\";window.innerWidth==this.currentStream[0][3]&&window.innerHeight==this.currentStream[0][4]||(i=\"Size of window changed to \"+window.innerWidth+\" * \"+window.innerHeight),this.coordinates.push([r,this.currentStream[0][0],i])}this.currentStream=[]},e()},this.end=function(){this.enabled=!1,this.finishStream&&this.finishStream instanceof Function&&this.finishStream(),this.log.map(t=>{\"string\"==typeof t&&(t.match(/move/i)?this.coordinates.map(t=>e.controllers.running.save(this.type,this.id,\"Move\",...t)):t.match(/click/i)&&this.clicks.map(t=>e.controllers.running.save(this.type,this.id,\"Click\",t[1]+\":\"+t[2],t[0],\"NULL\")))})},this.value=function(){return t&&n?t+\"-\"+n:\"NA-NA\"},this.actions={start:function(e){this.currentStream=[[Date.now(),t,n,window.innerWidth,window.innerHeight]],this.enabled=!0,e()},stop:function(e){this.enabled=!1,this.finishStream(),e()}},this.settings={callback:function(e,...t){0!=t.length&&(\"string\"==typeof t[0]&&t[0].match(/click/i)?(t.shift(),this.clickCallbacks=this.clickCallbacks.concat(t)):this.callbacks=this.callbacks.concat(t),e())},log:function(e,...t){console.log(\"log what?\",t),t.length?this.log=t:this.log=[\"clicks\",\"movements\"],e()}},this.test={over:function(r){return r instanceof jQuery?e.utils.overToScale.call(r,t,n):!!(r._element&&r._element.hasOwnProperty(\"jQueryElement\")&&r._element.jQueryElement instanceof jQuery)&&e.utils.overToScale.call(r._element.jQueryElement,t,n)}}}))},function(e,t){window.PennController._AddElementType(\"Palette\",(function(e){this.immediate=function(e,t){void 0===t&&(t=e),this.mode=t||\"background\",void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Palette\"),this.id=e},this.uponCreation=function(e){this.currentColor=null,this.enabled=!0,this.elements=[],this.colors=[],this.brushes=[],this.log=!1,this.select=e=>{if(!this.enabled||!this.currentColor)return;let t=this.elements.map(e=>e[0]).indexOf(e);if(t<0)return;this.elements[t][1]=this.currentColor;let n=e.jQueryElement;this.brushes.push([e.id,this.currentColor,Date.now()]),\"background\"==this.mode?n.css(\"background-color\",this.currentColor):(n._tinter&&n._tinter instanceof jQuery&&n._tinter.remove(),n._tinter=$(\"<div>\").css({display:\"block\",position:\"absolute\",width:n.width(),height:n.height(),\"margin-top\":-1*n.width(),background:this.elements[t][1],opacity:.5}),n.before(n._tinter))},e()},this.end=function(){if(this.enabled=!1,$(\"#bod\").css(\"cursor\",\"default\"),this.log){if(\"all\"==this.log)for(let t=0;t<this.brushes.length;t++)e.controllers.running.save(this.type,this.id,this.brushes[t][0],this.brushes[t][1],this.brushes[t][2],\"NULL\");for(let t=0;t<this.elements.length;t++)e.controllers.running.save(this.type,this.id,this.elements[t][0].id,this.elements[t][1],\"Final\",\"NULL\")}},this.value=function(){return this.brushes.length},this.actions={brush:function(e,t,n){if(t._element){let e=this.currentColor;this.currentColor=n,this.select(t._element),this.currentColor=e}e()},clear:function(e){for(let e in this.elements)\"background\"==this.mode?this.elements[e][0].jQueryElement.css(\"background-color\",\"transparent\"):this.elements[e].jQueryElement._tinter&&this.elements[e][0].jQueryElement._tinter.remove(),this.elements[e][1]=null;e()},unselect:function(e){$(\".PennController-\"+this.type+\"-palette-selected\").removeClass(\"PennController-\"+this.type+\"-palette-selected\"),$(\"#bod\").css(\"cursor\",\"default\"),this.currentColor=null,e()},wait:function(e,t){if(\"first\"==t&&this.brushes.length)e();else{let n=!1,r=this.select;this.select=i=>{let s=r.apply(this,[i]);n||!this.enabled&&!s||(t instanceof Object&&t._runPromises&&t.success?t._runPromises().then(t=>{\"success\"==t&&(n=!0,e())}):(n=!0,e()))}}}},this.settings={addColor:function(t,n,...r){this.colors.indexOf(n)<0&&this.colors.push(n);let i=[],s=()=>{this.colors.indexOf(n)<0||(this.currentColor=n,$(\".PennController-\"+this.type+\"-palette-selected\").removeClass(\"PennController-\"+this.type+\"-palette-selected\"),i.map(e=>e.jQueryElement.addClass(\"PennController-\"+this.type+\"-palette-selected\")),$(\"#bod\").css(\"cursor\",\"crosshair\"))};for(let t in r){let n=r[t];\"string\"==typeof n?e.events.keypress(e=>{n.toUpperCase().indexOf(String.fromCharCode(e.which).toUpperCase())>-1?s():27==e.which&&($(\".PennController-\"+this.type+\"-palette-selected\").removeClass(\"PennController-\"+this.type+\"-palette-selected\"),$(\"#bod\").css(\"cursor\",\"default\"),this.currentColor=null)}):n._element&&n._element.jQueryElement&&(n._element.jQueryElement.bind(\"click\",s),n._element.jQueryElement.addClass(\"PennController-\"+this.type+\"-palette\"),n._element.jQueryElement.addClass(\"PennController-\"+this.id+\"-palette\"),i.push(n._element))}t()},addElement:function(e,...t){for(let e in t){let n=t[e];n._element&&n._element.jQueryElement&&(n._element.jQueryElement.bind(\"click\",()=>{this.select(n._element)}),this.elements.map(e=>e[0]).indexOf(n._element)<0&&this.elements.push([n._element,null]))}e()},callback:function(e,...t){let n=this.select;this.select=async function(e){if(n.apply(this,[e]),this.enabled)for(let e in t)await t[e]._runPromises()},e()},enable:function(e){this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.removeClass(\"PennController-disabled\"),this.enabled=!0,e()},disable:function(e){this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),this.enabled=!1,e()},log:function(e,t){this.log=t||\"all\",e()},once:function(e){if(this.brushes.length)this.enabled=!1,$(\".PennController-\"+this.type+\"-palette-selected\").removeClass(\"PennController-\"+this.type+\"-palette-selected\"),$(\"#bod\").css(\"cursor\",\"default\"),this.currentColor=null;else{let e=this.select;this.select=t=>{if(e.apply(this,[t]),this.enabled)return this.enabled=!1,$(\".PennController-\"+this.type+\"-palette-selected\").removeClass(\"PennController-\"+this.type+\"-palette-selected\"),$(\"#bod\").css(\"cursor\",\"default\"),this.currentColor=null,\"once\"}}e()},removeColor:function(e,t){let n=this.colors.indexOf(t);n>-1&&this.colors.splice(n,1),e()}},this.test={color:function(e,t){if(e._element&&e._element){let n=this.elements.map(e=>e[0]).indexOf(e._element);return!(n<0)&&this.elements[n][1]==t}return!1}}}))},function(e,t){window.PennController._AddElementType(\"Scale\",(function(e){function t(){this.jQueryElement.find(\"input\").attr(\"disabled\",!0),this.jQueryElement.find(\"div,label\").css(\"cursor\",\"\"),this.disabled=!0}function n(){this.jQueryElement.find(\"input\").removeAttr(\"disabled\"),this.jQueryElement.find(\"div\").css(\"cursor\",\"pointer\"),this.disabled=!1}function r(e,t){if(\"slider\"==this.scaleType?this.jQueryElement.find(\"input[type=range]\")[0].value=e:this.jQueryElement.find(`input#${this.id}-${e}`).attr(\"checked\",!0).change(),t){let t=this.buttons[e];null!=t&&\"\"!=t||(t=e+1),this.choice(t)}}function i(){let e=this.defaultValue,t=this.orientation,n=this.scaleType;if(this.jQueryElement.empty(),\"slider\"==n){var r=$(\"<input>\").attr({type:\"range\",min:\"0\",max:String(this.buttons.length-1),value:String((this.buttons.length-1)/2),step:\"1\"});Number(e)>=0&&Number(e)<=this.buttons.length-1&&r.attr(\"value\",String(e)),this.disabled&&r.attr(\"disabled\",!0),r[0].oninput=()=>{this.firstClick||(this.firstClick=Date.now())},r[0].onchange=()=>this.choice(r[0].value),\"vertical\"==t&&(r.attr(\"orient\",\"vertical\"),r.css({\"writing-mode\":\"vertical-lr\",\"-webkit-appearance\":\"slider-vertical\"})),r.css({width:\"100%\",height:\"100%\"}),this.jQueryElement.append(r)}else{this.jQueryElement.css({display:\"inline-flex\",\"justify-content\":\"space-between\"});for(let t=0;t<this.buttons.length;t++){let r=this.buttons[t];null!=r&&\"\"!=r||(r=t+1);let i=$(\"<label>\").attr({for:this.id+\"-\"+t}).html(r).css(\"cursor\",\"pointer\"),s=$(\"<input>\").attr({name:this.id,value:r,type:\"checkbox\"==n?\"checkbox\":\"radio\",id:this.id+\"-\"+t}),o=$(\"<div>\").addClass(\"option\").css({cursor:\"pointer\",display:\"flex\",\"align-items\":\"center\"}).append(s).append(i);r._runPromises&&r.print(i.empty())._runPromises(),e!=r&&e!=t||s.attr(\"checked\",!0),this.disabled&&s.attr(\"disabled\",!0),s[0].onchange=()=>{this.choice(this.buttons[t]||r,\"checkbox\"==n&&!s[0].checked),this.jQueryElement.find(\"label\").css(\"outline\",\"none\"),\"buttons\"==n&&i.css(\"outline\",\"dotted 1px black\")},\"buttons\"==n&&s.css(\"display\",\"none\"),\"top\"==this.labels?o.css(\"flex-direction\",\"column-reverse\"):\"bottom\"==this.labels?o.css(\"flex-direction\",\"column\"):\"left\"==this.labels&&o.css(\"flex-direction\",\"row-reverse\"),this.jQueryElement.append(o),\"radio\"==n&&!1===this.labels&&i.css(\"display\",\"none\")}\"vertical\"==t&&this.jQueryElement.css(\"flex-direction\",\"column\")}this.width||this.jQueryElement.css(\"max-width\",\"max-content\")}this.immediate=function(e,...t){t.length||(t=[e],void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Scale\")),this.id=e,\"string\"!=typeof t[0]&&Number(t[0])>0?this.initialButtons=new Array(Number(t[0])):this.initialButtons=t},this.uponCreation=function(t){this.jQueryElement=$(\"<div>\").css(\"display\",\"inline-block\"),this.choices=[],this.log=!1,this.labels=!1,this.disabled=!1,this.vertical=!1,this.scaleType=\"radio\",this.defaultValue=null,this.orientation=\"horizontal\",this.width=null,this.keys=[],this.buttons=this.initialButtons,this.choice=(e,t)=>{if(this.disabled)return;this.unselected=t||void 0,e&&e._runPromises&&(e=e._element.id);let n=null;\"slider\"==this.scaleType&&this.firstClick&&(n=Date.now()-this.firstClick,this.firstClick=void 0),this.choices.push([t?\"Unselect\":\"Choice\",e,Date.now(),n||\"NULL\"])},e.controllers.running.safeBind($(document),\"keydown\",e=>{if(!this.disabled)for(let t=0;t<this.keys.length;t++)if(String.fromCharCode(e.which)==this.keys[t])return r.apply(this,[t,!0])}),t()},this.end=function(){const t=this;if(this.log&&this.log instanceof Array)if(\"checkbox\"==this.scaleType&&this.jQueryElement.find(\"input[type=checkbox]\").each((function(n){e.controllers.running.save(t.type,t.id,t.buttons[n],this.checked?\"checked\":\"unchecked\",Date.now(),\"Status\")})),this.choices.length)if(1==this.choices.length)e.controllers.running.save(this.type,this.id,...this.choices[0]);else if(this.log.indexOf(\"all\")>-1)for(let t in this.choices)e.controllers.running.save(this.type,this.id,...this.choices[t]);else this.log.indexOf(\"first\")>-1&&e.controllers.running.save(this.type,this.id,...this.choices[0]),this.log.indexOf(\"last\")>-1&&e.controllers.running.save(this.type,this.id,...this.choices[this.choices.length-1]);else e.controllers.running.save(this.type,this.id,\"Choice\",\"NA\",\"Never\",\"No selection happened\")},this.value=function(){return this.choices.length&&void 0===this.unselected?this.choices[this.choices.length-1][1]:NaN},this.actions={print:function(t,...n){i.apply(this),e.elements.standardCommands.actions.print.apply(this,[t,...n])},select:function(t,n,i){for(var s=0;s<this.buttons.length;s++){let e=this.buttons[s];if(e&&e==n)break;if(e&&e._element&&e._element.id==n)break;if(s==n)break}if(s>=this.buttons.length)return t(e.debug.error(\"Option \"+n+\" not found for selection on Scale \"+this.id));r.apply(this,[s,i]),t()},unselect:function(e){if(\"slider\"==this.scaleType){let e=this.jQueryElement.find(\"input[type=range]\")[0];e.value=(e.max-e.min)/2}else this.jQueryElement.find(\"input\").removeAttr(\"checked\").change();this.unselected=!0,e()},wait:function(e,t){if(\"first\"==t&&this.choices.length)e();else{let n=!1,r=this.choice;this.choice=i=>{if(r.apply(this,[i]),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={button:function(e){this.scaleType=\"buttons\",i.apply(this),e()},callback:function(e,...t){let n=this.choice;this.choice=async function(e){let r=this.disabled;if(n.apply(this,[e]),!r)for(let e in t)await t[e]._runPromises()},e()},checkbox:function(e){this.scaleType=\"checkbox\",i.apply(this),e()},default:function(t,n){this.buttons.indexOf(n)>-1||Number(n)>=0&&Number(n)<this.buttons.length?(this.defaultValue=n,n._element&&(n=n._element.id),this.choices.push([\"Default\",n,Date.now(),this.scaleType])):e.debug.error(\"Invalid default value for Scale \"+this.id,n),t()},disable:function(e){t.apply(this),this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},enable:function(e){n.apply(this),this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},horizontal:function(e){this.orientation=\"horizontal\",this.jQueryElement.parent().length&&i.apply(this),e()},keys:function(t,...n){if(n instanceof Array&&n.length==this.buttons.length){if(n.filter(e=>\"string\"==typeof e&&1==e.length).length!=n.length)return t(e.debug.error(\"Every key should be a string of length 1 in Scale \"+this.id,n));this.keys=n.map(e=>e.toUpperCase())}else this.buttons.filter(e=>\"string\"==typeof e&&1==e.length).length==this.buttons.length?this.keys=this.buttons.map(e=>e.toUpperCase()):this.keys=Array.from({length:this.buttons.length},(e,t)=>t+1);t()},label:function(e,t,n){if(isNaN(Number(t))||t<0||t>=this.buttons.length)return e();if(this.buttons[t]=n,this.jQueryElement.parent().length){let e=this.jQueryElement.find(\"label\");if(t<e.length){let r=$(e[t]);r.empty(),n._runPromises?n.print(r.empty())._runPromises():r.html(n)}}e()},labels:function(e,t){this.labels=t,e()},labelsPosition:function(e,t){this.labels=t,i.apply(this),e()},log:function(e,...t){t.length?this.log=t:this.log=[\"last\"],e()},once:function(e){if(this.hasClicked)t.apply(this);else{let e=this.choice;this.choice=n=>{e.apply(this,[n]),t.apply(this)}}e()},radio:function(e){this.scaleType=\"radio\",i.apply(this),e()},size:function(t,n,r){this.width=n,i.apply(this),e.elements.standardCommands.settings.size.apply(this,[t,n,r])},slider:function(e){this.scaleType=\"slider\",i.apply(this),e()},vertical:function(e){this.orientation=\"vertical\",this.jQueryElement.parent().length&&i.apply(this),e()}},this.test={selected:function(e){return!(!this.choices.length||this.unselected)&&(null==e||e==this.choices[this.choices.length-1][1])}}}))},function(e,t){window.PennController._AddElementType(\"Selector\",(function(e){async function t(t,...n){let r=[];if(n.length)for(let t in n){if(!(n[t]._element&&n[t]._element.jQueryElement instanceof jQuery)){e.debug.error(\"Invalid element #\"+t+\" in shuffling selector \"+this.id);continue}let i=this.elements.map(e=>e[0]).indexOf(n[t]._element);i<0?e.debug.error(\"Cannot shuffle element \"+n[t]._element.id+\" for it has not been added to selector \"+this.id):r.push(i)}else r=[...new Array(this.elements.length)].map((e,t)=>t);let i=[...r];fisherYates(i);const s=[],o=i.map(e=>{const t=this.elements[e][0],n=t._lastPrint;if(void 0===n[0]){const n=t.jQueryContainer;if(n instanceof jQuery&&n.parent().length){const t=$(\"<span>\");n.before(t),s[e]=t}}return n});console.log(\"lastprints\",o);for(let e=0;e<r.length;e++){let t=r[e],n=this.elements[t][0],a=o[e];if(console.log(\"reprinting\",n.id,\"from\",n._lastPrint,\"to\",o[e]),void 0===a)continue;await window.PennController.Elements[\"get\"+n.type](n.id).print(...o[e])._runPromises();const l=s[i[e]];l instanceof jQuery&&(l.before(n.jQueryContainer),l.remove())}const a=[...this.elements];r.map((e,t)=>this.elements[e]=a[i[t]]),t()}this.immediate=function(e){void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Selector\"),this.id=e},this.uponCreation=function(t){this.elements=[],this.selections=[],this.disabled=!1,this.frame=$(\"<div>\").css({position:\"absolute\",display:\"inline-block\",margin:\"auto\",outline:\"dotted 1px grey\",\"z-index\":100}).addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-selectionFrame\"),this.noClick=!1,this.select=t=>{if(!this.disabled){if(this.elements.map(e=>e[0]).indexOf(t)<0)return e.debug.error(\"Tried to select an element not part of Selector \"+this.id);this.selections.push([\"Selection\",t.id,Date.now(),this.elements.map(e=>e[0].id).join(\";\")]),this.frame.css({width:t.jQueryElement.outerWidth(),height:t.jQueryElement.outerHeight(),\"pointer-events\":\"none\"}),\"absolute\"==t.jQueryElement.css(\"position\")&&this.frame.css({left:t.jQueryElement.css(\"left\"),top:t.jQueryElement.css(\"top\")}),t.jQueryElement.before(this.frame),this.elements.map(e=>e[0].jQueryElement.removeClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-selected\")),t.jQueryElement.addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-selected\")}},e.events.keypress(e=>{if(!this.disabled)for(let t=0;t<this.elements.length;t++){let n=\"\";this.elements[t].length>1&&(n=this.elements[t][1]);let r=e.key.isSpecialKey(),i=e.key.toUpperCase(),s={0:\"\",1:\"LEFT\",2:\"RIGHT\"};if(r===n.replace(/^(Left|Right)/i,\"\").isSpecialKey()&&(n.toUpperCase()==i||n.toUpperCase()==s[e.location]+i))return this.select(this.elements[t][0])}}),t()},this.end=function(){if(this.select=()=>{},this.elements=[],this.frame&&this.frame instanceof jQuery&&this.frame.remove(),this.log&&this.log instanceof Array)if(this.selections.length)if(1==this.selections.length)e.controllers.running.save(this.type,this.id,...this.selections[0]);else if(this.log.indexOf(\"all\")>-1)for(let t in this.selections)e.controllers.running.save(this.type,this.id,...this.selections[t]);else this.log.indexOf(\"first\")>-1&&e.controllers.running.save(this.type,this.id,...this.selections[0]),this.log.indexOf(\"last\")>-1&&e.controllers.running.save(this.type,this.id,...this.selections[this.selections.length-1]);else e.controllers.running.save(this.type,this.id,\"Selection\",\"NA\",\"Never\",this.elements.map(e=>e[0].id).join(\";\")+\";No selection happened\")},this.value=function(){if(this.selections.length){let e=this.selections[this.selections.length-1][1],t=this.elements.filter(t=>t[0].id==e);return t.length?(t=t[0][0],window.PennController.Elements[\"get\"+t.type](t.id)):null}return null},this.actions={select:function(t,n){if(!isNaN(Number(n))&&Number(n)>=0&&Number(n)<this.elements.length&&(n={_element:this.elements[Number(n)][0]}),n._element&&n._element.jQueryElement instanceof jQuery){let e=this.disabled;this.disabled=!1,this.select(n._element),this.disabled=e}else e.debug.error(\"Invalid element passed to select command for selector \"+this.id);t()},shuffle:function(e,...n){t.apply(this,[e].concat(n))},unselect:function(e){this.selections.push([\"Unselect\",\"Unselect\",Date.now(),this.elements.map(e=>e[0].id).join(\";\")+\";From script\"]),this.frame.detach(),this.elements.map(e=>e[0].jQueryElement.removeClass(\"PennController-\"+this.type+\"-selected\")),e()},wait:function(e,t){if(\"first\"==t&&this.selections.length)e();else{let n=!1,r=this.select;this.select=i=>{let s=r.apply(this,[i]);if(!(n||this.disabled&&!s))if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={add:function(t,...n){for(w in n){let t=n[w]._element;if(null==t||null==t.id)e.debug.error(\"Invalid element added to selector \"+this.id);else if(this.elements.map(e=>e[0]).indexOf(t)>-1)e.debug.error(\"Element \"+t.id+\" already part of selector \"+this.id);else if(null!=t.jQueryElement&&t.jQueryElement instanceof jQuery){this.elements.push([t]);let e=()=>{this.noClick||t.jQueryElement.css(\"cursor\",\"pointer\");let e=t.jQueryElement[0].onclick;t.jQueryElement[0].onclick=(...n)=>{e instanceof Function&&e.apply(t.jQueryElement[0],n),this.noClick||this.select(t)}};t.jQueryElement.parent().length?e():t._printCallback.push(e)}else e.debug.error(\"Element \"+t.id+\" has no visble element to be chosen in selector \"+this.id)}t()},callback:function(e,...t){let n=this.select;this.select=async function(e){let r=this.disabled;if(n.apply(this,[e]),!r)for(let e in t)await t[e]._runPromises()},e()},disable:function(e){this.disabled=!0,this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"\")),this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},disableClicks:function(e){this.noClick=!0,this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"\")),e()},enable:function(e){this.disabled=!1,this.noClick||this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"pointer\")),this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.removeClass(\"PennController-disabled\"),e()},enableClicks:function(e){this.noClick=!1,this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"pointer\")),e()},frame:function(e,t){this.frame.css.apply(this.frame,[\"outline\",t]),e()},keys:function(e,...t){for(let e=0;e<t.length;e++){let n=t[e];if(e>=this.elements.length)break;\"string\"!=typeof n&&Number(n)>0&&(n=String.fromCharCode(n)),this.elements[e]=[this.elements[e][0],n]}e()},log:function(e,...t){t.length?this.log=t:this.log=[\"last\"],e()},once:function(e){if(this.selections.length)this.disabled=!0,this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"\"));else{let e=this.select;this.select=t=>{if(e.apply(this,[t]),!this.disabled)return this.disabled=!0,this.elements.map(e=>e[0].jQueryElement.css(\"cursor\",\"\")),\"once\"}}e()},shuffle:function(e,...n){t.apply(this,[e].concat(n))}},this.test={selected:function(t){if(0===this.selections.length)return!1;let n=this.selections[this.selections.length-1][1];return null==t?this.selections.length>0:\"string\"==typeof t?t==n:t._element?t._element.id==n:(e.debug.error(\"Invalid element tested for Selector \"+this.id,t._element.id),!1)},index:function(t,n){return null==t||null==t._element?e.debug.error(\"Invalid element tested for selector \"+this.id,t._element.id):Number(n)>=0?this.elements.map(e=>e[0]).indexOf(t._element)==Number(n):this.elements.map(e=>e[0]).indexOf(t._element)>=0}}})),window.PennController._AddStandardCommands((function(e){this.settings={selector:async function(t,n){var r;if(\"string\"==typeof n){let t=e.controllers.running.options.elements;if(!t.hasOwnProperty(\"Selector\")||!t.Selector.hasOwnProperty(n))return e.debug.error(\"No selector found named \"+n);r=t.Selector[n]}else n._element&&n._runPromises&&(\"Selector\"==n._element.type?(await n._runPromises(),r=n._element):e.debug.error(\"Tried to add \"+this.name+\" to an invalid Selector\"));if(r.elements.map(e=>e[0]).indexOf(this)>-1)e.debug.error(\"Element \"+this.id+\" already part of Selector \"+r.id);else if(null!=this.jQueryElement&&this.jQueryElement instanceof jQuery){r.elements.push([this]),this.noClick||this.jQueryElement.css(\"cursor\",\"pointer\");let e=this.jQueryElement[0].onclick;this.jQueryElement[0].onclick=(...t)=>{e instanceof Function&&e.apply(this.jQueryElement[0],t),r.noClick||r.select(this)}}else e.debug.error(\"Element \"+this.id+\" has no visble element to be chosen in Selector \"+r.id);t()}}}))},function(e,t){window.PennController._AddElementType(\"Text\",(function(e){this.immediate=function(e,t){void 0===t&&(t=e),this.id=e,t=t.replace(/(^\\s|\\s$)/,\"&nbsp;\"),this.initialText=t,this.text=t},this.uponCreation=function(e){this.jQueryElement=$(\"<span>\"+this.initialText+\"</span>\").css(\"display\",\"inline-block\"),e()},this.value=function(){return this.text},this.end=function(){this.log&&(this.printTime?e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",this.printTime,\"NULL\"):e.controllers.running.save(this.type,this.id,\"Print\",\"NA\",\"Never\",\"NULL\"))},this.actions={unfold:function(t,n){let r=()=>{let e=Number(n);if(e>0){let t=Date.now();this.jQueryElement.css(\"visibility\",\"visible\");let n=this.jQueryElement.width(),r=$(\"<div>\").css({display:\"inline-block\",\"overflow-x\":\"hidden\",width:0,margin:0,padding:0,\"white-space\":\"nowrap\"});r=this.jQueryElement.wrap(r).parent();let i=0,s=()=>{let o=(Date.now()-t)/e;o>=1&&(o=1);let a=Math.round(n*o);a>i&&r.width(a),i=a,o<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}};this.jQueryContainer instanceof jQuery&&this.jQueryContainer.parent().length?r():e.elements.standardCommands.actions.print.call(this,r),t()}},this.settings={text:function(e,t){this.text=t,this.jQueryElement.html(t),e()}},this.test={text:function(e){return e instanceof RegExp?this.text.match(e):e==this.text}}}))},function(e,t){window.PennController._AddElementType(\"TextInput\",(function(e){this.immediate=function(e,t){void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"TextInput\"),this.initialText=t,this.id=e},this.uponCreation=function(e){this.text=this.initialText,this.jQueryElement=$(\"<textarea>\"),this.jQueryElement.attr({name:this.id,rows:1,cols:40}).val(this.text),this.rows=1,this.disabled=!1,this.log=[],this.types=[],this.validations=[],this.entered=!1,this.pressEnter=()=>{this.entered=!0,this.validations.push([\"EnterReturn\",this.jQueryElement.val(),Date.now(),\"NULL\"])},this.jQueryElement[0].addEventListener(\"keydown\",e=>{let t=this.jQueryElement.val();if(this.types.push([\"Type\",t,Date.now(),e.key]),\"Enter\"==e.key)if(this.pressEnter(),1==this.rows)e.preventDefault();else if(this.rows>1){let n=t.match(/[\\r\\n]/g);n instanceof Array&&n.length+1>=this.rows&&e.preventDefault()}}),this.jQueryElement[0].addEventListener(\"keypress\",e=>{if(\"Enter\"==e.key&&this.rows>0){let t=this.jQueryElement.val().match(/[\\r\\n]/g);t instanceof Array&&t.length+1>=this.rows&&e.preventDefault()}e.key.isSpecialKey()||this.length!=this.jQueryElement.val().length||e.preventDefault()}),this.jQueryElement[0].addEventListener(\"keyup\",e=>{let t=this.jQueryElement.val();this.length&&t.length>this.length&&this.jQueryElement.val(t.substr(0,this.length));let n=t.match(/[\\r\\n]/g);if(this.rows>0&&n instanceof Array&&n.length>=this.rows+1){let e=\"([\\\\n\\\\r]?[^\\\\n\\\\r]*){\"+this.rows+\"}\";this.jQueryElement.val(t.match(RegExp(e))[0])}}),this.jQueryElement[0].addEventListener(\"paste\",e=>{let t=this.jQueryElement.val(),n=(e.clipboardData||window.clipboardData).getData(\"Text\"),r=this.jQueryElement[0].selectionStart,i=t.substring(0,r)+n+t.substring(this.jQueryElement[0].selectionEnd,t.length),s=i.match(/[\\r\\n]/g);if(this.rows>0&&s instanceof Array&&s.length>=this.rows){let t=\"([\\\\n\\\\r]?[^\\\\n\\\\r]*){\"+this.rows+\"}\";i=i.match(RegExp(t))[0],this.jQueryElement.val(i),e.preventDefault()}this.length>0&&i.length>=this.length&&(this.jQueryElement.val(i.substring(0,this.length)),e.preventDefault())}),e()},this.end=function(){if(this.log&&this.log instanceof Array)if(this.log.indexOf(\"all\")>-1){let t=Date.now();if(e.controllers.running.save(this.type,this.id,\"Final\",csv_url_encode(this.jQueryElement.val()),t,\"All saved, see documentation\"),this.types.length){e.controllers.running.save(this.type,this.id,\"NTypingEvents\",this.types.length,t,\"All saved, see documentation\");let n=[],r=[],i=[];this.types.map(e=>{n.push(csv_url_encode(e[1])),r.push(e[2]),i.push(e[3])}),e.controllers.running.save(this.type,this.id,\"TypingEvent\",\"Keys\",\"NULL\",...i),e.controllers.running.save(this.type,this.id,\"TypingEvent\",\"Texts\",\"NULL\",...n),e.controllers.running.save(this.type,this.id,\"TypingEvent\",\"Times\",\"NULL\",...r)}for(let t in this.validations)this.validations[t][1]=csv_url_encode(this.validations[t][1]),e.controllers.running.save(this.type,this.id,...this.validations[t])}else{if(this.log.indexOf(\"validate\")>-1)for(let t in this.validations)this.validations[t][1]=csv_url_encode(this.validations[t][1]),e.controllers.running.save(this.type,this.id,...this.validations[t]);if(this.log.indexOf(\"final\")>-1&&e.controllers.running.save(this.type,this.id,\"Final\",csv_url_encode(this.jQueryElement.val()),Date.now(),\"NULL\"),this.log.indexOf(\"first\")>-1&&this.types.length){let t=[].concat(this.types[0]);t[0]=\"First\",t[1]=csv_url_encode(t[1]),e.controllers.running.save(this.type,this.id,...t)}if(this.log.indexOf(\"last\")>-1&&this.types.length){let t=[].concat(this.types[this.types.length-1]);t[0]=\"Last\",t[1]=csv_url_encode(t[1]),e.controllers.running.save(this.type,this.id,...t)}}},this.value=function(){return this.jQueryElement.val()},this.actions={print:function(t,...n){e.elements.standardCommands.actions.print.apply(this,[()=>{this.jQueryElement.focus(),t()},...n])},wait:function(e,t){if(\"first\"==t&&this.entered)e();else{let n=!1,r=this.pressEnter;this.pressEnter=()=>{if(r.apply(this),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={length:function(e,t){this.length=Number(t),isNaN(this.length)&&(this.length=0),e()},lines:function(e,t){this.rows=Number(t),isNaN(this.rows)&&(this.rows=0),this.jQueryElement.attr(\"rows\",this.rows),e()},log:function(t,...n){n.length||(n=[\"final\",\"validate\",\"first\"]),this.log=n,n.indexOf(\"all\")>-1&&e.debug.log(\"<div style='color:red;'>Now logging all typing events in inputText element \"+this.id+\": this can drastically increase the weight of the results file</div>\"),t()},once:function(e){if(this.entered)this.jQueryElement.attr(\"disabled\",!0);else{let e=this.pressEnter;this.pressEnter=function(){e.apply(this),this.jQueryElement.attr(\"disabled\",!0)}}e()},text:function(e,t){this.text=t,this.jQueryElement.val(t),e()}},this.test={text:function(e){return e instanceof RegExp?this.jQueryElement.val().match(e):this.jQueryElement.val()==e}}}))},function(e,t){window.PennController._AddElementType(\"Timer\",(function(e){this.immediate=function(t,n){void 0===n&&Number(t)>0&&(n=t,void 0!==t&&\"string\"==typeof t&&0!=t.length||(t=\"Timer\")),this.id=t,this.initialDuration=0,Number(n)>0?this.initialDuration=Number(n):e.debug.error(\"Invalid duration for Timer &quot;\"+t+\"&quot;\")},this.uponCreation=function(e){this.elapsed=!1,this.events=[],this.log=!1,this.running=!1,this.duration=this.initialDuration,this.start=()=>{this.startTime=Date.now(),this.running=!0,this.events.push([\"Start\",\"Start\",this.startTime,\"NULL\"]);let e=()=>{this.running&&(Date.now()-this.startTime>=this.duration?this.done():setTimeout(e,0))};e()},this.done=()=>{this.running=!1,this.events.push([\"End\",\"End\",Date.now(),\"NULL\"]),this.elapsed=!0,this.startTime=null},e()},this.end=function(){if(this.running&&(this.running=!1,this.events.push([\"End\",\"NA\",\"Never\",\"Had to halt the timer at the end of the trial\"])),this.log)for(let t in this.events)e.controllers.running.save(this.type,this.id,...this.events[t])},this.value=function(){return this.elapsed},this.actions={pause:function(e){this.running&&(this.running=!1,this.pausedTimestamp=Date.now(),this.events.push([\"Pause\",\"Pause\",this.pausedTimestamp,\"NULL\"])),e()},resume:function(e){if(!this.running&&this.pausedTimestamp){this.resumedTimestamp=Date.now();const e=this.resumedTimestamp-this.pausedTimestamp,t=this.startTime+e;this.events.push([\"Resume\",\"Resume\",this.resumedTimestamp,\"NULL\"]),this.start(),this.startTime=t}e()},set:function(t,n){const r=Number(n);isNaN(r)||r<0?e.debug.error(`Invalid duration passed for timer ${this.id} (&quot;${n}&quot;)`):this.duration=r,t()},start:function(e){this.start(),e()},stop:function(e){this.running&&this.done(),e()},wait:function(e,t){if(\"first\"==t&&this.elapsed)e();else{let n=!1,r=this.done;this.done=()=>{r.apply(this),n||(t instanceof Object&&t._runPromises&&t.success?t._runPromises().then(t=>{\"success\"==t&&(n=!0,e())}):(n=!0,e()))}}}},this.settings={callback:function(e,...t){let n=this.done;this.done=async function(){n.apply(this);for(let e in t)await t[e]._runPromises()},e()},log:function(e){this.log=!0,e()}},this.test={ended:function(){return this.elapsed},running:function(){return this.running}}}))},function(e,t){window.PennController._AddElementType(\"Tooltip\",(function(e){function t(){this.jQueryElement.remove(),console.log(\"element removed\"),this.jQueryContainer instanceof jQuery&&this.jQueryContainer.detach(),console.log(\"container detached\"),this.frame&&this.frame instanceof jQuery&&this.frame.detach()}this.immediate=function(e,t,n){void 0===t&&(t=e),this.initialText=t,this.initialLabel=n,void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Tooltip\"),this.id=e},this.uponCreation=function(e){this.text=this.initialText,\"string\"==typeof this.initialLabel&&this.initialLabel.length?this.label=this.initialLabel:this.label=\"OK\",this.resetLabel=!1,this.jQueryElement=$(\"<div>\").html(this.text),this.jQueryContainer=void 0,this.jQueryLabel=$(\"<a>\").html(this.label),this.validations=[],this.frame=$(\"<div>\").addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-tooltip-frame\"),this.jQueryElement.addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-tooltip\"),this.jQueryElement.addClass(\"PennController-\"+this.id.replace(/[\\s_]/g,\"\")),this.jQueryElement.css({background:\"floralwhite\",position:\"relative\"}),this.jQueryLabel.css({border:\"dotted 1px gray\",cursor:\"pointer\",position:\"absolute\",bottom:\"2px\",right:\"2px\"}),this.wasValidated=!1,this.disabled=!1,this.log=!1,this.validate=()=>{this.delayedPrinting||this.disabled||(this.wasValidated=!0,this.validations.push([\"Validate\",\"Validate\",Date.now(),\"NULL\"]),t.apply(this))},e()},this.end=function(){if(this.jQueryElement&&this.jQueryElement instanceof jQuery&&t.apply(this),this.log)for(let t in this.validations)e.controllers.running.save(this.type,this.id,...this.validations[t])},this.value=function(){return this.wasValidated},this.actions={print:async function(t,n,...r){if(n&&n.hasOwnProperty(\"_element\")&&n._element.jQueryElement instanceof jQuery&&(n=n._element.jQueryElement),this.jQueryElement.append(this.jQueryLabel),this.jQueryLabel.click(()=>{this.noClicks||this.validate()}),this.jQueryElement.css(\"text-align\",\"left\"),n instanceof jQuery){n.before(this.jQueryElement);let e=n.width(),r=n.height();this.jQueryElement.css({position:\"absolute\",display:\"inline-block\",visibility:\"hidden\",overflow:\"auto\",top:\"auto\",left:\"auto\",\"margin-top\":1+r,\"margin-left\":1+e,\"z-index\":9999,padding:\"1px\"}),this.frameParent&&n.before(this.frame.css({position:\"absolute\",display:\"inline-block\",width:e,height:r,border:this.frameParent,\"z-index\":100,\"pointer-events\":\"none\"}));let i=n.css(\"top\"),s=n.css(\"left\");if(\"0px\"==i&&(i=\"auto\"),\"0px\"==s&&(s=\"auto\"),this.jQueryElement.css({left:s,top:i}),this.frame.css({left:s,top:i}),this.jQueryElement.addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")),\"none\"!=this.jQueryLabel.css(\"display\")&&this.jQueryElement.css(\"padding-bottom\",\"20px\"),this.relativePosition){let e=()=>this.relativePosition.match(/top/i)?-1*this.jQueryElement.outerHeight()-1:this.relativePosition.match(/middle/i)?.5*(n.height()-this.jQueryElement.outerHeight()):n.height()+1,r=()=>this.relativePosition.match(/left/i)?-1*this.jQueryElement.outerWidth()-1:this.relativePosition.match(/center/i)?.5*(n.width()-this.jQueryElement.outerWidth()):n.width()+1;this.delayedPrinting=!0,setTimeout(()=>{this.jQueryElement.css({\"margin-top\":e(),\"margin-left\":r()}),setTimeout(()=>{this.jQueryElement.css({\"margin-top\":e(),\"margin-left\":r(),visibility:\"visible\"}),this.delayedPrinting=!1,t()})})}else this.jQueryElement.css(\"visibility\",\"visible\"),t()}else r.length>1?this.jQueryContainer=void 0:this.jQueryContainer=$(\"<div>\"),await new Promise(t=>e.elements.standardCommands.actions.print.apply(this,[t,n,...r])),this.jQueryElement.css({position:\"relative\",left:\"\",top:\"\",margin:0,display:\"inline-block\"}),\"none\"!=this.jQueryLabel.css(\"display\")&&this.jQueryElement.css(\"padding-bottom\",\"20px\"),t()},remove:function(e){t.apply(this),e()},wait:function(e,t){if(\"first\"==t&&this.wasValidated)e();else{let n=!1,r=this.validate;this.validate=()=>{if(r.apply(this),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={disable:function(e){this.disabled=!0,this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},enable:function(e){this.disabled=!1,this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.removeClass(\"PennController-disabled\"),e()},frame:function(e,t){\"string\"==typeof t&&t.length?this.frameParent=t:this.frameParent=\"dotted 1px gray\",e()},key:function(t,n,r){\" \"==n||isNaN(Number(n))||(n=String.fromCharCode(n)),\"string\"!=typeof n&&t(e.debug.error(\"Invalid key(s) passed to Tooltip &quot;\"+id+\"&quot; (should be a string or a key code number)\",n)),n=n.toUpperCase(),e.events.keypress(e=>{if(!this.jQueryElement.parent().length)return;let t=e.key.isSpecialKey(),r=e.key.toUpperCase();(void 0===n||0==n.length||t&&(n==r||n=={0:\"\",1:\"LEFT\",2:\"RIGHT\"}[e.location]+r)||!t&&n.indexOf(r)>-1)&&this.validate()}),r&&(this.noClicks=!0,this.jQueryLabel.css(\"cursor\",\"\"),this.initialLabel||this.resetLabel||this.jQueryLabel.css(\"display\",\"none\")),t()},label:function(e,t){this.label=t,this.resetLabel=!0,\"string\"!=typeof t||t.match(/^[\\s\\t]*$/)?this.jQueryLabel.css(\"display\",\"none\"):(this.jQueryLabel.html(t),this.jQueryLabel.css(\"display\",\"inherit\")),e()},log:function(e){this.log=!0,e()},position:function(e,t){this.relativePosition=t,e()},text:function(e,t){this.text=t,this.jQueryElement.html(t),this.jQueryElement.append(this.jQueryLabel),this.jQueryLabel.click(()=>{this.noClicks||this.validate()}),\"none\"!=this.jQueryLabel.css(\"display\")&&this.jQueryElement.css(\"padding-bottom\",\"20px\"),e()}}}))},function(e,t){!function(){var e=null;let t=window.PennController.ResetPrefix;window.PennController.ResetPrefix=function(n){t(n),e=\"string\"==typeof n?window[n]:window};let n={};window.PennController._AddElementType(\"Var\",(function(t){this.immediate=function(r,i){(t=>{let n=window.PennController.Elements.getVar;window.PennController.Elements.getVar=function(e){let r=t.controllers.underConstruction;if(t.controllers.running&&(r=t.controllers.list[t.controllers.running.id]),r.elements.hasOwnProperty(\"Var\")&&r.elements.Var.hasOwnProperty(e))return n(e);{let t=window.PennController.Elements.newVar(e).settings.global();return t._element.scope=\"global\",t}},e&&(e.getVar=window.PennController.Elements.getVar)})(t);let s=t.controllers.underConstruction;if(t.controllers.running&&(s=t.controllers.list[t.controllers.running.id]),s.elements.hasOwnProperty(\"Var\")&&s.elements.Var.hasOwnProperty(r)){\"global\"==s.elements.Var[r].scope&&delete s.elements.Var[r]}this.scope=\"local\",this.initialValue=i,this._value=i,this.getter=()=>\"local\"==this.scope?this._value:n[this.id],this.setter=e=>{\"local\"==this.scope?this._value=e:n[this.id]=e},Object.defineProperty(this,\"value\",{get:this.getter,set:this.setter}),this.evaluate=()=>this.value&&\"Var\"===this.value.type?this.value.evaluate():this.value},this.uponCreation=function(e){this.scope=\"local\",this.value=this.initialValue,this.values=[],e()},this.end=function(){if(this.log&&this.log instanceof Array&&(this.log.indexOf(\"final\")>-1&&t.controllers.running.save(this.type,this.id,\"Final\",this.value,Date.now(),\"Value at the end of the trial\"),this.log.indexOf(\"set\")>-1)){for(let e in this.values)t.controllers.running.save(this.type,this.id,...this.values[e]);this.values.length||t.controllers.running.save(this.type,this.id,\"Set\",\"NA\",\"Never\",\"The Var element was never set during the trial\")}},this.value=function(){return this.evaluate()},this.actions={set:function(e,t){\"object\"==typeof t&&t.hasOwnProperty(\"value\")?this.value=t.value:this.value=t instanceof Function?t.call(this,this.value):t,void 0===this.values&&(this.values=[]),this.values.push([\"Set\",this.value,Date.now(),\"NULL\"]),e()}},this.settings={local:function(e){this.scope=\"local\",e()},log:function(e,...t){t.length?this.log=t:this.log=[\"final\"],e()},global:function(e){n.hasOwnProperty(this.id)||(n[this.id]=this.value),this.scope=\"global\",e()}},this.test={is:function(e){let t=this.evaluate();return e&&e.value&&(e=e.value),e&&e._element&&(e=e._element),t&&t._element&&(t=t._element),e instanceof RegExp&&\"text\"==typeof t?t.match(e):e instanceof Function?e(t):t==e}}})),window.PennController._AddStandardCommands((function(e){this.actions={setVar:function(t,r){if(\"string\"==typeof r){if(!e.controllers.running.options.elements.hasOwnProperty(\"Var\"))return e.debug.error(\"No Var element named \"+r+\" found\");let t=e.controllers.running.options.elements.Var[r];if(t)t.value=window.PennController.Elements[\"get\"+this.type](this).value;else{if(!n[r])return e.debug.error(\"No Var element named \"+r+\" found\");n[r].value=window.PennController.Elements[\"get\"+this.type](this).value}}else e.debug.error(\"Invalid variable reference when trying to store \"+this.id+\"'s value\",r);t()}}}))}()},function(e,t){window.PennController._AddElementType(\"Video\",(function(e){this.immediate=function(t,n){\"string\"==typeof t&&void 0===n&&(n=t);let r=!n.match(/^http/i);this.resource=e.resources.fetch(n,(function(e){this.object=document.createElement(\"video\"),this.object.src=this.value,this.object.preload=!0,this.object.load(),this.object.readyState>3?e():this.object.addEventListener(\"canplaythrough\",e)}),r),void 0!==t&&\"string\"==typeof t&&0!=t.length||(t=\"Video\"),this.id=t},this.uponCreation=function(e){this.resource.object.controls=!0,this.video=this.resource.object,this.hasPlayed=!1,this.disabled=!1,this.resource.object.style=null,this.resource.object.currentTime=0,this.jQueryElement=$(this.video),this.jQueryElement.removeClass(),this.jQueryDisable=null,this.playEvents=[],this.endEvents=[],this.pauseEvents=[],this.seekEvents=[],this.bufferEvents=[],this.whatToSave=[],this.resource.object.onplay=()=>{this.playEvents.push([\"play\",this.video.currentTime,Date.now()])},this.resource.object.onended=()=>{this.hasPlayed=!0,this.endEvents.push([\"end\",this.video.currentTime,Date.now()])},this.resource.object.onpause=()=>{this.pauseEvents.push([\"pause\",this.video.currentTime,Date.now()])},this.resource.object.onseeked=()=>{this.seekEvents.push([\"seek\",this.video.currentTime,Date.now()])},this.resource.object.onwaiting=()=>{this.bufferEvents.push([\"buffer\",this.video.currentTime,Date.now()])},this.printDisable=e=>{e=Number(e)||.5,this.jQueryDisable instanceof jQuery&&this.jQueryDisable.remove(),this.jQueryDisable=$(\"<div>\").css({position:\"absolute\",display:\"inline-block\",\"background-color\":\"gray\",opacity:e,width:this.jQueryElement.width(),height:this.jQueryElement.height()}),this.jQueryElement.before(this.jQueryDisable),this.jQueryElement.removeAttr(\"controls\")},e()},this.end=function(){if(this.whatToSave&&this.whatToSave.indexOf(\"play\")>-1){this.playEvents.length||e.controllers.running.save(this.type,this.id,\"play\",\"NA\",\"Never\");for(let t in this.playEvents)e.controllers.running.save(this.type,this.id,...this.playEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"end\")>-1){this.endEvents.length||e.controllers.running.save(this.type,this.id,\"end\",\"NA\",\"Never\");for(let t in this.endEvents)e.controllers.running.save(this.type,this.id,...this.endEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"pause\")>-1){this.pauseEvents.length||e.controllers.running.save(this.type,this.id,\"pause\",\"NA\",\"Never\");for(let t in this.pauseEvents)e.controllers.running.save(this.type,this.id,...this.pauseEvents[t])}if(this.whatToSave&&this.whatToSave.indexOf(\"seek\")>-1){this.seekEvents.length||e.controllers.running.save(this.type,this.id,\"seek\",\"NA\",\"Never\");for(let t in this.seekEvents)e.controllers.running.save(this.type,this.id,...this.seekEvents[t])}if(this.bufferEvents)for(let t in this.bufferEvents)e.controllers.running.save(this.type,this.id,...this.bufferEvents[t]);this.jQueryDisable&&this.jQueryDisable.remove()},this.value=function(){return this.endEvents.length?this.endEvents[this.endEvents.length-1][2]:0},this.actions={play:function(t){this.hasOwnProperty(\"video\")&&this.video.nodeName&&\"VIDEO\"==this.video.nodeName?this.video.play():e.debug.error(\"No video to play for Video \",this.id),t()},pause:function(e){this.video.pause(),e()},print:function(t,...n){e.elements.standardCommands.actions.print.apply(this,[()=>{this.disabled&&this.printDisable(this.disabled),t()},...n])},stop:function(e){this.video.pause(),this.video.currentTime=0,e()},wait:function(e,t){if(\"first\"==t&&this.hasPlayed)e();else{let n=!1,r=this.video.onended;this.video.onended=function(...i){if(r.apply(this,i),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={disable:function(e,t){this.printDisable(t),this.disabled=t||!0,this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},enable:function(e){this.jQueryDisable instanceof jQuery&&(this.disabled=!1,this.jQueryDisable.remove(),this.jQueryDisable=null,this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),this.jQueryElement.attr(\"controls\",!0)),e()},once:function(e){if(this.hasPlayed)this.disabled=!0,this.printDisable();else{let e=this.video.onended,t=this;this.video.onended=function(...n){e.apply(this,n),t.disabled=!0,t.printDisable()}}e()},log:function(e,...t){1==t.length&&\"string\"==typeof t[0]?this.whatToSave.push(t):t.length>1?this.whatToSave=this.whatToSave.concat(t):this.whatToSave=[\"play\",\"end\",\"pause\",\"seek\"],e()}},this.test={hasPlayed:function(){return this.hasPlayed},playing:function(){return this.video.currentTime&&!this.video.paused}}}))},function(e,t){window.PennController._AddElementType(\"MediaRecorder\",(function(e){let t,n,r=\"This experiment collects recording samples from its participants. Your browser should now be prompting a permission request to use your recording device (if applicable). By giving your authorization to record, and by participating in this experiment, you are giving permission to the designer(s) of this experiment to anonymously collect the samples recorded during this experiment. The recordings will be uploaded to, and hosted on, a server designated by the experimenter(s). If you accept the request, a label will remain visible at the top of this window throughout the whole experiment, indicating whether you are currently being recorded.\",i=\"By clicking this link I understand that I grant this experiment's script access to my recording device for the purpose of uploading recordings to the server designated by the experimenter(s).\",s=e=>r=e,o={audio:null,video:null,onlyvideo:null},a=[],l=\"\",u=!1,c=[],h=[],d=[],f=[],p=!1,m=!1;const g={audio:{\"audio/webm\":\"webm\",\"audio/ogg\":\"ogg\"},video:{\"video/webm\":\"webm\",\"video/mp4\":\"mp4\"}};function y(e){const t=g[e];for(let e in t)if(MediaRecorder.isTypeSupported(e))return{mimeType:e,extension:t[e]}}window.PennController.InitiateRecorder=function(a,f,g){if(void 0===window.MediaRecorder)return e.debug.error(\"This browser does not support audio recording\"),alert(\"Your browser does not support audio recording\");\"string\"!=typeof a&&e.debug.error(\"MediaRecorder's save URL is incorrect\",a),l=a,u=!0;let v=e.controllers.new();v.id=\"InitiateRecorder\",v.runHeader=!1,v.runFooter=!1,e.controllers.list.pop(),e.tmpItems.push(v),\"string\"==typeof f&&f.length&&s(f),\"string\"==typeof g&&g.length&&s(g),v.sequence=()=>new Promise(s=>{let a=e.controllers.running;if(!navigator.mediaDevices)return a.element.append($(\"<p>Sorry, you cannot complete this experiment because your browser does not support recording.</p>\"));a.element.append($(\"<p>\"+r+\"</p>\"));let l={};p&&(l.audio=!0),m&&(l.video=!0);let u=[];navigator.mediaDevices.getUserMedia(l).then((function(e){if(p){let t=e;m&&(t=t.clone(),t.getVideoTracks().map(e=>t.removeTrack(e))),o.audio=new MediaRecorder(t,{mimeType:y(\"audio\").mimeType})}if(m){let t=e.clone();t.getAudioTracks().map(e=>t.removeTrack(e)),o.onlyvideo=t,o.video=new MediaRecorder(e,{mimeType:y(\"video\").mimeType})}[o.audio,o.video].map(e=>{null!==e&&(e.recording=!1,e.onstop=function(r){n.css({\"font-weight\":\"normal\",color:\"black\",\"background-color\":\"lightgray\"}),n.html(\"Not recording\");let i=y(t.mediaType).mimeType;t.mediaPlayer.srcObject=null,t.blob=new Blob(u,{type:i}),t.mediaPlayer.src=URL.createObjectURL(t.blob),u=[],h.length&&h.shift().call(),e.recording=!1},e.onstart=function(r){n.css({\"font-weight\":\"bold\",color:\"white\",\"background-color\":\"red\"}),n.html(\"Recording...\"),\"video\"==t.mediaType&&(t.mediaPlayer.srcObject=o.onlyvideo,t.mediaPlayer.play()),e.recording=!0,c.shift().call()},e.ondataavailable=function(e){u.push(e.data)})}),a.element.append($(\"<a>\"+i+\"</a>\").addClass(\"Message-continue-link\").click(s)),n=$(\"<div>Not recording</div>\"),n.css({position:\"fixed\",top:0,left:\"50%\",transform:\"translateX(-50%)\",padding:\"2px\",\"background-color\":\"lightgray\"}),$(\"#bod\").append(n)})).catch((function(e){a.element.append($(\"<p>The following error occurred: \"+e+\"</p>\"))}))});let b=v.log;return v.log=(...e)=>(d.push(e),b.apply(v,e),v),v.warning=e=>(s(e),v),v.consent=e=>((e=>{i=e})(e),v),e.ArgumentCallback(t=>{t==v&&(e.tmpItems=e.tmpItems.filter(e=>e!=v))}),e.NewTrialArgumentCallback(t=>{t==v&&(e.tmpItems=e.tmpItems.filter(e=>e!=v))}),v._runPromises=v.sequence,v},window.PennController.UploadRecordings=function(t,n){let r=e.controllers.new();e.tmpItems.push(r);const i=t=>{t==r&&(e.tmpItems=e.tmpItems.filter(e=>e!=r))};e.NewTrialArgumentCallback(i),e.ArgumentCallback(i),\"string\"==typeof t&&t.length&&(r.useLabel=t),r.id=\"UploadRecordings\",r.runHeader=!1,r.runFooter=!1,r.countsForProgressBar=!1,r.sequence=()=>new Promise((async function(t){let r=e.controllers.running;r.element.append($(\"<p>Please wait while the archive of your recordings is being uploaded to the server...</p>\"));let i=new e.utils.JSZip,s=[];n||await new Promise(e=>{let t=()=>setTimeout(()=>0==f.length&&e()||t(),10);t()});for(let e in a)\"uploaded\"!=a[e].uploadStatus&&(i.file(a[e].name,a[e].data),a[e].uploadStatus=\"uploading\",s.push(a[e]));let o={};f.push(o),i.generateAsync({compression:\"DEFLATE\",type:\"blob\"}).then((function(i){window.PennController.downloadRecordingsArchive=()=>e.utils.saveAs(i,\"RecordingsArchive.zip\");let a=e.utils.guidGenerator()+\".zip\";var u=new File([i],a);l.match(/^aws:/i)?e.debug.error(\"The 'aws:' prefix in InitiateRecorder is no longer supported\"):e.utils.upload(l,a,u,mimeType).then(r=>{a=r,e.controllers.running.save(\"PennController\",\"UploadRecordings\",\"Filename\",a,Date.now(),n?\"async\":\"NULL\"),e.controllers.running.save(\"PennController\",\"UploadRecordings\",\"Status\",\"Success\",Date.now(),n?\"async\":\"NULL\"),e.debug.log(\"Recordings sent to the server\");for(let e=0;e<s.length;e++)s[e].uploadStatus=\"uploaded\";n||t(),f=f.filter(e=>e!=o)}).catch(l=>{e.controllers.running.save(\"PennController\",\"UploadRecordings\",\"Filename\",a,Date.now(),n?\"async\":\"NULL\");for(let e=0;e<s.length;e++)s[e].uploadStatus=\"local\";window.PennController.UploadRecordingsError=l||\"error\",e.debug.error(\"MediaRecorder's Ajax post failed\",l),e.controllers.running.save(\"PennController\",\"UploadRecordings\",\"Status\",\"Failed\",Date.now(),\"Error Text: \"+l),r.element.append($(\"<p>There was an error uploading the recordings: \"+l+\"</p>\")).append($(\"<p>Please click here to download a copy of your recordings in case you need to send them manually.</p>\").bind(\"click\",()=>{e.utils.saveAs(i,\"RecordingsArchive.zip\"),n||t()}).addClass(\"Message-continue-link\")),f=f.filter(e=>e!=o)})})),n&&t()}));for(let e=0;e<d.length;e++)uploadzipController.log(...d[e]);return r._promises=[r.sequence],r._runPromises=r.sequence,r},e.Prerun(()=>{let t=window.conf_modifyRunningOrder;window.conf_modifyRunningOrder=function(n){if(t instanceof Function&&(n=t.apply(this,[n])),!u)return n;let r=!1,i=[-1,-1];for(let e=0;e<n.length;++e)for(let t=0;t<n[e].length;++t)\"PennController\"==n[e][t].controller&&\"UploadRecordings\"==n[e][t].options.id?(r=!0,i[0]>=0&&alert(\"WARNING: upload of recording archive set AFTER sending of results; check your Sequence definition.\")):\"__SendResults__\"==n[e][t].controller&&i[0]<0&&!r&&(i=[e,t]);let s=window.PennController.UploadRecordings();e.tmpItems.pop();let o=new DynamicElement(\"PennController\",s);return i[0]>=0?n[i[0]].splice(i[1],0,o):n.push([o]),n}}),this.immediate=function(e,t){void 0===e||\"string\"!=typeof e||0==e.length?e=\"MediaRecorder\":void 0===t&&(t=e),\"string\"!=typeof t||!t.match(/audio/)||t.match(/video/i)&&!t.match(/no\\W*video/i)?\"string\"==typeof t&&(t.match(/(only\\W*video|video\\W*only)/i)||t.match(/video/i)&&t.match(/no\\W*audio/))?(this.mediaType=\"video\",m=!0):(this.mediaType=\"video\",p=!0,m=!0):(this.mediaType=\"audio\",p=!0),this.id=e,Object.defineProperty(this,\"recorder\",{get:()=>o[this.mediaType]})},this.uponCreation=function(n){0==l.length&&e.debug.error(\"Recorder not initiated. Make sure the sequence of items contains an InitiateRecorder PennController.\"),this.log=!1,this.recordings=[],this.recording=!1,\"audio\"==this.mediaType?this.mediaPlayer=document.createElement(\"audio\"):\"video\"==this.mediaType&&(this.mediaPlayer=document.createElement(\"video\")),this.mediaPlayer.setAttribute(\"controls\",!0),this.mediaPlayer.onended=()=>this.hasPlayed=!0,this.videoFeedback=$(\"<div>\").css({position:\"absolute\"}),this.jQueryElement=$(\"<span>\").addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-ui\");let r=$(\"<button>Record</button>\").addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-record\");r.click(()=>{this.mediaPlayer.pause(),this.mediaPlayer.currentTime=0,this.recording?(this.stop(),this.recording=!1,r.text(\"Record\"),clearInterval(null)):(r.text(\"Stop\"),this.recording=!0,this.start())}),this.start=()=>new Promise(e=>{t=this,\"recording\"==this.recorder.state&&this.recorder.stop(),this.recording=!0,c.push(()=>{this.recordings.push([\"Recording\",\"Start\",Date.now(),\"NULL\"]),e()}),this.recorder.start(),r.text(\"Stop\")}),this.stop=()=>new Promise(e=>{this.recording=!1,t=this,h.push(()=>{this.recordings.push([\"Recording\",\"Stop\",Date.now(),\"NULL\"]),e()}),r.text(\"Record\"),\"recording\"==this.recorder.state?this.recorder.stop():e()}),this.jQueryElement.append($(this.mediaPlayer)).append(r),n()},this.end=async function(){if(t=this,this.recorder&&\"recording\"==this.recorder.state&&await new Promise(e=>{const t=this.recorder.onstop;this.recorder.onstop=function(...n){\"function\"==typeof t&&t.apply(this,n),e()},this.recorder.stop()}),this.blob){let t=y(this.mediaType).extension,n=this.id+\".\"+t,r=a.map(e=>e.name),i=0;for(;r.indexOf(n)>=0;)i++,n=this.id+\"-\"+i+\".\"+t;a.push({name:n,data:this.blob,uploadStatus:\"local\"}),e.controllers.running.save(this.type,this.id,\"Filename\",n,Date.now(),\"NULL\")}if(this.log)for(let t in this.recordings)e.controllers.running.save(this.type,this.id,...this.recordings[t])},this.value=function(){return this.blob},this.actions={play:function(e){this.mediaPlayer&&this.mediaPlayer.src?(this.mediaPlayer.currentTime&&0!=this.mediaPlayer.currentTime&&(this.mediaPlayer.currentTime=0),this.mediaPlayer.play().then(()=>e())):e()},record:async function(e){await this.start(),e()},stop:async function(e){await this.stop(),this.mediaPlayer&&this.mediaPlayer.src&&(this.mediaPlayer.pause(),this.mediaPlayer.currentTime&&0!=this.mediaPlayer.currentTime&&(this.mediaPlayer.currentTime=0)),e()},wait:function(e,t){if(t&&\"string\"==typeof t&&t.match(/first/i)&&this.recordings.length)e();else if(t&&\"string\"==typeof t&&t.match(/play/i)&&this.mediaPlayer){let t=this.mediaPlayer.onended;this.mediaPlayer.onended=function(...n){t instanceof Function&&t.apply(this,n),e()}}else{let n=!1,r=this.stop;this.stop=()=>new Promise(i=>{r.apply(this).then(()=>{if(i(),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"\"==this.disabled&&(this.disabled=r)})}else n=!0,e()})})}}},this.settings={disable:function(e){this.disabled=!0,this.jQueryElement.find(\"button.PennController-\"+this.type+\"-record\").attr(\"disabled\",!0).css(\"background-color\",\"brown\"),this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},enable:function(e){this.disabled=!1,this.jQueryElement.find(\"button.PennController-\"+this.type+\"-record\").removeAttr(\"disabled\").css(\"background-color\",\"red\"),this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.removeClass(\"PennController-disabled\"),e()},once:function(e){if(this.recordings.length)this.disabled=!0,this.jQueryElement.find(\"button.PennController-\"+this.type+\"-record\").attr(\"disabled\",!0).css(\"background-color\",\"brown\");else{let e=this.stop;this.stop=()=>new Promise(t=>{e instanceof Function?e.apply(this).then(t):t(),this.disabled=!0,this.jQueryElement.find(\"button.PennController-\"+this.type+\"-record\").attr(\"disabled\",!0).css(\"background-color\",\"brown\")})}e()},log:function(e){this.log=!0,e()}},this.test={hasPlayed:function(){return this.hasPlayed},playing:function(){return this.mediaPlayer.currentTime&&!this.mediaPlayer.paused},recorded:function(){return this.blob}}})),window.PennController.DownloadRecordingButton=function(e){return\"<button type=\\\"button\\\" onclick=\\\"if (PennController.hasOwnProperty('downloadRecordingsArchive'))  PennController.downloadRecordingsArchive();  else  alert('ERROR: could not find an archive for recordings');\\\">\"+e+\"</button>\"},window.PennController.DownloadVoiceButton=window.PennController.DownloadRecordingButton,window.PennController.Elements.newVoiceRecorder=e=>window.PennController.Elements.newMediaRecorder(e,\"audio\"),window.PennController.Elements.getVoiceRecorder=e=>window.PennController.Elements.getMediaRecorder(e)},function(e,t){window.PennController._AddElementType(\"Youtube\",(function(e){const t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;let n=[];$(document).ready((function(){let e=document.createElement(\"script\");e.src=\"https://www.youtube.com/iframe_api\";let t=document.getElementsByTagName(\"script\")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=function(){for(let e in n)n[e].call()}})),this.immediate=function(t,r,i){void 0===r&&\"string\"==typeof t&&(r=t),r&&\"string\"==typeof r||e.debug.error(\"Invalid code for Youtube element \"+t,r),i=i&&!i.match(/^\\W*no\\W*controls?\\W*$/i)?1:0,this.resource=e.resources.fetch(r,(function(t){let s=r+\"-\"+e.resources.list.length;this.ended=function(){},this.playing=function(){},this.paused=function(){},this.buffering=function(){};let o=!1,a=$(\"<iframe>\");a.attr({src:\"https://www.youtube-nocookie.com/embed/\"+r+\"?enablejsapi=1&controls=\"+i,id:s,frameborder:0}).bind(\"load\",()=>o=!0).css({display:\"none\",position:\"absolute\"}),$(document).ready(()=>$(document.body).append(a)),n.push(()=>{let e=!0,n=()=>this.player=new YT.Player(s,{playerVars:{controls:i},events:{onReady:e=>{a=e.target.cueVideoById(r),e.target.playVideo()},onStateChange:n=>{n.data!=YT.PlayerState.ENDED||e?n.data==YT.PlayerState.PLAYING?e?(n.target.pauseVideo(),n.target.seekTo(0),e=!1,t()):this.playing(n):n.data!=YT.PlayerState.PAUSED||e?n.data!=YT.PlayerState.BUFFERING||e||this.buffering(n):this.paused(n):this.ended(n)}}});o?n():a.bind(\"load\",n)}),this.object=a}),!1),this.id=t},this.uponCreation=function(e){this.iframe=this.resource.object,this.player=this.resource.player,this.log=!1,this.hasPlayed=!1,this.events=[],this.onplay=()=>this.events.push([\"Play\",this.player.getCurrentTime(),Date.now(),\"NULL\"]),this.onpause=()=>this.events.push([\"Pause\",this.player.getCurrentTime(),Date.now(),\"NULL\"]),this.onbuffer=()=>this.events.push([\"Buffer\",this.player.getCurrentTime(),Date.now(),\"NULL\"]),this.onend=()=>{this.hasPlayed=!0,this.events.push([\"End\",this.player.getCurrentTime(),Date.now(),\"NULL\"])};let t=this,n=this.resource.ended;this.resource.ended=function(e){n.apply(this,e),t.onend()};let r=this.resource.playing;this.resource.playing=function(e){r.apply(this,e),t.onplay()};let i=this.resource.paused;this.resource.paused=function(e){i.apply(this,e),t.onpause()};let s=this.resource.buffering;this.resource.buffering=function(e){s.apply(this,e),t.onbuffer()},this.jQueryElement=$(\"<div>\").css(\"display\",\"inline-block\"),this.visual={top:0,left:0,width:this.iframe.width(),height:this.iframe.height()},this.jQueryElement.css({width:this.visual.width,height:this.visual.height}),this.player.seekTo(0),this.disabled=!1,this.jQueryDisable=null,this.printDisable=()=>{this.jQueryDisable instanceof jQuery&&this.jQueryDisable.remove(),this.jQueryDisable=$(\"<div>\").css({position:\"absolute\",display:\"inline-block\",\"background-color\":\"gray\",opacity:.5,width:this.jQueryElement.width(),height:this.jQueryElement.height()}),this.jQueryElement.before(this.jQueryDisable),this.jQueryElement.addClass(\"PennController-\"+this.type.replace(/[\\s_]/g,\"\")+\"-disabled\")},e()},this.end=function(){if(this.observer&&this.observer instanceof t&&this.observer.disconnect(),this.player&&this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo(),this.iframe.css(\"display\",\"none\"),this.jQueryDisable&&this.jQueryDisable.remove(),this.log&&this.log instanceof Array)if(this.events.length)if(this.log.indexOf(\"all\")>-1)for(let t in this.events)e.controllers.running.save(this.type,this.id,...this.events[t]);else{if(this.log.indexOf(\"play\")>-1){let t=this.events.filter(e=>\"Play\"==e[0]);for(let n in t)e.controllers.running.save(this.type,this.id,...t[n])}if(this.log.indexOf(\"end\")>-1){let t=this.events.filter(e=>\"End\"==e[0]);for(let n in t)e.controllers.running.save(this.type,this.id,...t[n])}if(this.log.indexOf(\"pause\")>-1){let t=this.events.filter(e=>\"Pause\"==e[0]);for(let n in t)e.controllers.running.save(this.type,this.id,...t[n])}if(this.log.indexOf(\"buffer\")>-1){let t=this.events.filter(e=>\"Buffer\"==e[0]);for(let n in t)e.controllers.running.save(this.type,this.id,...t[n])}}else e.controllers.running.save(this.type,this.id,\"play\",\"NA\",\"Never\",\"The video was never played during the trial\")},this.value=function(){return this.hasPlayed},this.actions={play:function(e){this.player.playVideo(),e()},pause:function(e){this.player.pauseVideo(),e()},print:function(n,...r){e.elements.standardCommands.actions.print.apply(this,[()=>{let e=this.jQueryElement.offset();this.iframe.css({position:\"absolute\",left:e.left,top:e.top,display:\"inline-block\"}),this.observer=new t(()=>{if(this.jQueryElement[0].offsetParent&&$.contains(document.body,this.jQueryElement[0])){this.iframe.css(\"display\",this.jQueryElement.css(\"display\"));let e=this.jQueryElement.width(),t=this.jQueryElement.height();e==this.visual.width&&t==this.visual.height||(this.iframe.css({width:e,height:t}),this.visual.width=e,this.visual.height=t);let n=this.jQueryElement.offset();n.left==this.visual.left&&n.top==this.visual.top||(this.iframe.css({left:n.left,top:n.top}),this.visual.left=n.left,this.visual.top=n.top),this.observer.disconnect(),this.observer.observe(this.jQueryElement.parent()[0],{childList:!0,attributes:!0,subtree:!0})}else this.iframe.css(\"display\",\"none\")}),this.observer.observe(this.jQueryElement.parent()[0],{childList:!0,attributes:!0,subtree:!0}),this.disabled&&this.printDisable(),n()},...r])},remove:function(t){this.iframe.css(\"display\",\"none\"),e.elements.standardCommands.actions.remove.apply(this,[t])},stop:function(e){this.player.pauseVideo(),this.player.seekTo(0),e()},wait:function(e,t){if(\"first\"==t&&this.hasPlayed)e();else{let n=!1,r=this.onend;this.onend=function(...i){if(r.apply(this,i),!n)if(t instanceof Object&&t._runPromises&&t.success){let r=this.disabled;this.disabled=\"tmp\",t._runPromises().then(t=>{\"success\"==t&&(n=!0,e()),\"tmp\"==this.disabled&&(this.disabled=r)})}else n=!0,e()}}}},this.settings={disable:function(e){this.printDisable(),this.disabled=!0,this.jQueryContainer.addClass(\"PennController-disabled\"),this.jQueryElement.addClass(\"PennController-disabled\"),e()},enable:function(e){this.jQueryDisable instanceof jQuery&&(this.disabled=!1,this.jQueryDisable.remove(),this.jQueryDisable=null,this.jQueryContainer.removeClass(\"PennController-disabled\"),this.jQueryElement.removeClass(\"PennController-disabled\")),e()},once:function(e){if(this.hasPlayed)this.disabled=!0;else{let e=this.onend,t=this;this.onend=function(...n){e.apply(this,n),t.disabled=!0,t.printDisable()}}e()},log:function(e,...t){t.length?this.log=t:this.log=[\"play\"],e()},size:function(t,n,r){e.elements.standardCommands.settings.size.apply(this,[()=>{this.iframe.css({width:n,height:r}),this.visual.width=n,this.visual.height=r,t()},n,r])}},this.test={hasPlayed:function(){return this.hasPlayed},playing:function(){return 1==this.player.getPlayerState()}}}))},,function(e,t,n){\"use strict\";n.r(t);n(1),n(0),n(6),n(2),n(7),n(10),n(19),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44)}]);","extractedComments":[]}